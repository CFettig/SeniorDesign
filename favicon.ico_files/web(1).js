
            (function() {
            // payload delivery

            if (!window.celtra)
                window.celtra = {};
            if (!window.celtra.payloads)
                window.celtra.payloads = {};

            window.celtra.payloads["https://cache-ssl.celtra.com/api/creatives/962250ad/compiled/web.js?v=1-f26f1415ae&secure=1&cachedVariantChoices=W10-&isPurposePreview=0&eventMetadataExperiment=newMeta&inmobi=0"] = function(script, runtimeParams, trackers, urlOpenedOverrideUrls, storeOpenedOverrideUrls, macros, urlOpenedUrlAppendage, clickThroughDestinationUrl) {
                var iframe = document.createElement('iframe');
                iframe.style.display = 'none';
                iframe.setAttribute('frameborder', '0');
                iframe.setAttribute('scrolling', 'no');
                script.parentNode.appendChild(iframe);

                iframe.contentDocument.open();
                iframe.contentDocument.close();

                iframe.contentWindow.runtimeParams = runtimeParams;
                iframe.contentWindow.celtraDeviceInfoRuntimeParams = runtimeParams.deviceInfo;
                iframe.contentWindow.trackers = trackers;
                iframe.contentWindow.urlOpenedOverrideUrls = urlOpenedOverrideUrls;
                iframe.contentWindow.urlOpenedUrlAppendage = urlOpenedUrlAppendage;
                iframe.contentWindow.clickThroughDestinationUrl = clickThroughDestinationUrl;
                iframe.contentWindow.storeOpenedOverrideUrls = storeOpenedOverrideUrls;
                iframe.contentWindow.macros = macros;
                iframe.contentWindow.script = script;
                iframe.contentWindow.unitScript = "\n            (function() {\n                \/\/ Add head or body, if they do not yet exist\n                var html = document.documentElement;\n                var head = document.querySelector('head');\n                if (!head) {\n                    head = document.createElement('head');\n                    html.insertBefore(head, html.firstChild);\n                }\n                var body = document.querySelector('body');\n                if (!body) {\n                    body = document.createElement('body');\n                    html.appendChild(body);\n                }\n\n                \n            \/\/ Add CSS\n            var styles = document.createElement('style');\n            styles.textContent = \".transplanted-form-element-container input,\\n.transplanted-form-element-container textarea,\\n.transplanted-form-element {\\n    -webkit-user-select: text;\\n       -moz-user-select: text;\\n        -ms-user-select: text;\\n            user-select: text;\\n    text-align: center;\\n}\\n\\n.celtra-display-image-overlay {\\n    position: absolute;\\n    top: 0; right: 0; bottom: 0; left: 0;\\n    z-index: 30;\\n    background-repeat: no-repeat;\\n    background-position: center center;\\n    \/* background-color and background-image set in code *\/\\n}\\n\\n.celtra-display-image-overlay .celtra-back-button {\\n    position: absolute;\\n    top: 0;\\n    width: 30px; height: 30px;\\n    background: url('https:\/\/cache-ssl.celtra.com\/api\/static\/vf26f1415ae\/runner\/clazzes\/CreativeUnit\/back.png');\\n    background-size: 30px 60px;\\n}\\n\\n.celtra-display-image-overlay .celtra-back-button.left {\\n    left: 0;\\n}\\n\\n.celtra-display-image-overlay .celtra-back-button.right {\\n    right: 0;\\n}\\n\\n.celtra-display-image-overlay .celtra-back-button.touched {\\n    background-position: 0 100%;\\n}\\n\\n.celtra-fit-to-container {\\n    max-width: 100%;\\n    max-height: 100%;\\n}\\n\\n.celtra-center-content {\\n    width: 100%;\\n    height: 100%;\\n    text-align: center;\\n}\\n.celtra-center-content::before {\\n    content: '';\\n    display: inline-block;\\n    height: 100%;\\n    vertical-align: middle;\\n}\\n.celtra-center-content > * {\\n    vertical-align: middle;\\n}\\n\\n.celtra-creative-border {\\n    position: absolute;\\n    width: 100%;\\n    height: 100%;\\n    z-index: 20;\\n    border-style: solid;\\n    box-sizing: border-box;\\n    pointer-events: none;\\n}\\n\\n\/* Disables green outline on tapped objects on HTC phones running Android *\/\\n* {\\n    -webkit-tap-highlight-color : rgba(0,0,0,0);\\n    tap-highlight-color         : rgba(0,0,0,0);\\n}\\n\\n.celtra-creative-unit {\\n    font-family: Helvetica;\\n    font-size: 12pt;\\n\\n    position: relative; \/* so contained elements are positioned OK and 'overflow: hidden' works *\/\\n\\n    \/*\\n      z-indices:\\n        10 - screenHolder\\n        20 - placeboBar\\n        40 - alert\\n        30 - displayImageAction overlay\\n        100 - close button\\n    *\/\\n}\\n\\n.celtra-screen-holder {\\n    position: absolute; top: 0; left: 0; bottom: 0; right: 0;\\n    z-index: 10;\\n}\\n\\n.celtra-creative-unit, .celtra-creative-unit * {\\n    -webkit-text-size-adjust: none;\\n        -ms-text-size-adjust: none;\\n            text-size-adjust: none;\\n    tap-highlight-color: transparent;\\n    touch-callout: none;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n        -ms-user-select: none;\\n            user-select: none; \/* override to 'text' manually if needed *\/\\n\\n    margin: 0;\\n    padding: 0;\\n}\\n\\n.celtra-close-button {\\n    position: absolute;\\n    top: 0; right: 0;\\n    width: 30px; height: 30px;\\n    z-index: 99999999;\\n    overflow: hidden;\\n    -webkit-transform: translateZ(0);\\n}\\n\\n.celtra-close-button-text {\\n    font-family: Arial, Helvetica, Tahoma, sans-serif;\\n    font-size: 12px;\\n    line-height: 12px;\\n    padding: 10px;\\n    white-space: nowrap;\\n    width: auto;\\n    height: auto;\\n    cursor: pointer;\\n}\\n\\n.celtra-close-button.touched {\\n    visibility: hidden;\\n}\\n\\n.celtra-close-button-down {\\n    visibility: hidden;\\n}\\n\\n.celtra-close-button-up.touched+.celtra-close-button-down {\\n    visibility: visible;\\n}\\n\\n.celtra-close-button-text.touched {\\n    visibility: visible;\\n    padding-top: 11px;\\n    padding-right: 9px;\\n}\\n\\n.celtra-creative-unit input,\\n.celtra-creative-unit textarea {\\n    -webkit-user-select: text;\\n       -moz-user-select: text;\\n        -ms-user-select: text;\\n            user-select: text;\\n    text-align: center;\\n}\\n.celtra-screen {\\n    \/*\\n      Screens themselves have 0 area and visible overflow (default), so\\n      click-through from base to master screen works.\\n      \\n      The master has z-index 0 and the primary screen has z-index 1.\\n    *\/\\n    position: absolute;\\n    top: 0; left: 0; \\n    \\n    pointer-events: none;\\n    overflow: hidden;\\n}\\n\\n.celtra-screen > * {\\n    pointer-events: auto;\\n}\\n.celtra-nested-container {\\n    overflow: hidden;\\n    z-index: 0;\\n}\\n\\n.celtra-nested-container.empty {\\n    background-color: #000000;\\n    \/* Nested container icon is overriden in classes extending it. *\/\\n    \/* To prevent race condition when manually preloading, we rather define it as data URI. *\/\\n    \/* url(https:\/\/cache-ssl.celtra.com\/api\/static\/vf26f1415ae\/runner\/clazzes\/NestedContainer\/icon.png) *\/\\n    background-image: url(data:image\/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAD1BMVEX\/\/\/\/MzMzMzMzMzMzMzMyungt0AAAABHRSTlMAEB\/gwuUpDAAAAC5JREFUeAFjoASwQACGAOWSTIyMjAhJIIcJSRImg5AfppKjkmDAjCLBQpkkBQAAEtUDLd7kNEwAAAAASUVORK5CYII=);\\n    background-position: center;\\n    background-repeat: no-repeat;\\n    border: 1px solid #404040;\\n    box-sizing: border-box;\\n}\\n\\n\/*\\nThis extra CSS attribute is required for Internet Explorer 10+ to correctly\\nroute Pointer events to the object being touched. This is mutually exclusive\\nwith scrolling, so there's no way to have both at the same time. This will\\nalso prevent swipeable banners if any element on stage has the `touchable`\\nCSS class, but will generate `tap` events.\\n*\/\\n.touchable { -ms-touch-action: none; }\\n\\n\/*\\nOn IE, if a background is not set on an element, it is\\ntransparent to mouse and touch events. This forces the\\nelement to become opaque to user events.\\n*\/\\n.celtra-screen-object { background: rgba(0,0,0,0); }\\n\\n\/*\\nPointer cursor for hotspot component on desktop.\\n*\/\\n.celtra-hotspot { cursor: pointer; }\\n\\n\\n\/*\\nForce GPU rendering for all children of animated layers in order to prevent jittery scaling animations.\\nBecause the `animated` class is added to objects only when SceneOverrides.js is included, this style rule\\nwill not affect any elements in creatives which are not using scenes.\\n*\/\\n.celtra-screen-object.animated div,\\n.celtra-screen-object.animated > img,\\n.celtra-screen-object.animated .celtra-screen-object div,\\n.celtra-screen-object.animated .celtra-screen-object > img {\\n    transform: perspective(1px);\\n}\\n\\n.celtra-picture {\\n    overflow: hidden;\\n}\\n\\n.celtra-picture.empty {\\n    background-color: #000000;\\n    background-position: center;\\n    background-repeat: no-repeat;\\n    background-size: 28px;\\n    border: 2px solid #404040;\\n    box-sizing: border-box;\\n}\\n\\n.celtra-fallback > .celtra-nested-container.empty {\\n    \/* url(https:\/\/cache-ssl.celtra.com\/api\/static\/vf26f1415ae\/runner\/clazzes\/Fallback\/icon.png) *\/\\n    background-image: url(data:image\/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAllBMVEUAAAD\/\/\/\/V1dXT09PMzMzPz8\/Q0NDQ0NDOzs7Ozs7Pz8\/Nzc3Nzc3Nzc3MzMzOzs7Nzc3NzcvNzc3Nzc3Ozs7MzMzNzc3Ly8vNzc3Nzc3MzMzNzc3MzMzNzc3Nzc3Ly8rNzc3Nzc3MzMzNzc3MzMzMzMzMzMvMzMzMzMzMzMzMzMzMzMzMzMvMzMzMzMzNzc3Ly8rMzMwGV5yxAAAAMHRSTlMAAQYXGSUmKy85OkJHTVpdYGZmcXx+hZmeoqansLO2xtDW2dre4ubn6PD29\/n6\/P5tC+wZAAAAi0lEQVR4Aa3Q1wpDIRAEUNN77733ovP\/PxdYEZLsJA\/XOy+zcBZRTVyq8wM+s+kF61vojL3V3izs1y9oyLCARtPFUvrEMIezNBgaIG3MjqQo5lfuJ1aOzodg5+4SIj+WX+jfUyJ+yDLMwEpvGRaxk54wHGIqXbhqbD6eZT+1btAZhL3SbP9F67aJygvpSUfplvWxvQAAAABJRU5ErkJggg==);\\n}\\n\\n\\n.celtra-texty .no-break {\\n    white-space: nowrap;\\n    word-break: keep-all;\\n    overflow-wrap: normal;\\n    word-wrap: normal;\\n}\\n\\n.celtra-texty .scroll-container {\\n    position: relative;\\n    width: 100%;\\n    height: 100%;\\n    overflow: hidden;\\n    outline: 1px solid transparent; \/* node looses overflow: hidden if object is translated on Android native browser ... line below magically solves that *\/\\n}\\n\\n.celtra-texty .scroll-container > div {\\n    position: absolute;\\n    width: 100%;\\n    box-sizing: border-box;\\n}\\n\\n.celtra-texty .celtra-vertical-scrollbar {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    width: 5px;\\n    z-index: 2;\\n}\\n    .celtra-texty .celtra-vertical-scrollbar.outer {\\n        right: -5px;\\n    }\\n\\n.celtra-nearby {\\n    overflow: hidden;\\n}\\n\\n.celtra-nearby.arabic {\\n    direction: rtl;\\n}\\n\\n.celtra-nearby .container > div:nth-child(1) {\\n    font-size: 130%;\\n    padding-top: 1px;\\n    margin-bottom: 7px;\\n}\\n\\n.celtra-nearby .container > div:nth-child(2) {\\n    font-size: 120%;\\n    margin-bottom: 5px;\\n}\\n\\n.celtra-nearby .container > div:nth-child(n+3) {\\n    opacity: 0.7;\\n}\\n\\n.celtra-shapey {\\n\\tbox-sizing: border-box;\\n}\\n\\n.celtra-shapey div {\\n\\tposition: absolute;\\n\\tleft: 0;\\n\\ttop: 0;\\n\\theight: 100%;\\n\\twidth: 100%;\\n\\n\\toverflow: hidden;\\n\\tbox-sizing: border-box;\\n\\tbackground-clip: padding-box;\\n\\n\\tborder-width: 0;\\n\\tborder-style: solid;\\n\\tborder-color: transparent;\\n\\n\\ttransition: inherit;\\n}\\n\\n\";\n            head.appendChild(styles);\n\n            \/\/ Add JS\n            var js = document.createElement('script');\n            js.textContent = \"function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber:{get:function(){return t.prototype},enumerable:!1,configurable:!1},uberConstructor:{get:function(){return t},enumerable:!1,configurable:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n]):e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return\\\"undefined\\\"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||\\\"undefined\\\"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return\\\"url('\\\"+e.replace(\/'\/g,\\\"\\\\\\\\'\\\")+\\\"')\\\"}function camelize(e){return e.replace(\/-([a-z])\/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(\\\"\\\"+e).length),r=(\\\"\\\"+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(\/&\/g,\\\"&amp;\\\").replace(\/\\\"\/g,\\\"&quot;\\\").replace(\/'\/g,\\\"&#39;\\\").replace(\/<\/g,\\\"&lt;\\\").replace(\/>\/g,\\\"&gt;\\\")}function removeHtmlTags(e){var t,n=\\\"(?:[^\\\\\\\"'>]|\\\\\\\"[^\\\\\\\"]*\\\\\\\"|'[^']*')*\\\",r=new RegExp(\\\"<(?:!--(?:(?:-*[^->])*--+|-?)|script\\\\\\\\b\\\"+n+\\\">[\\\\\\\\s\\\\\\\\S]*?<\/script\\\\\\\\s*|style\\\\\\\\b\\\"+n+\\\">[\\\\\\\\s\\\\\\\\S]*?<\/style\\\\\\\\s*|\/?[a-z]\\\"+n+\\\")>\\\",\\\"gi\\\");do t=e,e=e.replace(r,\\\"\\\");while(e!==t);return e.replace(\/<\/g,\\\"&lt;\\\")}function trim(e){return e.replace(\/^\\\\s+|\\\\s+$\/g,\\\"\\\")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return e=String(e).charCodeAt(0),e&&(e>=1424&&1535>=e||e>=1536&&1791>=e||e>=1792&&1871>=e||e>=1872&&1919>=e||e>=2144&&2159>=e||e>=2208&&2303>=e||e>=64288&&64335>=e||e>=64336&&65023>=e||e>=65136&&65279>=e||8207===e||8235===e||8238===e)?!0:!1}function isLTRChar(e){return e=String(e).charCodeAt(0),e&&(e>=65&&90>=e||e>=97&&122>=e||e>=192&&214>=e||e>=216&&246>=e||e>=248&&696>=e||e>=768&&1424>=e||e>=2048&&8191>=e||e>=11264&&64284>=e||e>=65022&&65135>=e||e>=65277&&65535>=e||8206===e||8234===e||8237===e)?!0:!1}function guessWritingDirection(e){for(var t=25,n=Math.min(t,e.length),r=0;n>r;r++){var o=e.charAt(r);if(isLTRChar(o))return\\\"ltr\\\";if(isRTLChar(o))return\\\"rtl\\\"}return null}function randInt(){return(Math.random()+\\\"\\\").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if(\\\"undefined\\\"==typeof t[e]){t[e]=!1;try{window.addEventListener(\\\"listener-test\\\",null,Object.defineProperty({},e,{get:function(){t[e]=!0}}))}catch(n){}}return t[e]}function _buildNativeListenerOptions(e){if(\\\"object\\\"!=typeof e)return!!e;if(!_isListenerOptionSupported(\\\"capture\\\"))return!!e.capture;var t={capture:!!e.capture};return _isListenerOptionSupported(\\\"passive\\\")&&(t.passive=!!e.passive),t}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return\\\"y\\\"===e.validAxis?t=r>e.minDistanceForSwipe:\\\"x\\\"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal:n>r,isConsideredSwipe:t}}function attach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.addEventListener(o,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(o,n,_buildNativeListenerOptions(r))}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent(\\\"HTMLEvents\\\");o.initEvent(t,n,r);var i=\\\"on\\\"+ucfirst(t);return\\\"function\\\"==typeof e[i]&&e[i](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement(\\\"a\\\");n.cssText=\\\"visibility: hidden\\\",n.addEventListener(\\\"click\\\",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent(\\\"MouseEvents\\\");r.initEvent(\\\"click\\\",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement(\\\"a\\\");r.style.cssText=\\\"visibility: hidden\\\",r.setAttribute(\\\"href\\\",e),r.setAttribute(\\\"target\\\",\\\"_blank\\\"),r.addEventListener(\\\"click\\\",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent(\\\"MouseEvents\\\");o.initEvent(\\\"click\\\",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement(\\\"style\\\");r.textContent=e+\\\" {\\\"+t+\\\"}\\\",n?n.document.getElementsByTagName(\\\"head\\\")[0].appendChild(r):document.getElementsByTagName(\\\"head\\\")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement(\\\"style\\\");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(\/\\\\&$\/,\\\"\\\").replace(\/\\\\+\/g,\\\"%20\\\"),e.split(\\\"&\\\").forEach(function(e){var n=e.split(\\\"=\\\").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+\\\"=\\\"+encodeURIComponent(e[n]));return t.join(\\\"&\\\")}function postBlob(e,t){var n=new XMLHttpRequest;n.open(\\\"POST\\\",creative.apiUrl+\\\"blobs?base64=1\\\"),n.setRequestHeader(\\\"Content-Type\\\",\\\"application\/octet-stream\\\"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return\\\"  p.push('\\\"+e.replace(\/'\/g,\\\"\\\\\\\\'\\\").split(\/\\\\r?\\\\n\/g).join(\\\"\\\\\\\\n');\\\\n  p.push('\\\")+\\\"');\\\\n\\\"}if(!e)return\\\"\\\";var r;if(-1==e.indexOf(\\\"<%\\\"))r=function(){return e};else{var o=e.split(\/<%\\\\s*|\\\\s*%>\/g),i=\\\"var p = []; with(o) {\\\\n\\\",a=!1;o.forEach(function(e){a?i+=\\\"=\\\"==e[0]?\\\"  p.push(\\\"+e.replace(\/^=\\\\s*|\\\\s*$\/g,\\\"\\\")+\\\");\\\\n\\\":\\\"  \\\"+e+\\\"\\\\n\\\":e&&(i+=n(e)),a=!a}),i+='} return p.join(\\\"\\\");';try{r=new Function(\\\"o\\\",i)}catch(c){var u=new Error(\\\"Cannot parse template! (see `template` property)\\\");throw u.template=i,u}}return t?r(t):r}function flash(){var e=document.createElement(\\\"div\\\");e.style.background=\\\"white\\\",e.style.opacity=.005,e.style.position=\\\"absolute\\\",e.style.top=0,e.style.left=0,e.style.width=\\\"100%\\\",e.style.height=\\\"100%\\\",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){\\\"use strict\\\";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return\\\"[object Array]\\\"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp(\\\"([?|&])\\\"+t+\\\"=.*?(&|$)\\\",\\\"i\\\");return separator=-1!==e.indexOf(\\\"?\\\")?\\\"&\\\":\\\"?\\\",e.match(r)?e.replace(r,\\\"$1\\\"+t+\\\"=\\\"+n+\\\"$2\\\"):e+separator+t+\\\"=\\\"+n}function fetchShortenedUrl(e,t,n){function r(t,n){i[e].forEach(function(e){e[t](n)}),delete i[e]}n=n||noop;var o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;if(\\\"http\\\"==!e.slice(0,4))return void n();if(a[e])return void defer(function(){t(a[e])},0,\\\"fetchShortenedUrl defer success callback\\\");if(i[e]||(i[e]=[],o=!0),i[e].push({success:t,error:n}),o){var c=(creative.runtimeParams.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\\\"shortenedUrls\/\\\",u={url:e,fields:\\\"shortUrlKey\\\"},s=btoa(to_utf8(e));s=s.replace(\/\\\\\/\/g,\\\"$\\\").replace(\/\\\\+\/g,\\\"_\\\").replace(\/=\/g,\\\"\\\");var d={cbName:\\\"shortener_\\\"+s};loadJSONP(c+\\\"?\\\"+buildQuery(u),d,function(t){var n=creative.shareUrl+t.shortUrlKey;a[e]=n,r(\\\"success\\\",n)},function(){requestCreateShortenedUrl(e,r)})}}function requestCreateShortenedUrl(e,t){var n=(creative.runtimeParams.secure?creative.apiUrl:creative.insecureApiUrl)+\\\"shortenedUrls\/\\\",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open(\\\"POST\\\",n),o.setRequestHeader(\\\"Content-Type\\\",\\\"application\/json; charset=utf-8\\\"),o.onreadystatechange=function(){if(4===o.readyState)if(201===o.status){var n=JSON.parse(o.responseText),i=creative.shareUrl+n.shortUrlKey;r[e]=i,t(\\\"success\\\",i)}else t(\\\"error\\\")},o.send(JSON.stringify({url:e}))}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}function merge(){var e,t,n={};for(t=0;t<arguments.length;t+=1)if(e=arguments[t],null!==e&&void 0!==e)for(var r in e)n[r]=e[r];return n}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)\/(t-e)*(r-n)+n}function step(e,t){return e>t?0:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){var r=clamp(0,1,(n-e)\/(t-e));return r*r*r*((6*r-15)*r+10)}function bump(e,t,n){var r=clamp(0,1,(n-e)\/(t-e));return(Math.cos(Math.PI*r)+1)\/2}function getWindowNesting(e){var t={iframe:e!==e.top,friendlyIframe:!1,iabFriendlyIframe:!1,hostileIframe:!1,iframeDepth:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&\\\"undefined\\\"!=typeof e.inDapIF&&e.inDapIF;\\\"undefined\\\"!=typeof n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;\\\"undefined\\\"==typeof e.top.document&&(t.hostileIframe=!0)}catch(r){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return\\\"function\\\"==typeof e&&e.toString().indexOf(\\\"[native code]\\\")>-1}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&\\\"BackCompat\\\"!=e.document.compatMode,r=deviceInfo.os.ios(\\\"9\\\",null),o=\\\"win\\\"!==t&&(n||r||\\\"doc\\\"===t),i=\\\"win\\\"!==t&&(n||\\\"doc\\\"===t),a=e.document.documentElement||{};return{width:o?a.clientWidth:e.innerWidth,height:i?a.clientHeight:e.innerHeight,left:e.scrollX||a.scrollLeft||0,top:e.scrollY||a.scrollTop||0}}!function(e){if(!this.defer){try{for(;\\\"undefined\\\"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}var n=function(){function t(){return 9007199254740991===s?0:++s}var n,r,o,i,a=e,c=\\\"function\\\"==typeof a.setImmediate;if(a.MutationObserver)return function(e){n=document.createElement(\\\"div\\\"),new MutationObserver(function(){e(),n=null}).observe(n,{attributes:!0}),n.setAttribute(\\\"i\\\",\\\"1\\\")};if(!c&&a.postMessage&&!a.importScripts&&a.addEventListener){var u=\\\"com.setImmediate\\\"+Math.random(),s=0;i={};var d=function(e){if(e.source===a&&0===e.data.indexOf(u)){var t=e.data.split(\\\":\\\")[1];i[t](),delete i[t]}};return a.addEventListener(\\\"message\\\",d,!1),function(e){var n=t();i[n]=e,a.postMessage(u+\\\":\\\"+n,\\\"*\\\")}}return!c&&a.document&&\\\"onreadystatechange\\\"in document.createElement(\\\"script\\\")?function(e){r=document.createElement(\\\"script\\\"),r.onreadystatechange=function(){r.onreadystatechange=null,r.parentNode.removeChild(r),r=null,e()},document.body.appendChild(r)}:(o=c&&setImmediate||setTimeout,function(e){o(e)})}();this.defer=function(t,r,o,i){var a,c=0|r;if(o){var u;\\\"undefined\\\"!=typeof defer.perf?u=defer.perf:\\\"undefined\\\"!=typeof creative?u=creative.perf:\\\"undefined\\\"!=typeof perf&&(u=perf),u&&(u._stopTrackingDefers||(a=u.start(\\\"defer\\\",{deferId:o,delay:c})))}if(t){var s=function(){a&&a.end(),t()};i?n(s):e.setTimeout(s,c)}}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,\\\"bind\\\",{value:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(e){e.getEventNames=function(){var t={};return\\\"WebKitAnimationEvent\\\"in e&&(t.animationstart=\\\"webkitAnimationStart\\\",t.animationiteration=\\\"webkitAnimationIteration\\\",t.animationend=\\\"webkitAnimationEnd\\\"),\\\"WebKitTransitionEvent\\\"in e&&(t.transitionend=\\\"webkitTransitionEnd\\\"),t}}(window),_isListenerOptionSupported.opts={};var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,\\\"waitForEach\\\",{value:function(e,t,n){var r=this.length;r?this.forEach(function(o,i,a){var c=!1;e.call(n,o,function(){if(c)throw\\\"Called `done` multiple times for element \\\"+i;c=!0,--r||t()},i,a)},n):t()}}),function(e){e.loadJS=function(t,n,r,o){var i=e.loadJS.externals,a={success:n||noop,error:r||noop};if(!\/^[A-Za-z0-9]*:\\\\\/\\\\\/|^\\\\\/\\\\\/\/.test(t)){var c=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if(\\\"undefined\\\"==typeof c)return console.warn('Hosted file \\\"'+t+'\\\" was not found.'),void a.error();if(c.loaded!==!1)return console.warn('Hosted file \\\"'+t+'\\\" is already loaded.'),void setTimeout(a.success,0);c.loaded=!0,t=creative.cachedApiUrl+\\\"hostedFiles\/\\\"+creative.id+\\\"\/\\\"+creative.version+\\\"\/\\\"+t}if(t in i&&!o)i[t].loaded?setTimeout(a.success,0):i[t].cbs.push(a);else{i[t]={cbs:[a]};var u=document.createElement(\\\"script\\\");u.type=\\\"text\/javascript\\\",u.onload=function(){i[t].loaded=!0,i[t].cbs.forEach(function(e){e.success()}),i[t].cbs=[]},u.onerror=function(){i[t].cbs.forEach(function(e){e.error()}),i[t].cbs=[],delete i[t]},u.src=t,e.loadJS.appendToRoot(u)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector(\\\"head\\\").appendChild(e)},e.loadJSONP=function(t,n,r,o){\\\"function\\\"==typeof n&&(o=r,r=n,n={});var i=n.cbName||\\\"__jsonp\\\"+randInt();t+=(-1==t.indexOf(\\\"?\\\")?\\\"?\\\":\\\"&\\\")+(n.paramName||\\\"jsonp\\\")+\\\"=\\\"+i,e[i]=function(t){r(t),delete e[i]},loadJS(t,noop,o,!0)}}(window),\\\"undefined\\\"==typeof Function.prototype.name&&!function(){var e=\/^function\\\\s+(\\\\w+?)\\\\s*?\\\\(\/;Object.defineProperty(Function.prototype,\\\"name\\\",{get:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]:\\\"\\\"}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;\\nfunction CPoint(t,i){this.x=1*t||0,this.y=1*i||0}function CRect(t,i,e,o){this.left=1*t||0,this.top=1*i||0,this.width=1*e||0,this.height=1*o||0}CPoint.offset=function(t){var i=offset(t);return new CPoint(i.left,i.top)},CPoint.convertPointFromNodeToPage=function(t,i){if(!t||\\\"undefined\\\"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x:0)+(e?e.x:0),(i?i.y:0)+(e?e.y:0))},CPoint.convertPointFromPageToNode=function(t,i){if(!t||\\\"undefined\\\"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x:0)-(e?e.x:0),(i?i.y:0)-(e?e.y:0))},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i\/t.height)),n=Math.floor(Math.sqrt(t.height*i\/t.width)),h=t.width\/o,r=t.height\/n,s=0;n>s;s++)for(var f=0;o>f;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right:{get:function(){return this.left+this.width},set:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable:!0},bottom:{get:function(){return this.top+this.height},set:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable:!0},tl:{get:function(){return new CPoint(this.left,this.top)}},tr:{get:function(){return new CPoint(this.right,this.top)}},bl:{get:function(){return new CPoint(this.left,this.bottom)}},br:{get:function(){return new CPoint(this.right,this.bottom)}},area:{get:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),h=o-i,r=n-e;return 0>h||0>r?CRect.ZERO:new CRect(i,e,h,r)},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom:void 0},CRect.prototype.map=function(t,i){var e=i.width\/t.width,o=i.height\/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return\\\"CRect: \\\"+JSON.stringify(this)};;\\nfunction Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||\\\"\\\";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf(\\\"all\\\")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+\\\" [\\\"+Logger.sessionId+(this.name?\\\" \\\"+this.name:\\\"\\\")+\\\"]\\\"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+=\\\"\\\";e.length<n;)e=\\\"0\\\"+e;return e}var n=new Date;return n.getFullYear()+\\\"-\\\"+e(n.getMonth()+1,2)+\\\"-\\\"+e(n.getDate(),2)+\\\" \\\"+e(n.getHours(),2)+\\\":\\\"+e(n.getMinutes(),2)+\\\":\\\"+e(n.getSeconds(),2)+\\\".\\\"+e(n.getTime()-1e3*Math.floor(n.getTime()\/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+\\\"\\\").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(\\\",\\\"):[],e.sessionId)};;\\nwindow.CeltraDeviceInfo={},function(e){function n(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||\\\"\\\",this.model=e.model||\\\"\\\",this.userAgent=n}function t(e,n){this.name=e||\\\"\\\",this.version=n||\\\"0\\\"}function r(e,n,t){this.name=e||\\\"\\\",this.version=n||\\\"0\\\",this.userAgent=t}function i(e,n){this.name=e||\\\"\\\",this.version=n||\\\"0\\\"}function o(e,n){this.hardwareType=e||\\\"\\\",this.mobile=n||\\\"\\\"}function s(e,n){function t(e){return parseInt(e.replace(\/\\\\D\/g,\\\"\\\"),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw\\\"Invalid number of arguments\\\";o=n[0],s=n[1]}for(e=e.split(\\\".\\\").map(t),o=o?o.split(\\\".\\\").map(t):[],s=s?s.split(\\\".\\\").map(t):[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function a(e,n){if(-1===e.indexOf(\\\"Playstation\\\")){var t=e.match(\/\\\\bSilk\\\\\/([0-9._-]+)\\\\b\/);t&&(n.browserName=\\\"Amazon Silk\\\",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf(\\\"Chrome\\\")&&s(n.browserVersion,[\\\"28\\\",null])||0===n.browserName.indexOf(\\\"Opera\\\")&&s(n.browserVersion,[\\\"15\\\",null]))&&(n.browserRenderingEngine=\\\"Blink\\\"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n;return(n=e.match(\/Trident\\\\\/([0-9.]+)\/))?n[1]:(n=e.match(\/Presto\\\\\/([0-9.]+)\/))?n[1]:(n=e.match(\/AppleWebKit\\\\\/*([0-9.]+)\/i))?n[1]:(n=e.match(\/Gecko\\\\\/*([0-9.]+)\/),n?n[1]:\\\"\\\")}())}t.prototype.android=function(){return\\\"Android\\\"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return\\\"OSX\\\"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return\\\"IOS\\\"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return\\\"Windows\\\"===this.name&&s(this.version,arguments)},t.prototype.windowsPhone=function(){return\\\"WindowsPhone\\\"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return\\\"Linux\\\"===this.name},r.prototype.safari=function(){return\\\"Safari\\\"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf(\\\"Chrom\\\")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf(\\\"Internet Explorer\\\")&&s(this.version,arguments)},r.prototype.android=function(){return\\\"Android Browser\\\"===this.name&&s(this.version,arguments)},r.prototype.samsung=function(){return\\\"Samsung Browser\\\"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf(\\\"Opera\\\")&&s(this.version,arguments)},r.prototype.silk=function(){return\\\"Amazon Silk\\\"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return\\\"Firefox\\\"===this.name&&s(this.version,arguments)},r.prototype.edge=function(){return\\\"Edge\\\"===this.name&&s(this.version,arguments)},r.prototype.miui=function(){return\\\"MIUI Browser\\\"===this.name&&s(this.version,arguments)},r.prototype.webView=function(){var n=null,t=\\\"iP\\\"===(e.navigator.platform||\\\"\\\").substr(0,2);if(t){var r=this.userAgent,i=-1!==r.indexOf(\\\"Safari\\\")&&-1!==r.indexOf(\\\"Version\\\"),o=!\/constructor\/i.test(e.HTMLElement);i&&!e.navigator.standalone?n=\\\"iOS Safari or Safari Controller\\\":(o||e.indexedDB)&&e.statusbar.visible?(e.webkit&&e.webkit.messageHandlers||o||e.indexedDB)&&(n=\\\"WKWebView\\\"):n=\\\"UIWebView\\\"}else\/^.*\\\\\/\\\\d\\\\.\\\\d \\\\(.*wv\\\\).*\/.test(this.userAgent)&&(n=\\\"AndroidWebView\\\");return n},r.prototype.facebookApp=function(){var e=this.userAgent;return e.indexOf(\\\"FBAN\\\")>-1||e.indexOf(\\\"FBAV\\\")>-1},i.prototype.webkit=function(){return\\\"WebKit\\\"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return\\\"Gecko\\\"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return\\\"Trident\\\"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return\\\"Presto\\\"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return\\\"Blink\\\"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return\\\"Phone\\\"===this.hardwareType},o.prototype.tablet=function(){return\\\"Tablet\\\"===this.hardwareType},o.prototype.desktop=function(){return\\\"Desktop\\\"===this.hardwareType},o.prototype.mobileDevice=function(){return this.mobile===!0},e.CeltraDeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent||\\\"\\\",r=r||{},a(t,r),new n(r,t)}}(window);;\\nwindow.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;\\n!function(e){function n(){var e=p().match(\/iP(ad|hone|od).*OS ([0-9_]+)\/);return!!e&&s(e[2].replace(\/_\/g,\\\".\\\"),arguments)}function t(){var e=p().match(\/Android ([0-9.]+)\/),n=p().match(\/Windows Phone\/);return!n&&!!e&&s(e[1],arguments)}function r(){var e=p().match(\/Windows Phone ([0-9.]+)\/);return!!e&&s(e[1],arguments)}function i(){var e=p().match(\/AppleWebKit\\\\\/*([0-9.]+)\/i);return!!e&&s(e[1],arguments)}function a(){var e=p().match(\/Gecko\\\\\/*([0-9.]+)\/i);return!!e&&s(e[1],arguments)}function o(){var e=p().match(\/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv:([0-9]{1,}[.0-9]{0,})\/i);return!!e&&s(e[1]||e[2],arguments)}function u(){var e=p().match(\/Silk\\\\\/([0-9.]+)\/);return!!e&&s(e[1],arguments)}function f(){var e=p().toLowerCase();return\/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur\/.test(e)?s(\\\"2\\\",arguments):!1}function d(){return\\\"undefined\\\"!=typeof offsetWidthOverride?offsetWidthOverride:(document.body.offsetWidth,Math.min(innerWidth,innerHeight))}function c(){return\/iPad\/.test(p())||d()>550}function m(){return!(t()||n()||r())}function s(e,n){function t(e){return parseInt(e.replace(\/\\\\D\/g,\\\"\\\"),10)}function r(e,n){for(var t=0;t<v.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,a,o;if(!e)return!0;if(0===n.length)a=null,o=null;else if(1===n.length)a=n[0],o=n[0];else{if(2!==n.length)throw\\\"Invalid number of arguments\\\";a=n[0],o=n[1]}e=e.split(\\\".\\\").map(t),a=a?a.split(\\\".\\\").map(t):[],o=o?o.split(\\\".\\\").map(t):[];for(var i=v.max(a.length,o.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,a)||1===r(e,o))}function h(){return v.top!==e}function l(){if(!(n()||window.chrome&&\\\"Google Inc.\\\"===window.navigator.vendor))return!1;var e;return e=p().match(n()?\/CriOS\\\\\/([0-9]+.)\/:\/Chrome\\\\\/([0-9]+.)\/),!!e&&s(e[1],arguments)}function g(){var e=\\\"(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3\/2),(min-resolution: 1.5dppx)\\\";return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(e).matches}e.celtra=e.celtra||{};var w={};w.ios=n,w.android=t,w.webkit=i,w.windowsPhone=r,w.gecko=a,w.windows=o,w.kindleSilk=u,w.kindle=f,w.iframe=h,w.desktop=m,w.tablet=c,w.chromeBased=l,w.isHighDensityDisplay=g,extend(e.celtra,w),delete w.webkit,extend(e,w);var v={max:e.Math.max,min:e.Math.min,userAgent:e.navigator.userAgent,top:e.top},p=function(){return\\\"undefined\\\"!=typeof e.userAgentOverride?e.userAgentOverride:v.userAgent}}(window);;\\n!function(e){function t(){var t=e;try{for(;\\\"undefined\\\"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(n){}return t}function n(){return s.getComputedStyle(s.document.body,null)}function i(e,t,n){if(!e)throw new Error(\\\"No element specified!\\\");if(a(t)){if(!(t in e.style)&&i.BREAK_ON_ERROR)throw new Error(\\\"Invalid CSS attribute \\\"+t);if(\\\"undefined\\\"==typeof n)return e.style[t];e.style[t]=n}else{if(-1==w.indexOf(t)&&o(t),\\\"undefined\\\"==typeof n)return e.style[y[t]];e.style[y[t]]=n}}function r(e,t){if(!e)throw new Error(\\\"No element specified!\\\");var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if(R&&v.indexOf(t)>-1&&(t=\\\"webkit\\\"+u(t)),!n||\\\"none\\\"==n.display||!f())return null;if(!(t in n)&&i.BREAK_ON_ERROR)throw new Error(\\\"Invalid CSS attribute \\\"+t);return a(t)?n[t]:(-1==w.indexOf(t)&&o(t),n[y[t]])}function o(e){S=S||n();var t=E+u(e);if(R&&v.indexOf(e)>-1)y[e]=t;else if(S&&e in S)y[e]=e;else if(S&&t in S)y[e]=t;else if(!S&&deviceInfo.browser.firefox)y[e]=e;else if(i.BREAK_ON_ERROR)throw new Error(\\\"Invalid CSS attribute \\\"+e+' or iframe still display \\\"none\\\" in FF');w.push(e)}function a(e){return p.test(e)}function f(){if(e===s)return!0;var t=e.frameElement.ownerDocument.defaultView.getComputedStyle(e.frameElement,null);return t&&\\\"none\\\"!=t.display}function u(e){return e+=\\\"\\\",e?e[0].toUpperCase()+e.slice(1):\\\"\\\"}var l=e.navigator.userAgent,s=t(),c=\/rv:.*Gecko\\\\\/\/.test(l),d=\/MSIE|Trident\\\\\/\/.test(l),m=\/WebKit\/.test(l),p=\/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?\/,y={},w=[],E=function(){return m?\\\"webkit\\\":d?\\\"ms\\\":c?\\\"Moz\\\":\\\"\\\"}(),R=function(){var e=l.match(\/AppleWebKit\\\\\/(\\\\d+)\/);return e&&~~e[1]<540}(),v=[\\\"transform\\\",\\\"transform-origin\\\",\\\"transform-style\\\",\\\"transition\\\",\\\"transition-delay\\\",\\\"transition-duration\\\",\\\"transition-property\\\",\\\"transition-timing-function\\\",\\\"animation\\\",\\\"animation-delay\\\",\\\"animation-direction\\\",\\\"animation-duration\\\",\\\"animation-fill-mode\\\",\\\"animation-iteration-count\\\",\\\"animation-name\\\",\\\"animation-play-state\\\",\\\"animation-timing-function\\\",\\\"appearance\\\",\\\"backface-visibility\\\",\\\"perspective\\\",\\\"perspective-origin\\\"],S=n();i.BREAK_ON_ERROR=!1,e.celtra=e.celtra||{},e.celtra.styler={css:i,computedCSS:r,isWebkit:m,isGecko:c,isIE:d},e.css=i,e.computedCSS=r}(window);;\\nvar Freezer={};Freezer.unfreeze=function(n,e,o){function t(n,e,o,t,a){ActionInvocationSimulator.isDryRun()?ActionInvocationSimulator.needsDryRun(n.internalId)&&(ActionInvocationSimulator.logActionDryRun(n.internalId,n.method,e.localId),e[n.method+\\\"ActionDryRun\\\"]?e[n.method+\\\"ActionDryRun\\\"](o,t,a):a()):e[n.method+\\\"Action\\\"](o,t,a)}function a(n){if(n instanceof Array)return n.map(a);if(n instanceof Object){var o;if(\\\"ActionInvocation\\\"===n.clazz){n.internalId=++c;var s=l;o=function(e,a){if(!e)throw\\\"Cannot execute an action without a context.\\\";a||(a=noop);var i=o.isStatic;if(\\\"undefined\\\"==typeof i&&(i=!o.instance),o.disabled)return void a();if(i){if(o.instance)throw\\\"ActionInvocation for a static method must not have an instance assigned.\\\";if(\\\"function\\\"!=typeof o.actionClazz[o.method+\\\"Action\\\"])throw\\\"Clazz \\\"+o.actionClazz+' does not define the static action \\\"'+o.method+'\\\".';var r=extend({},o.args,{triggerId:s,caller:n});t(o,o.actionClazz,e,r,a)}else if(o.instance){if(!(o.instance instanceof o.actionClazz))throw\\\"Instance \\\"+o.instance+\\\" is not an instance of clazz \\\"+o.actionClazz;if(\\\"function\\\"!=typeof o.instance[o.method+\\\"Action\\\"])throw\\\"Instance of clazz \\\"+o.actionClazz+' does not define the instance action \\\"'+o.method+'\\\".';var r=extend({},o.args,{triggerId:s,caller:n});t(o,o.instance,e,r,a)}else ActionInvocationSimulator.isDryRun()?a():defer(a,0,\\\"Freezer.unfreeze defer c\\\")}}else if(n.clazz){var f=e[n.clazz];if(!f)throw new Error(\\\"Unsupported clazz: \\\"+n.clazz);o=Object.create(f.prototype)}else o={},n.onFire&&(l=n.type);for(var d in n)n.hasOwnProperty(d)&&\\\"clazz\\\"!==d&&(o[d]=a(n[d]));i.push(o),o.localId&&(r[o.localId]&&console.error(\\\"Duplicate localId: \\\"+o.localId),r[o.localId]=o);for(var d in o)if(\\\"clazz\\\"===d.slice(-5).toLowerCase()){var z=o[d];if(!z)continue;e[z]?o[d]=e[z]:console.error(\\\"Unsupported clazz: \\\"+o.clazz)}return o}return n}var i=[],r={},c=0,l=null,s=a(n);i.forEach(function(n){for(var e in n)if(\\\"LocalId\\\"===e.slice(-7)){var o=n[e];if(o instanceof Function)continue;var t;null===o?t=null:(t=r[o],t||console.error(\\\"Invalid localId reference: \\\"+o)),n[e.slice(0,-7)]=t,delete n[e]}else if(\\\"LocalIds\\\"===e.slice(-8)){for(var a=[],i=0;i<n[e].length;i++){var c=n[e][i],t=r[c];t||console.error(\\\"Invalid localId reference: \\\"+c),a.push(t)}n[e.slice(0,-8)]=a,delete n[e]}});for(var f in o)s[f]=o[f];return i.reverse().forEach(function(n){n.awake&&n.awake()}),s};;\\nfunction Batcher(e){e=e||{},this._cache={},this._downloadQueue={},this._base=e.baseUrl,this._protoLoading=e.protoLoading}Batcher.prototype.getDataUri=function(e,a){var t=this;if(\\\"function\\\"!=typeof a)throw\\\"getDataURI callback is not a function\\\";var r;if(-1!==e.indexOf(\\\":\/\/\\\"))r=e;else{if(\\\"\/\\\"===e[0])throw\\\"An absolute path as URL?\\\";r=this._base+e}var n,c;0===r.indexOf(creative.cachedApiUrl)?(n=r.slice(creative.cachedApiUrl.length),c=!0):0===r.indexOf(creative.insecureCachedApiUrl)&&(n=r.slice(creative.insecureCachedApiUrl.length),c=!1),n?n in this._cache?defer(function(){a(t._cache[n])},0,\\\"Batcher.getDataUri in cache\\\",useAsap()):(this._downloadQueue[n]||(this._downloadQueue[n]={requested:!1,secure:!1,callbacks:[]}),this._downloadQueue[n].callbacks.push(a),c&&(this._downloadQueue[n].secure=!0),defer(function(){var e=[],a=!1;for(var r in t._downloadQueue){var n=8192,c=200,o=t._generateBatchUrl(!0,e.concat(r)).length>n-c;if(!o){var i=t._downloadQueue[r];i.requested||(i.requested=!0,e.push(r),i.secure&&(a=!0))}}e.length&&(Logger(\\\"batcher\\\").log(e.length+\\\" new batchable URLs requested during last runloop iteration (\\\"+(a?\\\"at least one secure\\\":\\\"none secure\\\")+\\\"):\\\\n - \\\"+e.join(\\\"\\\\n - \\\")),t._loadBatch(a,e,function(e){for(var a in e){var r=e[a];r===!1&&(r=(t._downloadQueue[a].secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+a),t._cache[a]=r,t._downloadQueue[a].callbacks.forEach(function(e){e(r)}),delete t._downloadQueue[a]}}))},0,\\\"Batcher.getDataUri downloadQueue\\\",useAsap())):defer(function(){a(e)},0,\\\"Batcher.getDataUri url not batchable\\\",useAsap())},Batcher.prototype._generateBatchUrl=function(e,a){var t=(e?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\\\"batch?urls=\\\"+a.sort().map(encodeURIComponent).join(\\\",\\\");return t},Batcher.prototype._loadBatch=function(e,a,t){function r(e){var a,t=5381;for(a=0;a<e.length;a++)char=e.charCodeAt(a),t=(t<<5)+t+char;return t}var n=this,c=n._generateBatchUrl(e,a);if(isFetchSupported()&&this._protoLoading.blobURIsSupported)fetch(c+\\\"&binary=1\\\").then(function(e){return e.arrayBuffer()}).then(function(e){for(var a={},r=new DataView(e),n=0;n<e.byteLength;){var o=r.getUint32(n);n+=4;var i=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(e.slice(n,n+o))));n+=o;var h=e.slice(n,n+i.bodyLength);n+=i.bodyLength,200===i.code?a[i.path]=URL.createObjectURL(new Blob([h],{type:i.contentType})):(Logger(\\\"batcher\\\").warn(\\\"Batcher: Could not retrieve URL '\\\"+i.path+\\\"' using batcher, returning it directly.\\\"),creative.track({name:\\\"batcherError\\\",url:c,path:i.path,binary:!0}),a[i.path]=!1)}t(a)});else if(this._protoLoading.dataURIsSupported)loadJSONP(c,{cbName:\\\"__batcher_jsonp_\\\"+Math.abs(r(c))},function(e){var a={};for(var r in e){var n=e[r];200===n.code?a[r]=n.data:(Logger(\\\"batcher\\\").warn(\\\"Batcher: Could not retrieve URL '\\\"+r+\\\"' using batcher, returning it directly.\\\"),creative.track({name:\\\"batcherError\\\",url:c,path:r,binary:!1}),a[r]=!1)}t(a)});else{var o=a.reduce(function(e,a){return e[a]=!1,e},{});defer(function(){t(o)},0,\\\"Batcher._loadBatch defer callback, no data: and no blob: support, returning urls directly.\\\")}};;\\nfunction EngagementTracker(e,t){function n(e){if(!b){var t=u(e.target);if(t){b=!0;var n=randInt(),o=m.getBoundingClientRect(),l=t.node.getBoundingClientRect(),d=m.parentNode.getBoundingClientRect();C=Math.round(o.left-d.left),D=Math.round(o.top-d.top),h.setUniversalInteractionId(n),\\\"touchstart\\\"===e.type?(T=!0,U=e.targetTouches[0].pageX,P=e.targetTouches[0].pageY,m.addEventListener(\\\"touchmove\\\",a,p),m.addEventListener(\\\"touchend\\\",i,p)):\\\"mousedown\\\"===e.type&&(T=!1,U=e.clientX,P=e.clientY,m.addEventListener(\\\"mousemove\\\",a,p),m.addEventListener(\\\"mouseup\\\",i,p)),deviceInfo.deviceType.desktop()&&m.addEventListener(\\\"mouseout\\\",r,p),E=y=Date.now(),M=0,j={name:\\\"universalInteraction\\\",universalInteractionId:n,unitSize:{w:m.offsetWidth,h:m.offsetHeight},objectSize:t?{t:Math.round(l.top-o.top),l:Math.round(l.left-o.left),w:Math.round(l.width),h:Math.round(l.height)}:null,path:[],addPoint:function(e,t,n,o){this.path.push({x:Math.round(e-C),y:Math.round(t-D),clientTimestamp:n,objectLocalId:o?o.localId:null})}},j=c(j,t),j.addPoint(U,P,E\/1e3,t)}}}function o(e,t){return Math.sqrt(e*e+t*t)}function a(e){if(b){L&&(S.clearTimeout(L),L=null);var t,n;\\\"touchmove\\\"===e.type?(t=e.targetTouches[0].pageX,n=e.targetTouches[0].pageY):\\\"mousemove\\\"===e.type&&(t=e.clientX,n=e.clientY),M+=o(t-U,n-P),U=t,P=n;var a=Date.now(),r=a-E,i=Math.pow(j.path.length\/(.5*v),6),c=Math.pow((a-y)\/s,6);j.path.length<f&&(M>l+i*l||r>d+c*d)&&(j.addPoint(t,n,a\/1e3,u(document.elementFromPoint(t,n))),E=a,M=0)}}function r(e){var t=Date.now();L=S.setTimeout(function(){i(e,t)},200)}function i(e,t){b&&(b=!1,t||(t=Date.now()),j.addPoint(U,P,t\/1e3,u(document.elementFromPoint(U,P))),I.track(j),g.sendUserInteractionToPreview&&g.sendUserInteractionToPreview(),T?(m.removeEventListener(\\\"touchmove\\\",a,p),m.removeEventListener(\\\"touchend\\\",i,p)):(m.removeEventListener(\\\"mousemove\\\",a,p),m.removeEventListener(\\\"mouseup\\\",i,p)),deviceInfo.deviceType.desktop()&&m.removeEventListener(\\\"mouseout\\\",r,p))}function c(e,t){var n=null,o=null,a=null,r=!1;return t instanceof Screen?(n=t,o=null,a=n.parentUnitVariant,r=!0):\\\"undefined\\\"!=typeof ScreenObject&&t instanceof ScreenObject?(n=t.parentScreen,o=t,a=n.parentUnitVariant,r=!0):\\\"undefined\\\"!=typeof CreativeUnitVariant&&t instanceof CreativeUnitVariant&&(n=null,o=null,a=t,r=!0),r?extend({unitName:a?a.parentUnit.name:n.parentUnit.name,unitVariantLocalId:a?a.localId:null,screenLocalId:n?n.localId:null,screenTitle:n?n.title:null,screenIsMaster:n?n.isMasterScreen():null,objectLocalId:o?o.localId:null,objectName:o?o.name:null,objectClazz:o?o.constructor.name:null,initiationTimestamp:new Date\/1e3},e):e}function u(e){function t(e){for(var a in e)if(e.hasOwnProperty(a)){if(e[a].name&&e[a].name==o)return e[a];if(e[a].localId&&e[a].localId==n)return e[a];var r;if(e[a].variants?r=t(e[a].variants):e[a].screens?r=t(e[a].screens):e[a].objects?r=t(e[a].objects):e[a].content&&e[a].content.objects?r=t(e[a].content.objects):e[a].component&&(r=e[a].component),r)return r}}if(!e)return null;for(var n,o,a=e;;){if(a.id&&0==a.id.indexOf(\\\"celtra-\\\")){o=a.id.replace(\\\"celtra-\\\",\\\"\\\"),0==a.id.indexOf(\\\"celtra-object-\\\")&&(n=a.id.replace(\\\"celtra-object-\\\",\\\"\\\"));var r=t(w);if(r)return\\\"undefined\\\"!=typeof CreativeUnit&&r instanceof CreativeUnit?r.currentScreen:r}if(!a.parentNode)break;a=a.parentNode}return null}var l=15,d=150,s=1e3,v=15,f=v+5,p={capture:!0,passive:!0},m=e,h=t,g=t.adapter,I=g.trackingCenter,w=t.units,b=!1,L=null,T=!0,j={},M=0,y=null,E=Date.now(),U=0,C=0,P=0,D=0,S=e.ownerDocument.defaultView||e.ownerDocument.parentWindow;attach(m,\\\"touchstart\\\",n,p),attach(m,\\\"mousedown\\\",n,p)};\\nfunction Tapper(t,e){function a(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,\\\"touchable\\\")||\\\"a\\\"===n&&e.href||\\\"button\\\"===n||\\\"img\\\"===n||\\\"input\\\"===n&&e.type&&\\\"button\\\"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function n(t,e){var a=t.ownerDocument.createEvent(\\\"MouseEvents\\\");a.initEvent(\\\"tap\\\",!0,!0),e.dispatchEvent(a)}var c=\\\"undefined\\\"!=typeof creative&&creative.adapter||adapter;e=e||c.useNativeClickForTapDetection,e&&(attach(t,\\\"click\\\",function(e){var c=a(e.target);c&&n(t,c)},!c.nativeClickEmittedOnSwipe),c.useNativeClickForTapDetection)||attach(t,\\\"touchstart\\\",function(o){var r=a(o.target);if(r){var i=!1;if(celtra.iframe()){var u=function(){var t=c.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]},h=u();i=!0}var s=10,d=o.targetTouches[0].clientX-s,v=o.targetTouches[0].clientX+s,l=o.targetTouches[0].clientY-s,f=o.targetTouches[0].clientY+s;addClass(r,\\\"touched\\\");var p=!1,g=!1,m=!1,T=!1,C=new Date,w=function(t){if(!p&&!g){var e=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY;p=i&&h.toString()!=u().toString(),g=!(e>=d&&v>=e&&a>=l&&f>=a),g||p?removeClass(r,\\\"touched\\\"):addClass(r,\\\"touched\\\")}},k=function(){if(!T&&(T=!0,detach(t,\\\"touchmove\\\",w,!1),detach(t,\\\"touchend\\\",arguments.callee,!1),hasClass(r,\\\"touched\\\"))){var a=200,c=new Date-C>a&&!deviceInfo.deviceType.desktop();if(removeClass(r,\\\"touched\\\"),g||p||m||c)return;e||n(t,r)}},y=function(){detach(t,\\\"touchend\\\",y,!0),nextFrame(function(){m=!0,k()})};attach(t,\\\"touchcancel\\\",function(t){removeClass(r,\\\"touched\\\"),k(t)},!1),attach(t,\\\"touchmove\\\",w,!1),attach(t,\\\"touchend\\\",k,!1),attach(t,\\\"touchend\\\",y,!0)}},!0)};\\nfunction TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void(\\\"function\\\"==typeof Logger&&Logger(\\\"TouchEventSimulator\\\").warn(\\\"Touch event simulator already initialised!\\\")):(\\\"function\\\"==typeof Logger&&Logger(\\\"TouchEventSimulator\\\").log(\\\"Enabling touch event simulation\\\"),this.doc.defaultView.msPointerEnabled?this.startPointers():this.startMouse(),this.el.addEventListener(\\\"touchstart\\\",this.captureBubbleEvents,!1),this.el.addEventListener(\\\"touchmove\\\",this.captureBubbleEvents,!1),this.el.addEventListener(\\\"touchend\\\",this.captureBubbleEvents,!1),this.el.addEventListener(\\\"touchcancel\\\",this.captureBubbleEvents,!1),void this.el.addEventListener(\\\"tap\\\",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?(\\\"function\\\"==typeof Logger&&Logger(\\\"TouchEventSimulator\\\").log(\\\"Disabling touch event simulation\\\"),this.win&&this.win.msPointerEnabled?this.stopPointers():this.stopMouse(),this.el.removeEventListener(\\\"touchstart\\\",this.captureBubbleEvents,!1),this.el.removeEventListener(\\\"touchmove\\\",this.captureBubbleEvents,!1),this.el.removeEventListener(\\\"touchend\\\",this.captureBubbleEvents,!1),this.el.removeEventListener(\\\"touchcancel\\\",this.captureBubbleEvents,!1),void this.el.removeEventListener(\\\"tap\\\",this.captureBubbleEvents,!1)):void(\\\"function\\\"==typeof Logger&&Logger(\\\"TouchEventSimulator\\\").warn(\\\"Touch event simulator not running!\\\"))},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener(\\\"mousedown\\\",this.handleMouseDown,!0),this.el.addEventListener(\\\"mousemove\\\",this.handleMouseMove,!0),this.el.addEventListener(\\\"mouseup\\\",this.handleMouseUp,!0),this.el.addEventListener(\\\"mouseout\\\",this.handleMouseOut,!0),this.el.addEventListener(\\\"dragstart\\\",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener(\\\"mousedown\\\",this.handleMouseDown,!0),this.el.removeEventListener(\\\"mousemove\\\",this.handleMouseMove,!0),this.el.removeEventListener(\\\"mouseup\\\",this.handleMouseUp,!0),this.el.removeEventListener(\\\"mouseout\\\",this.handleMouseOut,!0),this.el.removeEventListener(\\\"dragstart\\\",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener(\\\"MSPointerDown\\\",this.handlePointerDown,!0),this.el.addEventListener(\\\"MSPointerMove\\\",this.handlePointerMove,!0),this.el.addEventListener(\\\"MSPointerUp\\\",this.handlePointerUp,!0),this.el.addEventListener(\\\"MSPointerCancel\\\",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener(\\\"MSPointerDown\\\",this.handlePointerDown,!0),this.el.removeEventListener(\\\"MSPointerMove\\\",this.handlePointerMove,!0),this.el.removeEventListener(\\\"MSPointerUp\\\",this.handlePointerUp,!0),this.el.removeEventListener(\\\"MSPointerCancel\\\",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start():(this.el.addEventListener(\\\"touchstart\\\",this.handleFirstEvent,!0),this.el.addEventListener(\\\"mousedown\\\",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=[\\\"select\\\",\\\"input\\\",\\\"textarea\\\"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,\\\"ignore-toucheventsimulator\\\"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener(\\\"touchstart\\\",this.handleFirstEvent,!0),this.el.removeEventListener(\\\"mousedown\\\",this.handleFirstEvent,!0),\\\"touch\\\"!=TouchEventSimulator.mode&&\\\"mousedown\\\"==t.type?(TouchEventSimulator.mode=\\\"mouse\\\",this.start(),this.handleMouseDown(t)):TouchEventSimulator.mode=\\\"touch\\\")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent(\\\"touchstart\\\",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent(\\\"touchmove\\\",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent(\\\"touchend\\\",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent(\\\"touchstart\\\",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent(\\\"touchmove\\\",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent(\\\"touchend\\\",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent(\\\"touchcancel\\\",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent(\\\"HTMLEvents\\\");n.initEvent(t,!0,!0),\\\"touchend\\\"==t||\\\"touchcancel\\\"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch]):n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent(\\\"touchcancel\\\",this.touch),this.touch=null)};;\\nfunction SwipeListener(t){function e(t,e){return Math.abs(t)>Math.abs(e)?t>0?\\\"east\\\":\\\"west\\\":e>0?\\\"south\\\":\\\"north\\\"}function a(){detach(l(),\\\"touchmove\\\",n,!1),detach(l(),\\\"touchend\\\",c,!1)}function n(t){if(t.touches.length>1)a();else{var n=t.changedTouches[0].pageX-o,c=t.changedTouches[0].pageY-i;if(r=Math.max(Math.abs(n),Math.abs(c)),r>Math.min(50,g))if(null===u)u=e(n,c);else{var h=e(n,c);u!=h&&a()}}}function c(){a(),r>=g&&(d(u,r),v.attachClickPreventionHandler())}function h(t){creative.adapter.useNativeClickForTapDetection||t.preventDefault(),1==t.touches.length&&(o=t.changedTouches[0].pageX,i=t.changedTouches[0].pageY,r=0,u=null,attach(l(),\\\"touchmove\\\",n,!1),attach(l(),\\\"touchend\\\",c,!1),v.detachClickPreventionHandler())}var o,i,u,r,s=t.target,l=t.swipeNodeGetter,d=t.swipe,g=t.minLength||50,v=Object.create(ClickPreventer).initClickPrevention(function(){return s});attach(window,\\\"touchstart\\\",noop,!1),attach(s,\\\"touchstart\\\",h,!1)};\\nvar ClickPreventer={initClickPrevention:function(e){return this._getDefaultClickPreventionNode=e||function(){},this._clickPreventionNode=null,this._clickPreventionHandler=this._clickPreventionHandler.bind(this),this},attachClickPreventionHandler:function(e){creative.adapter.nativeClickEmittedOnSwipe&&!this._clickPreventionNode&&(this._clickPreventionNode=e||this._getDefaultClickPreventionNode(),attach(this._clickPreventionNode,\\\"click\\\",this._clickPreventionHandler,!0))},detachClickPreventionHandler:function(){creative.adapter.nativeClickEmittedOnSwipe&&this._clickPreventionNode&&(detach(this._clickPreventionNode,\\\"click\\\",this._clickPreventionHandler,!0),this._clickPreventionNode=null)},_clickPreventionHandler:function(e){e.stopPropagation(),this.detachClickPreventionHandler()}};;\\nfunction PlaceboBar(e,t,a,i){var n=!1,r=document.createElement(\\\"div\\\");r.className=\\\"celtra-placebobar\\\",r.style.cssText=\\\"position: absolute; bottom: 60px; left: 0; right: 0; margin: auto; z-index: 20; width: 215px; height: 8px;\\\";var l=document.createElement(\\\"img\\\");l.src=creative.resourceUrl+\\\"runner\/clazzes\/CreativeUnit\/loading-back.png\\\",l.style.position=\\\"absolute\\\",l.style.width=\\\"100%\\\",l.style.height=\\\"100%\\\",r.appendChild(l);var o=document.createElement(\\\"div\\\");o.style.position=\\\"absolute\\\",o.style.top=\\\"2px\\\",o.style.bottom=\\\"2px\\\",o.style.left=\\\"3px\\\",o.style.right=\\\"3px\\\",r.appendChild(o);var s=document.createElement(\\\"div\\\");return s.style.background=\\\"url(\\\"+creative.resourceUrl+\\\"runner\/clazzes\/CreativeUnit\/loading-over.png) \\\"+i+\\\" repeat-x\\\",s.style.position=\\\"absolute\\\",s.style.width=\\\"0\\\",s.style.height=\\\"100%\\\",o.appendChild(s),r.start=function(){function i(){if(r.parentNode){var n=Math.min((new Date-l)\/e,t);s.style.width=100*n+\\\"%\\\",t>n&&setTimeout(i,2*a*Math.random())}}if(!n){n=!0;var l=new Date;setTimeout(i,0)}},r};\\nvar EventEmitter={emit:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll:function(t,e){t.split(\\\" \\\").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,\\\"undefined\\\"!=typeof module&&null!==module&&(module.exports=EventEmitter);;\\nfunction InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width:0,height:0,area:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions():this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),i=t.intersect(e),n=!1;this.rectInView.equals(i)||(this.rectInView=i,n=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims());var s=this._maxPossibleDimensions.area>0?i.area\/this._maxPossibleDimensions.area:0,o=!1;s!==this.areaInViewRatio&&(this.areaInViewRatio=s,o=!0),n&&(this.emit(\\\"rectInViewChanged\\\",i),Logger(\\\"InViewObject\\\").debug(this.view.toString()+\\\", rectInViewChanged: \\\"+this.rectInView.toString())),o&&(this.emit(\\\"areaInViewRatioChanged\\\",s),Logger(\\\"InViewObject\\\").debug(this.view.toString()+\\\", areaInViewRatioChanged: \\\"+s))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect()):CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on(\\\"rectInViewChanged\\\",this.computeRectInView),this.inViewParent.on(\\\"areaInViewRatioChanged\\\",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off(\\\"rectInViewChanged\\\",this.computeRectInView),this.inViewParent.off(\\\"areaInViewRatioChanged\\\",this.computeRectInView)};;\\nfunction TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),{run:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;\\nfunction DryRunResultSet(t){this._actions=t}DryRunResultSet.prototype.contains=function(t,n){return this._actions.some(function(e){var o=t==e.method,u=!n||n==e.instance;return o&&u})},DryRunResultSet.prototype.getAll=function(){return this._actions},DryRunResultSet.prototype.concat=function(t){return new DryRunResultSet(this._actions.concat(t.getAll()))};;\\nvar ActionInvocationSimulator={_dryRun:!1,_dryRunActions:[],_dryRunExecutedActionsLocalIds:[],beginDryRun:function(){this._dryRun=!0,this._dryRunActions=[],this._dryRunExecutedActionsLocalIds=[]},endDryRun:function(){var n=this._dryRunActions;return this._dryRun=!1,this._dryRunActions=[],this._dryRunExecutedActionsLocalIds=[],new DryRunResultSet(n)},isDryRun:function(){return this._dryRun},needsDryRun:function(n){return!this._dryRunExecutedActionsLocalIds[n]},logActionDryRun:function(n,t,u){this._dryRunExecutedActionsLocalIds[n]=!0,this._dryRunActions.push({method:t,instance:u})}};;\\nvar TriggerHost={_getTriggers:function(r,i){return i||(i=retTrue),this.triggers.filter(function(t){return t.type==r&&i(t.parameters,t)})},_fireArrayOfTriggers:function(r,i,t){var e=this;i||(i=noop),t||(t=new ActionContext(e)),r.waitForEach(function(r,i){r.onFire?r.onFire(t,i):i()},i)},hasTriggers:function(r,i){return this._getTriggers(r,i).length>0},fireTriggersDryRun:function(r,i,t,e){var n;try{ActionInvocationSimulator.beginDryRun(),this.fireTriggers(r,i,t,e)}finally{n=ActionInvocationSimulator.endDryRun()}return n},fireTriggers:function(r,i,t,e){var n=this._getTriggers(r,i);this._fireArrayOfTriggers(n,t,e)},fireSortedTriggers:function(r,i,t,e,n){var g=this._getTriggers(r,i),n=n||null;this._fireArrayOfTriggers(g.sort(n),t,e)},triggerAction:function(r,i,t){this.fireTriggers(i.eventName,null,t,r)},triggerActionByLocalId:function(r,i,t){var e=this.triggers.filter(function(r){return r.localId===i.localId});e.length>0&&this._fireArrayOfTriggers(e,t,r)},triggerByLocalIdAction:function(r,i,t){var e=i.event?[i.event]:[];this._fireArrayOfTriggers(e,t,r)},triggerByLocalIdActionDryRun:function(r,i,t){this.triggerByLocalIdAction(r,i,t)}};;\\nvar SceneHost={_initImmediatelyPlayedScenes:function(){if(this.immediatelyPlayedScenes){var e=[];if(this instanceof Screen){e=this.immediatelyPlayedScenes.appear.scenes;var i=!this.appearedAtLeastOnce;i&&(e=e.concat(this.immediatelyPlayedScenes.firstAppear.scenes))}else e=this.immediatelyPlayedScenes.conditionMet.scenes;e.forEach(function(e){e.renderFirstFrame()})}}};;\\nfunction ActionContext(e,t){if(this._id=randInt(),this.initiator=e,this.initiationTimestamp=new Date\/1e3,\\\"object\\\"==typeof t?(this.consideredUserInitiatedByBrowser=!!t.consideredUserInitiatedByBrowser,this.certainlyNotCausedByUserBehavior=!!t.certainlyNotCausedByUserBehavior):(this.consideredUserInitiatedByBrowser=!!t,this.certainlyNotCausedByUserBehavior=!1),this.inUserInitiatedIteration=this.consideredUserInitiatedByBrowser,this.consideredUserInitiatedByBrowser&&this.certainlyNotCausedByUserBehavior)throw new Error(\\\"Unable to create an ActionContext where both consideredUserInitiatedByBrowser and certainlyNotCausedByUserBehavior are true!\\\");if(e instanceof Screen)this.screen=e,this.screenObject=null,this.unitVariant=this.screen.parentUnitVariant;else if(e instanceof ScreenObject)this.screen=e.parentScreen,this.screenObject=e,this.unitVariant=this.screen.parentUnitVariant;else{if(!(\\\"undefined\\\"!=typeof CreativeUnitVariant&&e instanceof CreativeUnitVariant))throw new Error(\\\"Initiator (\\\"+e+\\\") is not a Screen or a ScreenObject. Analytics would be confused.\\\");this.screen=null,this.screenObject=null,this.unitVariant=e}if(this.inUserInitiatedIteration){var i=function(){this.inUserInitiatedIteration=!1}.bind(this);defer(i),nextFrame(i)}if(this.trackUserInteraction=this.trackUserInteraction.bind(this),this._isAttributable=!!this.screen&&this._isScreenReadyForEventAttribution(),this.screen&&!this.screen.parentUnit.name)throw new Error(\\\"Parent unit missing name.\\\")}ActionContext.prototype._isScreenReadyForEventAttribution=function(){return this.screen.isMasterScreen()?this.screen.parentContainer.screens.some(function(e){return e.appearedAtLeastOnce&&e.isNormalScreen()}):this.screen.appearedAtLeastOnce},ActionContext.prototype.extendEvent=function(e){return extend({unitName:this.unitVariant?this.unitVariant.parentUnit.name:this.screen.parentUnit.name,unitVariantLocalId:this.unitVariant?this.unitVariant.localId:null,screenLocalId:this.screen?this.screen.localId:null,screenTitle:this.screen?this.screen.title:null,screenIsMaster:this.screen?this.screen.isMasterScreen():null,objectLocalId:this.screenObject?this.screenObject.localId:null,objectName:this.screenObject?this.screenObject.name:null,objectClazz:this.screenObject?this.screenObject.constructor.name:null,initiationTimestamp:this.initiationTimestamp},e)},ActionContext.prototype.initiatedBeforeScreenShown=function(){return this.screen&&!this._isAttributable},ActionContext.prototype.track=function(e,t){this.initiatedBeforeScreenShown()&&console.warn('Event \\\"'+e.name+'\\\" appears to be initiated before a screen was ever shown and will be ignored.'),creative.track(this.extendEvent(e),t)},ActionContext.prototype.trackUserInteraction=function(){if(creative.getUserInteracted())creative.interactionTrackingTimeout||(this.track({name:\\\"interaction\\\"}),creative.interactionTrackingTimeout=setTimeout(function(){creative.interactionTrackingTimeout=null},1e3));else{if(creative.runtimeParams.userInteracted=1,creative.experiments.get(\\\"TrackViewableAreaChange\\\")){var e=creative.adapter;e.canMeasureViewportPlacementGeometry&&\\\"function\\\"==typeof e.trackViewableAreaRatio&&e.trackViewableAreaRatio()}this.track({name:\\\"firstInteraction\\\"})}defer(creative.trackingCenter.batchFlush),creative.userInteracted(this)},ActionContext.prototype.trackClickThrough=function(e){e||(e=noop),creative.runtimeParams.clickedThrough?this.track({name:\\\"clickThrough\\\"},e):(creative.runtimeParams.clickedThrough=1,this.track({name:\\\"firstClickThrough\\\"},e)),defer(creative.trackingCenter.batchFlush),creative.clickedThrough(this)};;\\nfunction VideoContext(t,e,i){VideoContext.uberConstructor.call(this,t instanceof ActionContext?t.initiator:t,t&&t.userInitiated),this.file=e,this.url=e.getUrl(),this.label=i,this.source=null}inherit(VideoContext,ActionContext),VideoContext._eventNames=[\\\"videoDurationUpdate\\\",\\\"videoPlayAttempted\\\",\\\"videoPlayedSegment\\\",\\\"videoStart\\\",\\\"videoFirstQuartile\\\",\\\"videoMidpoint\\\",\\\"videoThirdQuartile\\\",\\\"videoComplete\\\"],VideoContext.prototype.registerSource=function(t){if(!t)throw\\\"Not a valid source of video events.\\\";this.source=t,VideoContext._eventNames.forEach(function(t){this.source.on(t,function(e){this.handleEvent(t,e)}.bind(this))}.bind(this))},VideoContext.prototype.handleEvent=function(t,e){this.track(extend(JSON.parse(JSON.stringify(e||{})),{name:t}))},VideoContext.prototype.track=function(t){if(\\\"videoPlayAttempted\\\"==t.name){var e=this.file.url?\\\"URL\\\":\\\"File\\\";extend(t,{sourceType:e,source:\\\"URL\\\"==e?this.file.url:this.file.blobHash,label:this.label})}VideoContext.uber.track.call(this,t)};;\\nfunction ShakeListener(){this.shakeThreshold=1.5,this.canListen=!0,this.slidingWindow=5,this.signals=[],this.handleMotion=this.handleMotion.bind(this),this.topWindow=creative.adapter.getTopWindow()}extend(ShakeListener.prototype,EventEmitter),ShakeListener.prototype.start=function(){this.canListen=!0;var i=window.DeviceMotionEvent&&window.DeviceMotionEvent.requestPermission;creative.deviceMotionListenerAdded||(creative.deviceMotionListenerAdded=!0,i?window.DeviceMotionEvent.requestPermission().then(function(i){\\\"granted\\\"==i?this.topWindow.addEventListener(\\\"devicemotion\\\",this.handleMotion):this.emit(\\\"shakeFallback\\\")}.bind(this))[\\\"catch\\\"](function(i){console.warn(i.message+\\\". Triggering fallback behaviour\\\"),this.emit(\\\"shakeFallback\\\")}.bind(this)):this.topWindow.addEventListener(\\\"devicemotion\\\",this.handleMotion))},ShakeListener.prototype.stop=function(){this.canListen=!1,creative.deviceMotionListenerAdded&&(creative.deviceMotionListenerAdded=!1,this.topWindow.removeEventListener(\\\"devicemotion\\\",this.handleMotion))},ShakeListener.prototype.handleMotion=function(i){if(this.canListen){this.signals.push(i.accelerationIncludingGravity),this.signals.length>this.slidingWindow&&this.signals.shift();var e=this.signals.reduce(function(i,e){return{x:i.x+e.x,y:i.y+e.y,z:i.z+e.z}}),t={x:e.x\/this.signals.length,y:e.y\/this.signals.length,z:e.z\/this.signals.length};if(this.prevSignal){var n=null,s=Math.abs(t.x-this.prevSignal.x),h=Math.abs(t.y-this.prevSignal.y),o=Math.abs(t.z-this.prevSignal.z);if(90===Math.abs(creative.adapter.orientation)){var a=h;h=s,s=a}s>h&&s>o&&s>this.shakeThreshold?n=\\\"x\\\":h>s&&h>o&&h>this.shakeThreshold?n=\\\"y\\\":o>s&&o>h&&o>this.shakeThreshold&&(n=\\\"z\\\"),(s>this.shakeThreshold||h>this.shakeThreshold||o>this.shakeThreshold)&&this.emit(\\\"shake\\\",n)}this.prevSignal=t}};;\\n!function(){\\\"use strict\\\";function t(t){return\\\"italic\\\"===String(t).toLowerCase()?\\\"italic\\\":\\\"\\\"}function e(t){var e=\/normal|bold|([1-9])00\/i.exec(t);if(\\\"undefined\\\"==typeof e)return\\\"\\\";var i=e[0];return\\\"normal\\\"===i?\\\"400\\\":\\\"bold\\\"===i?\\\"700\\\":i}function i(i){var n=i.family.replace(\/ \/g,\\\"+\\\"),o=t(i.style),s=e(i.weight),r=s+o;return r.length>0?n+\\\":\\\"+r:n}function n(t,e,i){if(l){var n=\\\"300px\\\",o=t.style+\\\" \\\"+t.weight+\\\" \\\"+n+' \\\"'+t.getBrowserCompatibleFontFamily()+'\\\"',s=t.hasUnicodeRangeDefined()&&t.hasSubsetStringDefined()?t.getSubsetString():\\\" \\\";document.fonts.load(o,s).then(function(t){t.length>=1?e():i()},function(){i()})}else{if(\\\"undefined\\\"==typeof FontLoader)return void i(\\\"Font Loader is not initialized.\\\");FontLoader.watch(t.getBrowserCompatibleFontFamily(),t.style,t.weight,e,i,t.getSubsetString())}}function o(t,e,i){var o=\\\"font-style-manager\\\",s=document.getElementById(o);s||(s=document.createElement(\\\"style\\\"),s.id=o,document.getElementsByTagName(\\\"head\\\")[0].appendChild(s));var r=t.generateFontFace();if(!r)return void i(\\\"Unable to define style for font without specifying files, style and weight.\\\");var a=[].slice.apply(s.sheet.cssRules).some(function(e){var i=e.style.getPropertyValue(\\\"font-family\\\").replace(\/^['\\\"](.+)['\\\"]$\/,\\\"$1\\\");return i==t.getBrowserCompatibleFontFamily()&&e.style.getPropertyValue(\\\"font-style\\\")==t.style&&e.style.getPropertyValue(\\\"font-weight\\\")==t.weight});a||s.sheet.insertRule(r,s.sheet.cssRules.length),n(t,e,i)}function s(t,e,i,o){var s=[].slice.apply(document.getElementsByTagName(\\\"link\\\")).filter(function(t){return t.href===e})[0];if(s||(s=document.createElement(\\\"link\\\"),s.setAttribute(\\\"rel\\\",\\\"stylesheet\\\"),s.setAttribute(\\\"media\\\",\\\"all\\\"),s.setAttribute(\\\"href\\\",e)),l){var r=function(){s._finished=!0,n(t,i,o)};s._finished?n(t,i,o):(s.addEventListener(\\\"load\\\",r),s.addEventListener(\\\"error\\\",r))}else setTimeout(function(){n(t,i,o)},0);s.parentNode||document.getElementsByTagName(\\\"head\\\")[0].appendChild(s)}function r(t){for(var e in t)this[e]=t[e]}var a=2,l=function(t,e){var i=!!document.fonts;if(\/Apple\/.test(e)){var n=\/AppleWebKit\\\\\/([0-9]+)(?:\\\\.([0-9]+))(?:\\\\.([0-9]+))\/.exec(t);return i&&parseInt(n[1],10)>603}var o=\/Gecko.*Firefox\\\\\/(\\\\d+)\/.exec(t);return o?i&&parseInt(o[1],10)>46:i}(window.navigator.userAgent,window.navigator.vendor),f=[\\\"Droid Sans\\\"];r.prototype.getId=function(){return this.typefaceId||this.id},r.prototype.getSubsetString=function(){return this.subset},r.prototype.getTrackingUrl=function(){return this.trackingUrl},r.prototype.getUnicodeRange=function(){return this.unicodes},r.prototype.getBrowserCompatibleFontFamily=function(){if(this.isAdobe()||this.useGoogleFontsAPI()||this.isSystem())return this.family;var t=this.family+(this.stretch?\\\" \\\"+this.stretch:\\\"\\\")+\\\" \\\"+this.provider;if(this.hasSubsetStringDefined()&&!this.hasUnicodeRangeDefined()&&(t+=\\\" \\\"+encodeURIComponent(this.getSubsetString())),t.length>25){for(var e,i=5381,n=0,o=t.length;o>n;n++)e=t.charCodeAt(n),i=(i<<5)+i+e;return i.toString()}return t},r.prototype.setBaseUrl=function(t){this.baseUrl=t},r.prototype.isAdobe=function(){return\\\"adobe\\\"===this.provider},r.prototype.isCustom=function(){return\\\"custom\\\"===this.provider},r.prototype.isGoogle=function(){return\\\"google\\\"===this.provider},r.prototype.isMonotype=function(){return\\\"monotype\\\"===this.provider},r.prototype.isSystem=function(){return\\\"system\\\"===this.provider},r.prototype.hasSubsetStringDefined=function(){var t=this.getSubsetString();return\\\"string\\\"==typeof t&&t.length>0},r.prototype.hasTrackingUrlDefined=function(){var t=this.getTrackingUrl();return\\\"string\\\"==typeof t&&t.length>0},r.prototype.hasUnicodeRangeDefined=function(){var t=this.getUnicodeRange();return\\\"string\\\"==typeof t&&t.length>0},r.prototype.needsLoading=function(){return this.isAdobe()||this.isCustom()||this.isGoogle()||this.isMonotype()},r.prototype.useGoogleFontsAPI=function(){return\\\"google\\\"===this.provider&&-1!==f.indexOf(this.family)},r.prototype.getCssProperties=function(){return{\\\"font-family\\\":this.needsLoading()?'\\\"'+this.getBrowserCompatibleFontFamily()+'\\\", Helvetica, sans-serif':this.getBrowserCompatibleFontFamily(),\\\"font-style\\\":this.style,\\\"font-weight\\\":this.weight}},r.prototype.getFileUrl=function(t){if(\\\"string\\\"==typeof this.baseUrl){var e,n=this.hasSubsetStringDefined();if(this.isGoogle()){var o=i(this);e=this.baseUrl+\\\"google\/\\\"+o+\\\"\/\\\"+a+\\\"_webfont.\\\"+t}else if(\\\"undefined\\\"!=typeof this.files&&\\\"undefined\\\"!=typeof this.files[t]){var s=this.getId();if(\\\"string\\\"!=typeof s)return this.baseUrl+this.files[t]+\\\".\\\"+t;var r,l=this.files[t].blobHash,f=this.files[t].name||\\\"webfont\\\";r=n?a+\\\"_\\\"+l:l,e=this.baseUrl+s+\\\"\/\\\"+r+\\\"\/\\\"+encodeURIComponent(f)+\\\".\\\"+t}return\\\"string\\\"==typeof e&&n&&(e+=\\\"?subset=\\\"+encodeURIComponent(this.getSubsetString())),e}},r.prototype.generateFontFace=function(){var t=\\\"\\\",e=[],i=this.getFileUrl(\\\"woff2\\\");i&&e.push('url(\\\"'+i+'\\\") format(\\\"woff2\\\")');var n=this.getFileUrl(\\\"woff\\\");n&&e.push('url(\\\"'+n+'\\\") format(\\\"woff\\\")');var o=this.getFileUrl(\\\"ttf\\\");return o&&e.push('url(\\\"'+o+'\\\") format(\\\"truetype\\\")'),this.style&&this.weight&&e.length>0&&(t=\\\"@font-face {\\\",t+='font-family: \\\"'+this.getBrowserCompatibleFontFamily()+'\\\";',t+=\\\"font-style: \\\"+this.style+\\\";\\\",t+=\\\"font-weight: \\\"+this.weight+\\\";\\\",t+=\\\"src:\\\"+e.join(\\\",\\\")+\\\";\\\",this.hasUnicodeRangeDefined()&&(t+=\\\"unicode-range: \\\"+this.getUnicodeRange()+\\\";\\\"),t+=\\\"}\\\"),t},r.prototype.loadStyle=function(t){t=t||function(){};var e=function(e){t(e||\\\"Failed to load font files.\\\")};if(this.isCustom()||this.isGoogle()&&!this.useGoogleFontsAPI()||this.isMonotype())o(this,t,e);else if(this.isAdobe())if(\\\"string\\\"==typeof this.projectId){var n=\\\"https:\/\/use.typekit.net\/\\\"+this.projectId+\\\".css\\\";s(this,n,t,e)}else e(\\\"Missing Adobe web project id.\\\");else if(this.useGoogleFontsAPI()){var r=i(this),n=\\\"https:\/\/fonts.googleapis.com\/css?family=\\\"+r;this.hasSubsetStringDefined()&&(n+=\\\"&text=\\\"+encodeURIComponent(this.getSubsetString())),s(this,n,t,e)}else this.isSystem()?t():e(\\\"Invalid or unsupported provider.\\\")},Object.defineProperty(r,\\\"useCSSFontLoadingAPI\\\",{value:l}),window.FontBase=r}();;\\nvar ScreenNodeTransition={replace:function(t,e,r,s,i,a){r.style.opacity=0,r.style.display=\\\"block\\\",s.style.display=\\\"block\\\",e.style.display=\\\"none\\\",nextFrame(function(){r.style.opacity=1,t.style.opacity=0,nextFrame(function(){t.style.display=\\\"none\\\",nextFrame(a||noop)})})},fade:function(t,e,r,s,i,a){function n(){celtra.styler.css(r,\\\"transition\\\",\\\"\\\"),celtra.styler.css(t,\\\"transition\\\",\\\"\\\"),t.style.display=\\\"none\\\",nextFrame(a||noop)}r.style.opacity=0,r.style.display=\\\"block\\\",s.style.display=\\\"block\\\",e.style.display=\\\"none\\\",once(t,\\\"transitionend\\\",n),nextFrame(function(){celtra.styler.css(t,\\\"transition\\\",\\\"opacity \\\"+i.duration+\\\"ms ease-out\\\"),celtra.styler.css(r,\\\"transition\\\",\\\"opacity \\\"+i.duration+\\\"ms ease-out\\\"),nextFrame(function(){r.style.opacity=1,t.style.opacity=0})})},slide:function(t,e,r,s,i,a){var n={transition:\\\"all \\\"+i.duration+\\\"ms ease-out\\\"};switch(i.direction||\\\"west\\\"){case\\\"north\\\":n.startingFrom=\\\"translateY(0)\\\",n.endingFrom=\\\"translateY(\\\"+-i.unitSize.height+\\\"px)\\\",n.startingTo=\\\"translateY(\\\"+i.unitSize.height+\\\"px)\\\",n.endingTo=\\\"translateY(0)\\\";break;case\\\"south\\\":n.startingFrom=\\\"translateY(0)\\\",n.endingFrom=\\\"translateY(\\\"+i.unitSize.height+\\\"px)\\\",n.startingTo=\\\"translateY(\\\"+-i.unitSize.height+\\\"px)\\\",n.endingTo=\\\"translateY(0)\\\";break;case\\\"east\\\":n.startingFrom=\\\"translateX(0)\\\",n.endingFrom=\\\"translateX(\\\"+i.unitSize.width+\\\"px)\\\",n.startingTo=\\\"translateX(\\\"+-i.unitSize.width+\\\"px)\\\",n.endingTo=\\\"translateX(0)\\\";break;case\\\"west\\\":n.startingFrom=\\\"translateX(0)\\\",n.endingFrom=\\\"translateX(\\\"+-i.unitSize.width+\\\"px)\\\",n.startingTo=\\\"translateX(\\\"+i.unitSize.width+\\\"px)\\\",n.endingTo=\\\"translateX(0)\\\"}n.startingFromOpacity=1,n.startingToOpacity=0,n.endingFromOpacity=0,n.endingToOpacity=1,this._runTransition(t,e,r,s,n,i.duration,a)},flip:function(t,e,r,s,i,a){var n={transition:\\\"all \\\"+i.duration+\\\"ms ease-out\\\"},o=\\\"perspective(\\\"+2*i.unitSize.width+\\\"px) \\\";switch(i.direction||\\\"west\\\"){case\\\"north\\\":n.startingFrom=o+\\\"rotateX(0)\\\",n.endingFrom=o+\\\"rotateX(180deg)\\\",n.startingTo=o+\\\"rotateX(-180deg)\\\",n.endingTo=o+\\\"rotateX(0)\\\";break;case\\\"south\\\":n.startingFrom=o+\\\"rotateX(0)\\\",n.endingFrom=o+\\\"rotateX(-180deg)\\\",n.startingTo=o+\\\"rotateX(180deg)\\\",n.endingTo=o+\\\"rotateX(0)\\\";break;case\\\"east\\\":n.startingFrom=o+\\\"rotateY(0)\\\",n.endingFrom=o+\\\"rotateY(180deg)\\\",n.startingTo=o+\\\"rotateY(-180deg)\\\",n.endingTo=o+\\\"rotateY(0)\\\";break;case\\\"west\\\":n.startingFrom=o+\\\"rotateY(0)\\\",n.endingFrom=o+\\\"rotateY(-180deg)\\\",n.startingTo=o+\\\"rotateY(180deg)\\\",n.endingTo=o+\\\"rotateY(0)\\\"}celtra.styler.css(t.parentNode,\\\"transformStyle\\\",\\\"preserve-3d\\\"),celtra.styler.css(t,\\\"backfaceVisibility\\\",\\\"hidden\\\"),celtra.styler.css(e,\\\"backfaceVisibility\\\",\\\"hidden\\\"),celtra.styler.css(r,\\\"backfaceVisibility\\\",\\\"hidden\\\"),celtra.styler.css(s,\\\"backfaceVisibility\\\",\\\"hidden\\\"),celtra.styler.css(t,\\\"transformOrigin\\\",\\\"50% 50% 0\\\"),celtra.styler.css(e,\\\"transformOrigin\\\",\\\"50% 50% 0\\\"),celtra.styler.css(r,\\\"transformOrigin\\\",\\\"50% 50% 0\\\"),celtra.styler.css(s,\\\"transformOrigin\\\",\\\"50% 50% 0\\\"),this._runTransition(t,e,r,s,n,i.duration,function(){celtra.styler.css(t.parentNode,\\\"transformStyle\\\",\\\"\\\"),celtra.styler.css(t,\\\"backfaceVisibility\\\",\\\"\\\"),celtra.styler.css(e,\\\"backfaceVisibility\\\",\\\"\\\"),celtra.styler.css(r,\\\"backfaceVisibility\\\",\\\"\\\"),celtra.styler.css(s,\\\"backfaceVisibility\\\",\\\"\\\"),celtra.styler.css(t,\\\"transform\\\",\\\"\\\"),celtra.styler.css(e,\\\"transform\\\",\\\"\\\"),celtra.styler.css(r,\\\"transform\\\",\\\"\\\"),celtra.styler.css(s,\\\"transform\\\",\\\"\\\"),celtra.styler.css(t,\\\"transformOrigin\\\",\\\"\\\"),celtra.styler.css(e,\\\"transformOrigin\\\",\\\"\\\"),celtra.styler.css(r,\\\"transformOrigin\\\",\\\"\\\"),celtra.styler.css(s,\\\"transformOrigin\\\",\\\"\\\"),nextFrame(a||noop)})},cube:function(t,e,r,s,i,a){var n={transition:\\\"all \\\"+i.duration+\\\"ms ease-out\\\"},o=\\\"perspective(\\\"+2*i.unitSize.width+\\\"px) \\\";switch(i.direction||\\\"west\\\"){case\\\"north\\\":n.startingFrom=o+\\\"translateZ(\\\"+-i.unitSize.height\/2+\\\"px) rotateX(0)     \\\",n.endingFrom=o+\\\"translateZ(\\\"+-i.unitSize.height\/2+\\\"px) rotateX(90deg) \\\",n.startingTo=o+\\\"translateZ(\\\"+-i.unitSize.height\/2+\\\"px) rotateX(-90deg)\\\",n.endingTo=o+\\\"translateZ(\\\"+-i.unitSize.height\/2+\\\"px) rotateX(0)     \\\";break;case\\\"south\\\":n.startingFrom=o+\\\"translateZ(\\\"+-i.unitSize.height\/2+\\\"px) rotateX(0)     \\\",n.endingFrom=o+\\\"translateZ(\\\"+-i.unitSize.height\/2+\\\"px) rotateX(-90deg)\\\",n.startingTo=o+\\\"translateZ(\\\"+-i.unitSize.height\/2+\\\"px) rotateX(90deg) \\\",n.endingTo=o+\\\"translateZ(\\\"+-i.unitSize.height\/2+\\\"px) rotateX(0)     \\\";break;case\\\"east\\\":n.startingFrom=o+\\\"translateZ(\\\"+-i.unitSize.width\/2+\\\"px) rotateY(0)     \\\",n.endingFrom=o+\\\"translateZ(\\\"+-i.unitSize.width\/2+\\\"px) rotateY(90deg) \\\",n.startingTo=o+\\\"translateZ(\\\"+-i.unitSize.width\/2+\\\"px) rotateY(-90deg)\\\",n.endingTo=o+\\\"translateZ(\\\"+-i.unitSize.width\/2+\\\"px) rotateY(0)     \\\";break;case\\\"west\\\":n.startingFrom=o+\\\"translateZ(\\\"+-i.unitSize.width\/2+\\\"px) rotateY(0)     \\\",n.endingFrom=o+\\\"translateZ(\\\"+-i.unitSize.width\/2+\\\"px) rotateY(-90deg)\\\",n.startingTo=o+\\\"translateZ(\\\"+-i.unitSize.width\/2+\\\"px) rotateY(90deg) \\\",n.endingTo=o+\\\"translateZ(\\\"+-i.unitSize.width\/2+\\\"px) rotateY(0)     \\\"}var l=t.style.overflow,c=e.style.overflow,y=r.style.overflow,d=s.style.overflow;switch(celtra.styler.css(t.parentNode,\\\"transformStyle\\\",\\\"preserve-3d\\\"),t.style.overflow=e.style.overflow=\\\"hidden\\\",r.style.overflow=s.style.overflow=\\\"hidden\\\",celtra.styler.css(t,\\\"backfaceVisibility\\\",\\\"hidden\\\"),celtra.styler.css(e,\\\"backfaceVisibility\\\",\\\"hidden\\\"),celtra.styler.css(r,\\\"backfaceVisibility\\\",\\\"hidden\\\"),celtra.styler.css(s,\\\"backfaceVisibility\\\",\\\"hidden\\\"),i.direction||\\\"west\\\"){case\\\"north\\\":case\\\"south\\\":celtra.styler.css(t,\\\"transformOrigin\\\",\\\"50% 50% \\\"+-i.unitSize.height\/2+\\\"px\\\"),celtra.styler.css(e,\\\"transformOrigin\\\",\\\"50% 50% \\\"+-i.unitSize.height\/2+\\\"px\\\"),celtra.styler.css(r,\\\"transformOrigin\\\",\\\"50% 50% \\\"+-i.unitSize.height\/2+\\\"px\\\"),celtra.styler.css(s,\\\"transformOrigin\\\",\\\"50% 50% \\\"+-i.unitSize.height\/2+\\\"px\\\");break;case\\\"east\\\":case\\\"west\\\":celtra.styler.css(t,\\\"transformOrigin\\\",\\\"50% 50% \\\"+-i.unitSize.width\/2+\\\"px\\\"),celtra.styler.css(e,\\\"transformOrigin\\\",\\\"50% 50% \\\"+-i.unitSize.width\/2+\\\"px\\\"),celtra.styler.css(r,\\\"transformOrigin\\\",\\\"50% 50% \\\"+-i.unitSize.width\/2+\\\"px\\\"),celtra.styler.css(s,\\\"transformOrigin\\\",\\\"50% 50% \\\"+-i.unitSize.width\/2+\\\"px\\\")}this._runTransition(t,e,r,s,n,i.duration,function(){celtra.styler.css(t.parentNode,\\\"transformStyle\\\",\\\"\\\"),t.style.overflow=l,e.style.overflow=c,r.style.overflow=y,s.style.overflow=d,celtra.styler.css(t,\\\"transformOrigin\\\",\\\"\\\"),celtra.styler.css(e,\\\"transformOrigin\\\",\\\"\\\"),celtra.styler.css(r,\\\"transformOrigin\\\",\\\"\\\"),celtra.styler.css(s,\\\"transformOrigin\\\",\\\"\\\"),celtra.styler.css(t,\\\"backfaceVisibility\\\",\\\"\\\"),celtra.styler.css(e,\\\"backfaceVisibility\\\",\\\"\\\"),celtra.styler.css(r,\\\"backfaceVisibility\\\",\\\"\\\"),celtra.styler.css(s,\\\"backfaceVisibility\\\",\\\"\\\"),nextFrame(a||noop)})},_runTransition:function(t,e,r,s,i,a,n){function o(){l||(l=!0,celtra.styler.css(r,\\\"transition\\\",\\\"\\\"),celtra.styler.css(s,\\\"transition\\\",\\\"\\\"),celtra.styler.css(t,\\\"transition\\\",\\\"\\\"),celtra.styler.css(e,\\\"transition\\\",\\\"\\\"),celtra.styler.css(r,\\\"transform\\\",\\\"\\\"),celtra.styler.css(s,\\\"transform\\\",\\\"\\\"),celtra.styler.css(t,\\\"transform\\\",\\\"\\\"),celtra.styler.css(e,\\\"transform\\\",\\\"\\\"),t.style.display=e.style.display=\\\"none\\\",t.style.opacity=e.style.opacity=r.style.opacity=s.style.opacity=\\\"\\\",nextFrame(n||noop))}celtra.styler.css(t,\\\"transform\\\",i.startingFrom),celtra.styler.css(e,\\\"transform\\\",i.startingFrom),celtra.styler.css(r,\\\"transform\\\",i.startingTo),celtra.styler.css(s,\\\"transform\\\",i.startingTo),t.style.opacity=e.style.opacity=\\\"undefined\\\"==typeof i.startingFromOpacity?1:i.startingFromOpacity,r.style.opacity=s.style.opacity=\\\"undefined\\\"==typeof i.startingToOpacity?1:i.startingToOpacity,r.style.display=s.style.display=\\\"block\\\";var l=!1,c=this._runOnce(o);once(r,\\\"transitionend\\\",c),setTimeout(function(){celtra.styler.css(r,\\\"transition\\\",i.transition),celtra.styler.css(t,\\\"transition\\\",i.transition),celtra.styler.css(s,\\\"transition\\\",i.transition),celtra.styler.css(e,\\\"transition\\\",i.transition),nextFrame(function(){l||(celtra.styler.css(t,\\\"transform\\\",i.endingFrom),celtra.styler.css(e,\\\"transform\\\",i.endingFrom),celtra.styler.css(r,\\\"transform\\\",i.endingTo),celtra.styler.css(s,\\\"transform\\\",i.endingTo),t.style.opacity=e.style.opacity=\\\"undefined\\\"==typeof i.endingFromOpacity?1:i.endingFromOpacity,r.style.opacity=s.style.opacity=\\\"undefined\\\"==typeof i.endingToOpacity?1:i.endingToOpacity)}),setTimeout(c,a+150)},20)},run:function(t,e,r,s,i){var a=this._getSupportedAnimation(i.animation||\\\"replace\\\");if(!(a in this))throw new Error(\\\"The transition function does not exist!\\\");this[a].apply(this,arguments)},_getSupportedAnimation:function(t){return!android(\\\"4\\\")||window.navigator.userAgent.match(\/Chrome.*(Mobile)? Safari\/)||\\\"cube\\\"!==t&&\\\"flip\\\"!==t?t:\\\"fade\\\"},_runOnce:function(t){var e=!1;return function(){return e?void 0:(e=!0,t())}}};;\\nvar ScreenTransitioner={goingToScreen:null,_masterShown:!1,goToScreen:function(e,n,t){var i=Array.prototype.slice.apply(arguments);if(!this.isAppearing)return void this.once(\\\"appeared\\\",function(){this.goToScreen.apply(this,i)}.bind(this));var r=function(){this._preloadReachableScreens(),t&&t()}.bind(this);if(!e)return r();if(!e.loaded)return void e.getNode(function(){this.goToScreen.apply(this,i)}.bind(this));var s=this.currentScreen;return n=n||{},this.goingToScreen?r():(this.goingToScreen=e,void e.triggerBeforeAppear(function(){this.initiateScreenTransition(e,n,function(){this.goingToScreen=null,this.currentScreen=e,s&&(s.disappear(),s.exitRenderTree()),this._masterShown||(this._masterShown=!0,this.master.enterRenderTree(),this.master.appear()),this.currentScreen.enterRenderTree(),this.currentScreen.appear(),r()}.bind(this))}.bind(this)))},initiateScreenTransition:function(e,n,t){if(n=n||{},t=t||noop,this.visibleScreen==e)return t();this.visibleScreen=e;var i=e===this.loadingScreen;if(i&&e.loaded)this._screenTransition(e.getNode(),null,n,t);else if(e.loaded&&this.master.loaded)this.loadingScreen&&(this.loadingScreen.getNode().style.display=\\\"none\\\"),this._screenTransition(e.getNode(),this.master.getNode(),n,t);else{Logger(\\\"unit\\\").warn(\\\"Screens should be loaded but were not\\\");var r,s,o,a=function(){r--,r||this._screenTransition(s,o,n,t)};i?(s=this.loadingScreen.getNode(a.bind(this)),o=null,r=1):(s=e.getNode(a.bind(this)),o=this.master.getNode(a.bind(this)),r=2)}},_screenTransition:function(e,n,t,i){function r(){s||(s=!0,i())}if(e.style.display=\\\"none\\\",n&&(this._masterClone||this._createMasterClone(),this.screenHolder.appendChild(this._masterClone),n.parentNode||this.screenHolder.appendChild(n),this._masterClone.style.zIndex=n.style.zIndex=-1),e&&!e.parentNode&&this.screenHolder.appendChild(e),n&&(this._masterClone.style.display=\\\"block\\\",n.style.display=\\\"none\\\"),null!=this.currentScreen)t.unitSize=extend({},this.size),ScreenNodeTransition.run(this.currentScreen.node,this._masterClone,e,n,t,function(){n.style.display=\\\"block\\\",this._masterClone.display=\\\"none\\\",i()}.bind(this));else{n&&(n.style.display=\\\"block\\\",this._masterClone.style.display=\\\"none\\\"),e.style.display=\\\"block\\\";var s=!1;nextFrame(r),defer(r)}},_preloadReachableScreens:function(){setTimeout(function(){var e=[];Object.keys(this.currentScreen.dynamicReachableScreenConditions).forEach(function(n){var t=n.split(\\\"\/\\\"),i=creative.experiments.get(t[0],t.slice(1));null!=i&&Object.keys(this.currentScreen.dynamicReachableScreenConditions[n]).forEach(function(t){t!=i.chosenVariant&&(e=e.concat(this.currentScreen.dynamicReachableScreenConditions[n][t]))}.bind(this))}.bind(this)),this.currentScreen.reachableScreens.concat(this.master.reachableScreens).forEach(function(n){var t=-1==e.indexOf(n.localId.toString());t&&n.getNode()}.bind(this))}.bind(this),0)},_createMasterClone:function(){return this._masterClone&&this._masterClone.parentNode&&this._masterClone.parentNode.removeChild(this._masterClone),this._masterClone=this.master.getNode().cloneNode(!0),this._masterClone.style.display=\\\"none\\\",this._masterClone.style.zIndex=-1,this._masterClone}};;\\nfunction AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error(\\\"AdViewableInViewObjectObserver.readyToShow not implemented!\\\")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error(\\\"AdViewableInViewObjectObserver.registerUnit not implemented!\\\")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error(\\\"AdViewableTimeObserver.registerAdapter not implemented!\\\")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on(\\\"videoStarted\\\",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on(\\\"videoStopped\\\",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on(\\\"areaInViewRatioChanged\\\",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker()):0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0):!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on(\\\"containerViewableChange\\\",function(e){this._containerIsViewable=e,e?this._tryStartTracker():t.stop()}.bind(this)),e.mediaState.on(\\\"videoStarted\\\",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on(\\\"videoStopped\\\",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error(\\\"adapter was not registered yet!\\\");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on(\\\"appeared\\\",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on(\\\"disappeared\\\",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0):!1};;\\nfunction AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3:1e3,1e4:2e3,63e3:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName=\\\"viewableTime\\\",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name:AdViewableTimeTracker.eventName,from:i\/1e3,to:e\/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing():this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._raf.nextFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=this._win.setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,r=n>e;this._fromTime=r?t:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],r=-1;return t.some(function(t){return 1*t>i?(r=e[t],i+r>n&&(r=-1),!0):!1}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;\\n!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit(\\\"videoStopped\\\")},e.startVideo=function(){this.playingVideo=!0,this.emit(\\\"videoStarted\\\")},t.MediaState=i}(window);;\\nfunction StateObject(t){Object.defineProperties(this,{values:{enumerable:!1,configurable:!1,writable:!0,value:{}},_isDirty:{enumerable:!1,configurable:!1,writable:!0,value:!1}}),Object.keys(t).forEach(function(e){this.registerValue(e,t[e])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(t,e){this.values[t]={dirty:!1,value:e},Object.defineProperty(this,t,{get:function(){return this.values[t].value},set:function(e){var i=this.values[t],r=i.value;e!=r&&(i.dirty=!0,i.value=e,this._isDirty=!0,this.emit(\\\"change:\\\"+t,e,r))},enumerable:!0})},StateObject.prototype.markClean=function(t){var e=!1;Object.keys(this.values).forEach(function(i){t&&i!==t||(this[i].dirty=!1),e=e||this[i].dirty},this.values),this._isDirty=e},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return\\\"undefined\\\"==typeof t?this._isDirty:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){arguments.length>1&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t={};for(var e in this.values)t[e]=this[e];return new StateObject(t)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;\\nfunction StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x:t[i],v:0},this.derivative={dx:0,dv:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,\\\"update\\\"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,\\\"update\\\"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(){throw new Error(\\\"Not implemented\\\")},Object.defineProperty(StateAnimation.prototype,\\\"value\\\",{get:function(){return this.stateObject[this.propertyName]},set:function(t){this.stateObject[this.propertyName]=t},enumerable:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce:1e3,damping:20,restThreshold:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),\\\"function\\\"==typeof i&&(e=i,i=0),this.d=t,this.state.v=\\\"number\\\"==typeof i?i:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){var i=Math.min(.03,t\/1e3),e=Math.abs(this.state.x-this.d);e<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null):(this._integrate(this.state,i),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i\/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i\/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){if(\\\"undefined\\\"==typeof e)return{dx:t.v,dv:this._acceleration(t)};var a={x:t.x+e.dx*i,v:t.v+e.dv*i};return{dx:a.v,dv:this._acceleration(a,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp:1.8},EasingAnimation.presets={easeIn:.6,easeOut:1.8,linear:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(){var t=Date.now()-this._startTime,i=this._targetValue-this._startValue;t>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null):this.value=Math.pow(t\/this._targetTime,this.options.exp)*i+this._startValue};;\\nfunction ThresholdObserver(e){this.threshold=e,this._value=null}extend(ThresholdObserver.prototype,EventEmitter),Object.defineProperty(ThresholdObserver.prototype,\\\"value\\\",{get:function(){return this._value},set:function(e){if(null!==this._value&&this._value!==e){var t=this._value-this.threshold,h=e-this.threshold;0>=t*h&&(0>t?this.emit(\\\"up\\\"):0>h&&this.emit(\\\"down\\\"))}this._value=e}});;\\nfunction BaseCreativeUnit(){}inherit(BaseCreativeUnit,View),BaseCreativeUnit.IGNORABLES=[\\\"INPUT\\\",\\\"SELECT\\\",\\\"TEXTAREA\\\",\\\"BUTTON\\\"],BaseCreativeUnit.prototype.awake=function(){BaseCreativeUnit.uber.awake.call(this),this._availableSize={width:0,height:0},this._isRendering=!1,this._engagementTracker=null,this._rxState=null,this._rxStateCopies=[]},BaseCreativeUnit.prototype.createNode=function(){return Logger(\\\"unit\\\").log(\\\"Starting to load \\\"+this),this.on(\\\"loaded\\\",creative.adapter.perf.start(\\\"CreativeUnit.load\\\").end),creative.experiments.get(\\\"TrackingLoadingTimes\\\")&&this.once(\\\"_firstScreenLoaded\\\",function(){var e=Date.now()-1e3*creative.runtimeParams.payloadJsClientTimestamp;if(3e4>e){var t={unitName:this.name};creative.aggregatorTracking.trackAggregator(\\\"unitLoadTime\\\",e,t),creative.aggregatorTracking.trackAggregator(\\\"unitLoadSuccesses\\\",t)}}.bind(this)),creative.adapter.on(\\\"mediaStopRequested\\\",function(e){this.emit(\\\"mediaStopRequested\\\",e)}.bind(this)),this.unitDiv=BaseCreativeUnit.uber.createNode.call(this),this._engagementTracker=new EngagementTracker(this.unitDiv,creative),Tapper(this.unitDiv,this.useClickForTap),attach(this.unitDiv,\\\"touchstart\\\",this._handleTouchStart.bind(this)),attach(this.unitDiv,\\\"touchmove\\\",this._handleTouchMove.bind(this)),this.unitDiv},BaseCreativeUnit.prototype.setAvailableSize=function(e,t){var r=this._availableSize.width!=e||this._availableSize.height!=t;return this._availableSize.width=e,this._availableSize.height=t,r},BaseCreativeUnit.prototype.getAvailableSize=function(){return{width:this._availableSize.width,height:this._availableSize.height}},BaseCreativeUnit.prototype.enterRenderTree=function(){throw new Error(\\\"Not implemented\\\")},BaseCreativeUnit.prototype.exitRenderTree=function(){throw new Error(\\\"Not implemented\\\")},BaseCreativeUnit.prototype.finishedLoading=function(){BaseCreativeUnit.uber.finishedLoading.call(this),Logger(\\\"unit\\\").log(\\\"Finished loading \\\"+this)},BaseCreativeUnit.prototype._handleTouchStart=function(e){if(!this.swipeable&&!creative.adapter.useNativeClickForTapDetection){for(var t=e.target;1!=t.nodeType;)t=t.parentNode;var r=function(){for(;t!==this.unitDiv;){if(t.className&&hasClass(t,\\\"map-container\\\"))return!0;t=t.parentNode}return!1}.bind(this);-1!=BaseCreativeUnit.IGNORABLES.indexOf(t.nodeName)||r()||e.preventDefault()}},BaseCreativeUnit.prototype._handleTouchMove=function(e){this.swipeable||e.preventDefault()},BaseCreativeUnit.prototype.createRxState=function(){this._rxState=this._generateNewRxStateObject()},BaseCreativeUnit.prototype._generateNewRxStateObject=function(){return new StateObject({left:null,top:null,right:null,bottom:null,width:null,height:null,vw:null,vh:null,x:null,y:null,pageYOffset:null})},BaseCreativeUnit.prototype.updateRxState=function(e){if(this._rxState){var t=e.getBoundingClientRect(),r=e.ownerDocument.defaultView;this._rxState.left=~~t.left,this._rxState.top=~~t.top,this._rxState.right=~~t.right,this._rxState.bottom=~~t.bottom,this._rxState.width=~~t.width,this._rxState.height=~~t.height,this._rxState.vw=r.innerWidth,this._rxState.vh=r.innerHeight,this._rxState.pageYOffset=r.pageYOffset,this._rxState.x=~~(t.left+t.width\/2-r.innerWidth\/2),this._rxState.y=~~(t.top+t.height\/2-r.innerHeight\/2),this._rxStateCopies.forEach(function(e){e.copyFrom(this._rxState)}.bind(this))}},BaseCreativeUnit.prototype.getRxStateObject=function(){if(this._rxState){var e=this._generateNewRxStateObject();return e.copyFrom(this._rxState),this._rxStateCopies.push(e),e}},BaseCreativeUnit.prototype.goToScreenAction=function(){throw new Error(\\\"Not implemented\\\")},BaseCreativeUnit.prototype.alertAction=function(e,t,r){this.alert({message:t.text},r)},BaseCreativeUnit.prototype.checkOrientationAction=function(e,t,r){var a,i=creative.adapter.orientation;0===i||180===i?a=t.onPortrait:(-90==i||90==i)&&(a=t.onLandscape),a?a(e,r):r()},BaseCreativeUnit.prototype.checkOrientationActionDryRun=BaseCreativeUnit.prototype.checkOrientationAction,BaseCreativeUnit.prototype._processURLParams=function(e){return\\\"string\\\"!=typeof e?e:creative.macros(e)},BaseCreativeUnit.prototype._addUrlAppendage=function(e){if(creative.urlOpenedUrlAppendage){var t=this.size.width+\\\"x\\\"+this.size.height,r=function(e){return e.indexOf(\\\"?\\\")>=0};return e+(r(e)?\\\"&\\\":\\\"?\\\")+creative.urlOpenedUrlAppendage.replace(new RegExp(\\\"{celtraFirstUnitSize}\\\",\\\"ig\\\"),t)}return e},BaseCreativeUnit.prototype.openBrowser=function(e,t,r,a){return t?void creative.adapter.trackEventsAndOpenBrowser(this._processURLParams(t),creative.shouldClickThroughToNewWindow(e),r,a):(r||noop)()},BaseCreativeUnit.prototype.openClickThroughDestinationAction=function(e,t,r){var a=creative.clickThroughDestinationUrl,i=creative.shouldClickThroughToNewWindow(e),n=!1,o=2e3,s=\\\"clickThroughDestinationOpened\\\",c=function(){n||(n=!0,creative.adapter.openPotentialUniversalOrAppLink(this._processURLParams(a),i))}.bind(this);if(a&&-1==[\\\"http:\/\/\\\",\\\"https:\/\/\\\"].indexOf(a)){var l=function(e){return e.indexOf(\\\"itunes.apple.com\/us\/app\/\\\")>0},d=function(e){return 0===e.indexOf(\\\"market:\/\/details?id=\\\")};creative.adapter._stopAllMedia(),l(a)||d(a)?(e.track({name:s,appUri:a}),e.trackClickThrough(),creative.adapter.trackingCenter.flush(),creative.adapter.getApp(this._processURLParams(a))):(a=this._addUrlAppendage(a),e.track({name:s,url:a}),e.trackClickThrough(),!creative.adapter.canOpenUrlInSameWindow||i?(creative.adapter.trackingCenter.flush(),c()):(creative.adapter.trackingCenter.flush(c),defer(c,o)))}else e.track({name:\\\"userError\\\",userErrorId:\\\"exitUriIsEmpty\\\"});e.screen&&creative.adapter.sendToEventMonitor(s,t.triggerId,e.screen.name,a||\\\"\\\",null,e.initiatedBeforeScreenShown()),r()},BaseCreativeUnit.prototype.goToURLAction=function(e,t,r){var a=creative.urlOpenedOverrideUrls&&creative.urlOpenedOverrideUrls[t.reportLabel]||t.url,i=creative.shouldClickThroughToNewWindow(e),n=!1,o=2e3,s=function(){n||(n=!0,creative.adapter.openBrowser(this._processURLParams(a),i))}.bind(this),c=(creative.experiments.get(\\\"OpenBrowserRefactor\\\")||{}).chosenVariant,l=(creative.experiments.get(\\\"WindowOpenWithDelay\\\")||{}).chosenVariant,d=function(e,t,r){c&&creative.aggregatorTracking.trackAggregator(\\\"openBrowserRefactor\\\",1,{branch:e,logic:t,environment:r})};if(!a||[\\\"http:\/\/\\\",\\\"https:\/\/\\\"].indexOf(a)>-1)return e.track({name:\\\"userError\\\",userErrorId:\\\"exitUriIsEmpty\\\"}),r();a=this._addUrlAppendage(a);var p=\\\"urlOpened\\\";if(creative.adapter._stopAllMedia(),e.track({name:p,url:a,label:t.reportLabel}),e.trackClickThrough(),deviceInfo.browser.ie()||deviceInfo.browser.edge())!creative.adapter.canOpenUrlInSameWindow||i?(d(\\\"new-window\\\",\\\"flush-and-open\\\",\\\"desktop-windows\\\"),creative.adapter.trackingCenter.flush(),s()):(d(\\\"same-window\\\",\\\"flush-then-open\\\",\\\"desktop-windows\\\"),creative.adapter.trackingCenter.flush(s),defer(s,o));else if(\\\"on\\\"==c)!creative.adapter.canOpenUrlInSameWindow||i?(d(\\\"new-window\\\",\\\"flush-and-open\\\",\\\"all-except-desktop-windows\\\"),creative.adapter.trackingCenter.flush(),s()):(d(\\\"same-window\\\",\\\"flush-then-open\\\",\\\"all-except-desktop-windows\\\"),creative.adapter.trackingCenter.flush(s),defer(s,o));else if(!creative.adapter.canOpenUrlInSameWindow||i){d(\\\"new-window\\\",\\\"wrap+open\\\",\\\"all-except-desktop-windows\\\"),l&&creative.aggregatorTracking.trackAggregator(\\\"windowOpenWithDelay\\\",1,{delay:l}),c&&creative.aggregatorTracking.trackAggregator(\\\"openBrowserRefactorFlushVsWrap\\\",1,{trackingWith:\\\"wrap\\\"});var u=creative.wrapRedirectPageUrl(this._processURLParams(a));c&&(creative.aggregatorTracking.trackAggregator(\\\"openBrowserRefactorFlushVsWrap\\\",1,{trackingWith:\\\"flush\\\"}),creative.adapter.trackingCenter.flush()),\\\"undefined\\\"==typeof l||\\\"control\\\"===l?creative.adapter.openBrowser(u,i):setTimeout(function(){creative.adapter.openBrowser(u,i)},0)}else d(\\\"same-window\\\",\\\"wrap+open\\\",\\\"all-except-desktop-windows\\\"),creative.adapter.openBrowser(creative.wrapRedirectPageUrl(this._processURLParams(a)),i);creative.adapter.sendToEventMonitor(p,t.triggerId,e.screen.name,a,t.reportLabel,e.initiatedBeforeScreenShown()),r()},BaseCreativeUnit.prototype.facebookURLAction=function(e,t,r){if(!t.url)return r();var a=\\\"facebookShareAttempt\\\";creative.adapter._stopAllMedia(),e.track({name:a,url:t.url,label:t.reportLabel}),e.trackClickThrough();var i=\\\"http:\/\/m.facebook.com\/sharer.php?u=\\\"+encodeURIComponent(t.url);creative.adapter.openBrowser(creative.wrapRedirectPageUrl(i),creative.shouldClickThroughToNewWindow(e)),creative.adapter.sendToEventMonitor(a,t.triggerId,e.screen.name,i,t.reportLabel,e.initiatedBeforeScreenShown()),r()},BaseCreativeUnit.prototype.callURLAction=function(e,t,r){if(!t.url)return r();var a=this._processURLParams(t.url),i=new Image;i.onload=i.onerror=function(){r()},i.src=a},BaseCreativeUnit.prototype.displayImageAction=function(e,t,r){if(!t.file)return r();var a=function(e,a){var i=document.createElement(\\\"div\\\");i.className=\\\"celtra-display-image-overlay touchable\\\",i.style.backgroundImage='url(\\\"'+t.file.getUrl()+'\\\")',this.unitDiv.appendChild(i),(e>this.size.width||a>this.size.height)&&(i.style.backgroundSize=\\\"contain\\\"),t.color&&(i.style.backgroundColor=t.color),attach(i,\\\"tap\\\",function(){i.parentNode.removeChild(i),r()},!1);var n=document.createElement(\\\"div\\\");n.className=\\\"celtra-back-button touchable \\\"+this.alignBackButtonHorizontal,i.appendChild(n)}.bind(this);if(t.file.meta)a(t.file.meta.width,t.file.meta.height);else{var i=new Image;i.onload=function(){a(this.width,this.height)},i.onerror=function(){return console.error(\\\"Couldn't display image: \\\"+t.file.getUrl()),r()},i.src=t.file.getUrl()}},BaseCreativeUnit.prototype.saveImageAction=function(e,t,r){function a(a,n){var o=a.getOriginalUrl(),c=a.name,l=a.blobHash;if(i(l),creative.adapter.canSaveImage())creative.adapter.trackingCenter.flush(function(){var a=\\\"shared.png\\\";\\\"undefined\\\"!=typeof c?a=c:\\\"string\\\"==typeof n&&n.trim().length>0&&(a=n.trim()+\\\".png\\\"),creative.adapter.saveImage(o,encodeURIComponent(a),r);var i=n||c;creative.adapter.sendToEventMonitor(s,t.triggerId,e.screen.name,i,t.reportLabel,e.initiatedBeforeScreenShown())});else{var d=new SaveImageDialog(creative.adapter,creative.resourceUrl,o);d.show(r)}}function i(r){e.track({name:s,blobHash:r,label:t.reportLabel}),e.trackClickThrough()}function n(){creative.adapter.createPlacements({preloader:{attachment:\\\"body\\\",positioning:\\\"screen\\\",type:\\\"layer\\\"}},function(){var e=creative.adapter.placements.preloader;e.setZIndex(\\\"max\\\"),e.setSize(\\\"100%\\\",\\\"100%\\\"),e.setPosition(0,0);var t=e.createElement(\\\"link\\\");t.rel=\\\"stylesheet\\\",t.type=\\\"text\/css\\\",t.href=creative.resourceUrl+\\\"runner\/clazzes\/PostBlobPreloader.css\\\",e.getContainer().appendChild(t);var r=e.createElement(\\\"div\\\");addClass(r,\\\"celtra-preloader-container\\\");var a=e.createElement(\\\"div\\\");addClass(a,\\\"celtra-preloader-image\\\"),a.style.backgroundImage=\\\"url(\\\"+creative.resourceUrl+\\\"runner\/clazzes\/CreativeUnit\/preloader.png)\\\",r.appendChild(a),e.populate(r,function(){e.show()})})}function o(){creative.adapter.destroyPlacement(\\\"preloader\\\")}var s=\\\"imageSaveAttempted\\\";if(t.imageOrigin=t.imageOrigin?t.imageOrigin:\\\"asset\\\",\\\"component\\\"==t.imageOrigin&&t.component)if(t.component.file)a(t.component.file,t.component.name);else{var c=t.component.getField();if(null===c)return void r();if(-1===creative.runtimeParams.enabledServices.indexOf(\\\"contentSharing\\\"))return void this.alertAction(e,{text:\\\"This feature is not available in your region\\\"},r);var l=c.url,d=l.split(\\\",\\\")[1];n(),postBlob(d,function(e,i){if(o(),i>=200&&300>i){var n=JSON.parse(e),s=creative.cachedApiUrl+\\\"blobs\/\\\"+n.hash+\\\"\/shared.png\\\",c=new File(s);a(c,t.component.name)}else r()})}else\\\"asset\\\"==t.imageOrigin&&t.file?a(t.file):r()},BaseCreativeUnit.prototype.playSoundAction=function(e,t,r){if(!t.file)return r();var a=new Audio(t.file.getUrl());attach(a,\\\"ended\\\",function(){r()},!1),a.play()},BaseCreativeUnit.prototype.playVideoInPlayerAction=function(e,t,r){if(!t.file)return r();var a=creative.adapter.useFSVP,i=t.file.url?\\\"URL\\\":\\\"File\\\",n=new VideoContext(e,t.file,t.reportLabel);n.track({engineType:\\\"html5\\\",name:\\\"videoPlayAttempted\\\",trackable:a,filename:t.file.name,userInitiated:e.consideredUserInitiatedByBrowser,startMuted:!1,videoPlayerMode:\\\"fullscreen\\\",videoPreset:null,sourceType:i,source:\\\"URL\\\"==i?t.file.url:t.file.blobHash,label:t.reportLabel}),creative.adapter.playVideoInPlayer(n,t,function(a){var i=(a?t.onSuccess:t.onFailure)||nullai;i(e,r)})},BaseCreativeUnit.prototype.playVideoInPlayerActionDryRun=function(e,t,r){return t.file?((t.onSuccess||nullai)(e,noop),(t.onFailure||nullai)(e,noop),void r()):r()},BaseCreativeUnit.prototype.playVideoFromURLAction=function(e,t,r){if(!t.url)return r();var a=t.file=new File(t.url),i=creative.adapter.useFSVP,n=a.url?\\\"URL\\\":\\\"File\\\";creative.adapter._stopAllMedia();var o=new VideoContext(e,a,t.reportLabel);o.track({engineType:\\\"html5\\\",name:\\\"videoPlayAttempted\\\",trackable:i,filename:null,userInitiated:e.consideredUserInitiatedByBrowser,startMuted:!1,videoPlayerMode:\\\"fullscreen\\\",videoPreset:null,sourceType:n,source:\\\"URL\\\"==n?a.url:a.blobHash,label:t.reportLabel}),creative.adapter.playVideoInPlayer(o,t,function(a){var i=(a?t.onSuccess:t.onFailure)||nullai;i(e,r)})},BaseCreativeUnit.prototype.playVideoFromURLActionDryRun=function(e,t,r){return t.url?((t.onSuccess||nullai)(e,noop),(t.onFailure||nullai)(e,noop),void r()):r()},BaseCreativeUnit.prototype.vibrateAction=function(e,t,r){r()},BaseCreativeUnit.prototype.getAppAction=function(e,t,r){var a=(creative.runtimeParams.overrides||creative.runtimeParams).deviceInfo,i=function(e){return new RegExp(\\\"(^http(s)?:\/\/)|(^market:\/\/)\\\",\\\"i\\\").test(e)},n=function(){return new RegExp(\\\"^\\\\\\\\d+$\\\").test(t.appStoreUrl)?\\\"https:\/\/itunes.apple.com\/app\/id\\\"+t.appStoreUrl:(i(t.appStoreUrl)?\\\"\\\":\\\"http:\/\/\\\")+t.appStoreUrl},o=function(){return i(t.androidMarketAppId)?t.androidMarketAppId:android()||\\\"Android\\\"===a.osName?\\\"market:\/\/details?id=\\\"+t.androidMarketAppId:\\\"https:\/\/play.google.com\/store\/apps\/details?id=\\\"+t.androidMarketAppId};creative.adapter._stopAllMedia();var s;if(creative.storeOpenedOverrideUrls[t.reportLabel]?s=creative.storeOpenedOverrideUrls[t.reportLabel]:t.appStoreUrl&&(ios()||-1!==[\\\"OSX\\\",\\\"IOS\\\"].indexOf(a.osName))?s=n():t.androidMarketAppId&&(s=o()),s&&-1==[\\\"http:\/\/\\\",\\\"https:\/\/\\\"].indexOf(s)){var c=!ios(\\\"9\\\",null),l=\\\"storeOpened\\\",d=2,p=function(){creative.adapter.getApp(this._processURLParams(s))}.bind(this),u=function(){if(!--d&&c){p();var r={};t.appStoreUrl&&(r.appStoreUrl=n()),t.androidMarketAppId&&(r.androidMarketAppId=o()),creative.adapter.sendToEventMonitor(l,t.triggerId,e.screen.name,r,t.reportLabel,e.initiatedBeforeScreenShown())}}.bind(this);e.track({name:l,appUri:s,label:t.reportLabel},u),e.trackClickThrough(u),c||setTimeout(p,0)}else e.track({name:\\\"userError\\\",userErrorId:\\\"exitUriIsEmpty\\\"});r()},BaseCreativeUnit.prototype.callPhoneAction=function(e,t,r){if(!t.number)return r();creative.adapter._stopAllMedia();var a=\\\"phoneCalled\\\",i=deviceInfo.os.ios()&&deviceInfo.browser.safari(),n=function(){creative.adapter.callPhone(t.number),creative.adapter.sendToEventMonitor(a,t.triggerId,e.screen.name,t.number,t.reportLabel,e.initiatedBeforeScreenShown())};e.track({name:a,number:t.number,label:t.reportLabel}),e.trackClickThrough(),i?(creative.adapter.trackingCenter.flush(),defer(n)):creative.adapter.trackingCenter.flush(n),r()},BaseCreativeUnit.prototype.answerSurveyQuestion=function(e,t,r){var a=[\\\"answerIds\\\",\\\"questionId\\\",\\\"surveyId\\\",\\\"answers\\\"],i=\/[0-9a-f]{8}\/;a.forEach(function(e){if(\\\"answerIds\\\"===e){if(!(t.answerIds instanceof Array))throw new Error(\\\"args.answerIds must be an array\\\");t.answerIds.forEach(function(e){if(!i.test(e))throw new Error(\\\"args.answerIds must contain Ids that have hexadecimal formatted string containing 8 characters\\\")})}else if(\\\"answers\\\"===e){if(!(t.answers instanceof Array)||t.answers.length!==t.answerIds.length)throw new Error(\\\"args.\\\"+e+\\\" length should be the same as args.answerIds\\\")}else if(!i.test(t[e]))throw new Error(\\\"args.\\\"+e+\\\" must be hexadecimal formatted string containing 8 characters\\\")}),e.track({name:\\\"surveyQuestionAnswered\\\",answerIds:t.answerIds,questionId:t.questionId,surveyId:t.surveyId,surveyVersion:t.surveyVersion,answerIdTextMappings:t.answers.map(function(e){return{id:e.id,text:e.text,orderIndex:e.orderIndex}})}),r()},BaseCreativeUnit.prototype.saveTheDateAction=function(e,t,r){function a(e){var r;return t.allDay?(r=new CDate,r.value=e.getFullYear()+\\\"-\\\"+zeroPad(e.getMonth()+1)+\\\"-\\\"+zeroPad(e.getDate())):(e=\\\"my\\\"===t.timezone?e.getUTCFullYear()+\\\"-\\\"+zeroPad(e.getUTCMonth()+1)+\\\"-\\\"+zeroPad(e.getUTCDate())+\\\" \\\"+zeroPad(e.getUTCHours())+\\\":\\\"+zeroPad(e.getUTCMinutes())+\\\":\\\"+zeroPad(e.getUTCSeconds()):e.getFullYear()+\\\"-\\\"+zeroPad(e.getMonth()+1)+\\\"-\\\"+zeroPad(e.getDate())+\\\" \\\"+zeroPad(e.getHours())+\\\":\\\"+zeroPad(e.getMinutes())+\\\":\\\"+zeroPad(e.getSeconds()),r=new CDateTime,r.value=e,r.tz=t.timezone),r}return t.eventName&&t.location&&t.start?(t.end=t.end||new Date(t.start.getTime()+36e5),t.timezone=t.timezone||\\\"my\\\",t.end<t.start?(console.error(\\\"End date must be after the start date!\\\"),r()):-1===[\\\"my\\\",\\\"utc\\\",\\\"user\\\"].indexOf(t.timezone)?(console.error(\\\"Invalid timezone argument!\\\"),r()):\\\"undefined\\\"!=typeof t.reminder&&-1===[\\\"5m\\\",\\\"15m\\\",\\\"30m\\\",\\\"1h\\\",\\\"2h\\\",\\\"1d\\\",\\\"2d\\\",\\\"date\\\"].indexOf(t.reminder)?(console.error(\\\"Invalid reminder argument!\\\"),r()):(t.start=a(t.start),t.end=a(t.end),void CCalendar.saveTheDateAction(e,t,r))):(console.error(\\\"saveTheDateAction must have eventName, location and start date defined!\\\"),r())},BaseCreativeUnit.prototype.resizeAction=function(){throw new Error(\\\"Resize action is not available for this ad format or creative unit\\\")},BaseCreativeUnit.prototype._areRevealResizeActionArgsValid=function(e){var t=[\\\"intro\\\",\\\"collapsed\\\",\\\"maximum\\\",\\\"fullscreen\\\"];return-1!==t.indexOf(e.height)},BaseCreativeUnit.prototype.expandAction=function(){throw new Error(\\\"Expand action is not available for this ad format or creative unit\\\")},BaseCreativeUnit.prototype._assertAppearBeforeExpand=function(){this.hasAppearedAtLeastOnce||creative.adapter.trackingCenter.track({name:\\\"userError\\\",userErrorId:\\\"expandBeforeAppear\\\"})},BaseCreativeUnit.prototype.collapseAction=function(){throw new Error(\\\"Collapse action is not available for this ad format or creative unit\\\")},BaseCreativeUnit.prototype.dismissAction=function(){throw new Error(\\\"Dismiss action is not available for this ad format or creative unit\\\")},BaseCreativeUnit.prototype.findAll=function(){throw new Error(\\\"Not implemented!\\\")},BaseCreativeUnit.prototype.findByType=function(){throw new Error(\\\"Not implemented!\\\")},BaseCreativeUnit.prototype.find=function(e){var t=this.findAll(e);return t.length>0?t[0]:null};;\\n!function(e){\\\"use strict\\\";var r={};r.toString=function(){return\\\"[Clazz CustomAudiences]\\\"};var t=function(e,r,t,n){function i(r,t){var i=new XMLHttpRequest;i.open(e,u+s+\\\"\/\\\"+encodeURIComponent(r)+\\\"\/\\\"+encodeURIComponent(t)+\\\"?\\\"+creative.authTokenUrlParam),i.send(n)}if(-1===[\\\"PUT\\\",\\\"DELETE\\\"].indexOf(e))throw new Error(\\\"Unsupported request method: \\\"+e);if(\\\"undefined\\\"==typeof creative.runtimeParams.customAudiences[r])throw new Error('Custom audience \\\"'+r+'\\\" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists:t,userData:n};var u=creative.secure?creative.customAudiencesUrl:creative.insecureCustomAudiencesUrl,s=\\\"\/audiences\/\\\"+r,o=creative.userIdentifiers;for(var a in o)for(var c in o[a])i(a,o[a][c])};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t(\\\"PUT\\\",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t(\\\"DELETE\\\",e,!1)},e.CustomAudiences=r}(window);;\\n!function(e){\\\"use strict\\\";var t={ambience:\\\"Ambience\\\",animatey:\\\"Animatey\\\",abtest:\\\"Best\\\",basket:\\\"Basket\\\",button:\\\"Button\\\",canvas:\\\"Canvas\\\",celebration:\\\"Celebration\\\",checkbox:\\\"CheckBox\\\",feedbasedchoice:\\\"ChoiceFeed\\\",countdown:\\\"Countdown\\\",draggy:\\\"Draggy\\\",dropdown:\\\"Dropdown\\\",dynamiccontent:\\\"DynamicContent\\\",facebookshare:\\\"FacebookShareButton\\\",fallback:\\\"Fallback\\\",frame:\\\"Frame\\\",flippy:\\\"Flippy\\\",group:\\\"Group\\\",gyro:\\\"Gyro\\\",hotspot:\\\"Hotspot\\\",input:\\\"Input\\\",map:\\\"Map\\\",transitions:\\\"Transitions\\\",mastervideo:\\\"MasterVideo\\\",nearby:\\\"Nearby\\\",painty:\\\"Painty\\\",pannable:\\\"Pannable\\\",particles:\\\"Particle\\\",picture:\\\"Picture\\\",puzzle:\\\"Puzzle\\\",shapey:\\\"Shapey\\\",smoke:\\\"Smoke\\\",stack:\\\"Stack\\\",stopwatch:\\\"Stopwatch\\\",locatorclassic:\\\"StoreLocator2\\\",locator:\\\"StoreLocator3\\\",swipeygallery:\\\"Swipey\\\",swipeygroup:\\\"SwipeyGroup\\\",takephoto:\\\"TakePhotoButton\\\",texty:\\\"Texty\\\",twitterfeed:\\\"TwitterFeed\\\",twittershare:\\\"TwitterShareButton\\\",inlinevideo:\\\"Video\\\",\\\"360view\\\":\\\"View360\\\",\\\"360video\\\":\\\"Video360\\\",\\\"360\\u00b0video\\\":\\\"Video360\\\",weather:\\\"Weather\\\",whatsappshare:\\\"WhatsAppShareButton\\\",wipeable:\\\"Wipeable\\\",youtube:\\\"Youtube\\\",scene:\\\"Scene\\\",brandtracksurvey:\\\"BrandTrackSurvey\\\",brandtrackquestion:\\\"BrandTrackQuestion\\\",customcode:\\\"CustomCode\\\",videoasset:\\\"VideoAsset\\\"},n=function(e){return e=e.toLowerCase().replace(\/\\\\W+\/g,\\\"\\\"),e in t?t[e]:\\\"\\\"},o=function(e,t){function n(i){t&&a.length>0||i.forEach(function(t){e(t)&&a.push(t),t.getActiveContainers().forEach(function(e){n(e.objects),o(e.scenes)})})}function o(n){!n||t&&a.length>0||n.forEach(function(t){e(t)&&a.push(t)})}var a=[];return\\\"Screen\\\"==this.constructor.name?(n(this.objects),o(this.scenes)):\\\"function\\\"==typeof this.getActiveContainers&&this.getActiveContainers().forEach(function(e){n(e.objects),o(e.scenes)}),a},a=function(e){var t=o.call(this,e,!0);return t.length>0?t[0]:null},i=function(e){return function(t){return\\\"undefined\\\"==typeof e||t.name==e}},r={findAll:function(e){return o.call(this,i(e))},findByType:function(e){var t=[];return\\\"undefined\\\"==typeof e?t:o.call(this,function(t){return t.constructor.name==n(e)})},findByLocalId:function(e){return a.call(this,function(t){return t.localId==e})},find:function(e){return a.call(this,i(e))}};e.DiscoverableTrait=r}(window);;\\n!function(e){\\\"use strict\\\";function t(e,t){var i=d[e]||{};return i[t]||[]}function i(e){var t=\\\"string\\\"==typeof e?e.split(\\\"\/\\\"):[];if(!(t.length<2))return t[1]}function r(e){if(\\\"undefined\\\"==typeof o[e]&&(o[e]={type:\\\"unknown\\\",rows:[]}),0===e.indexOf(\\\"LocationTableImplicitField\\\")&&\\\"unknown\\\"===o[e].type){var t=\\\"text\\\";\\\"\/website\\\"===e.slice(-8)&&(t=\\\"url\\\"),o[e].type=t}return o[e]}function n(){return u?o:(creative.runtimeParams.dynamicContent.forEach(function(e){e.rows.forEach(function(e,t){var i=e.fieldValues;Object.keys(i).forEach(function(e){var n=r(e),d=i[e].metaData,o=i[e].value;n.rows[t]={metadata:\\\"object\\\"==typeof d?JSON.parse(JSON.stringify(d)):null,value:o}})}),e.fields.forEach(function(t){var i=\\\"CustomFeedField\/\\\"+t.id,n=r(i);n.id=t.id,n.feedId=e.feedId,n.name=t.name,n.type=t.fieldType})}),u=!0,o)}var d={choice:{checkChoiceFeed:[\\\"feedFieldKey\\\"],ChoiceFeed:[\\\"choiceFeedFieldKey\\\"]},color:{Shapey:[\\\"backgroundColorFeedFieldKey\\\"],Texty:[\\\"textColorFeedFieldKey\\\"]},font:{Texty:[\\\"textFontFeedFieldKey\\\"]},html:{CustomCode:[\\\"htmlContentFeedFieldKey\\\"]},image:{Picture:[\\\"imageSourceFeedFieldKey\\\"],Swipey:[\\\"contentItemsFeedFieldKey\\\"],Video:[\\\"posterImageFeedFieldKey\\\"]},text:{Texty:[\\\"textContentFeedFieldKey\\\"]},url:{goToFeedURL:[\\\"feedFieldKey\\\"]},video:{MasterVideo:[\\\"videoSourceFeedFieldKey\\\"],VideoAsset:[\\\"videoSourceFeedFieldKey\\\"],Video:[\\\"videoSourceFeedFieldKey\\\"]}},o={},u=!1,a={checkAndTrackValue:function(e,t,i,r){e&&(this.isCorrectFieldType(e,i,r)?this.getFieldValueByKey(e,t)||creative.adapter.trackingCenter.track({name:\\\"userError\\\",userErrorId:\\\"feedValueMissing\\\"}):creative.adapter.trackingCenter.track({name:\\\"userError\\\",userErrorId:\\\"feedValueUnlinked\\\"}))},getCustomFields:function(){var e=n();return Object.keys(e).filter(function(e){return 0===e.indexOf(\\\"CustomFeedField\\\")}).map(function(t){var i=e[t];return{id:i.id,feedId:i.feedId,name:i.name,type:i.type,values:i.rows.map(function(e){return e.value}).filter(function(e){return null!==e})}})},getCustomFieldByKey:function(e){var t=i(e);if(t)for(var r=this.getCustomFields(),n=0;n<r.length;n++)if(r[n].id===t)return r[n]},getCustomFieldByName:function(e){for(var t,i=this.getCustomFields(),r=0;r<i.length;r++)if(i[r].name===e){t=i[r];break}return t},getFeedByFieldKey:function(e){var t=i(e);if(t)return creative.runtimeParams.dynamicContent.find(function(e){return e.fields.some(function(e){return e.id==t})})},getFieldByKey:function(e){var t=n();return t[e]},getFieldRowsByKey:function(e){var t=this.getFieldByKey(e),i=t?t.rows:[],r=1===i.length&&\\\"string\\\"==typeof i[0].value||i.length>1;return r?i:[]},getFieldRowByKey:function(e,t){t=\\\"number\\\"==typeof t?t:0;var i=this.getFieldRowsByKey(e);return i[t]},getFieldValueByKey:function(e,t){var i=this.getFieldRowByKey(e,t);return i&&i.value},isCorrectFieldType:function(e,i,r){var n=this.getFieldByKey(e);if(!n)return!1;var d=t(n.type,i);return-1!==d.indexOf(r)}};e.FeedData=a}(window);;\\nvar FeedImageOptimizationTrait={getFeedImageOptimizationSetting:function(t){if(!this.feedImageOptimizationSettings)return null;for(var e=0;e<this.feedImageOptimizationSettings.length;e++)if(this.feedImageOptimizationSettings[e].feedFieldKey===t)return this.feedImageOptimizationSettings[e];return null}};;\\nvar FeedImageCreator={_createFeedImageFile:function(e,t){var i=e+\\\"FeedFieldKey\\\",n=FeedData.getFieldValueByKey(this[i],t);if(\\\"string\\\"!=typeof n||!FeedData.isCorrectFieldType(this[i],this.constructor.name,i))return null;var a=[],r=void 0,d=this.parentScreen&&this.parentScreen.parentContainer?this.parentScreen.parentContainer.getFeedImageOptimizationSetting(this[i]):{};d&&d.optimizedWidth&&d.optimizedHeight&&d.fitting&&(a=a=[{creativeUnitVariantId:this.parentScreen.parentContainer.localId,optimizedWidth:d.optimizedWidth,optimizedHeight:d.optimizedHeight}],r=d.fitting);var h=ScreenObject._toSizePx(this.layoutCurrent.size,this.parentContainer.size),o={height:Math.max(1,h.height),width:Math.max(1,h.width)};return new File({url:n,dynamic:!0,meta:o,optimizationSettings:a,fitting:r})}};;\\nvar SaveImageDialog=function(t,i,e){this.adapter=t,this.resourceUrl=i,this.imageUrl=e,this.containerMinMargin=5,this.containerMinWidth=190,this.imageContainerTotalHMargin=40,this.imageContainerTotalVMargin=140,this.instructionOneLineWidth=250,this.instructionTwoLinesWidth=145,this._handleImageLoaded=this._handleImageLoaded.bind(this),this._resize=this._resize.bind(this)};SaveImageDialog.prototype.show=function(t){this.adapter.createPlacements({saveImageAction:{attachment:\\\"body\\\",positioning:\\\"screen\\\",type:\\\"layer\\\"}},function(){this.placement=this.adapter.placements.saveImageAction,this.placement.setZIndex(\\\"max\\\"),this.placement.setSize(\\\"100%\\\",\\\"100%\\\"),this.placement.setPosition(0,0),this.saveImageActionStyle=this.placement.createElement(\\\"link\\\"),this.saveImageActionStyle.rel=\\\"stylesheet\\\",this.saveImageActionStyle.type=\\\"text\/css\\\",this.saveImageActionStyle.href=this.resourceUrl+\\\"runner\/SaveImageDialog.css\\\",this.placement.getContainer().appendChild(this.saveImageActionStyle),this.overlay=this.placement.createElement(\\\"div\\\"),this.overlay.style.display=\\\"none\\\",this.overlay.className=\\\"celtra-save-image-action-overlay\\\",this.preloaderImage=this.placement.createElement(\\\"div\\\"),this.preloaderImage.className=\\\"celtra-save-image-action-preloader-image\\\",this.preloaderImage.style.backgroundImage=\\\"url(\\\"+this.resourceUrl+\\\"runner\/clazzes\/CreativeUnit\/preloader.png)\\\",this.container=this.placement.createElement(\\\"div\\\"),this.container.className=\\\"celtra-save-image-action-container\\\",this.backButton=this.placement.createElement(\\\"div\\\"),this.backButton.style.backgroundImage=\\\"url(\\\"+this.resourceUrl+\\\"runner\/clazzes\/CreativeUnit\/save-image-close-button.png)\\\",this.backButton.className=\\\"celtra-save-image-action-back-button\\\",this.title=this.placement.createElement(\\\"div\\\"),this.title.innerHTML=\\\"Save Image\\\",this.title.className=\\\"celtra-save-image-action-title\\\",this.titleLine1=this.placement.createElement(\\\"div\\\"),this.titleLine1.className=\\\"celtra-save-image-action-title-line-1\\\",this.titleLine2=this.placement.createElement(\\\"div\\\"),this.titleLine2.className=\\\"celtra-save-image-action-title-line-2\\\",this.imageContainer=this.placement.createElement(\\\"div\\\"),this.imageContainer.className=\\\"celtra-save-image-action-image-container\\\",this.image=this.placement.createElement(\\\"img\\\"),this.instruction=this.placement.createElement(\\\"div\\\"),this.instruction.style.backgroundImage=\\\"url(\\\"+this.resourceUrl+\\\"runner\/clazzes\/CreativeUnit\/hold-to-save-icon.png)\\\",this.instruction.style.backgroundSize=\\\"21px 40px\\\",this.instruction.innerHTML=\\\"Tap & hold to save the image to your device.\\\",this.instruction.className=\\\"celtra-save-image-action-instruction\\\",this.image.onload=this._handleImageLoaded,this.image.src=this.imageUrl,this.container.appendChild(this.title),this.container.appendChild(this.titleLine1),this.container.appendChild(this.titleLine2),this.imageContainer.appendChild(this.image),this.container.appendChild(this.imageContainer),this.container.appendChild(this.instruction),this.container.appendChild(this.backButton),this.overlay.appendChild(this.preloaderImage),attach(this.backButton,\\\"touchend\\\",function(){this.adapter.destroyPlacement(\\\"saveImageAction\\\"),t()}.bind(this)),this.placement.populate(this.overlay,function(){this.placement.show()}.bind(this))}.bind(this))},SaveImageDialog.prototype._handleImageLoaded=function(){this._resize(),this.overlay.removeChild(this.preloaderImage),this.overlay.appendChild(this.container),this.placement.on(\\\"resized\\\",this._resize)},SaveImageDialog.prototype._resize=function(){var t,i,e=this.placement.getViewportGeometry(),a=e.width-2*this.containerMinMargin,n=e.height-2*this.containerMinMargin,s=a-this.imageContainerTotalHMargin,h=n-this.imageContainerTotalVMargin,r=s\/h,l=this.image.naturalWidth\/this.image.naturalHeight,o=this.image.naturalWidth>s,c=this.image.naturalHeight>h,g=this.containerMinMargin,m=this.containerMinMargin,d=0,p=0;if(o&&c){var u;t=s,i=h,l>r?(u=l\/r*100,this.image.style.width=u+\\\"%\\\",this.image.style.height=\\\"100%\\\",d=-(u-100)\/2):(u=r\/l*100,this.image.style.width=\\\"100%\\\",this.image.style.height=u+\\\"%\\\",p=-((u-100)\/2)*(i\/t))}else if(o){var y=this.image.naturalWidth\/s*100;d=-(y-100)\/2,t=s,i=this.image.naturalHeight,this.image.style.width=y+\\\"%\\\",this.image.style.height=\\\"100%\\\",m=(e.height-i-this.imageContainerTotalVMargin)\/2}else if(c){var v=this.image.naturalHeight\/h*100,C=-(v-100)\/2;t=this.image.naturalWidth,i=h,p=C*(i\/t),this.image.style.width=\\\"100%\\\",this.image.style.height=v+\\\"%\\\",g=(e.width-t-this.imageContainerTotalHMargin)\/2}else t=this.image.naturalWidth,i=this.image.naturalHeight,this.image.style.width=\\\"100%\\\",this.image.style.height=\\\"100%\\\",g=(e.width-t-this.imageContainerTotalHMargin)\/2,m=(e.height-i-this.imageContainerTotalVMargin)\/2;var I=t+this.imageContainerTotalHMargin,M=t+this.imageContainerTotalHMargin-this.containerMinWidth;if(0>M){var T=M\/2;g+=T,this.imageContainer.style.left=19-T+\\\"px\\\",this.imageContainer.style.right=19-T+\\\"px\\\",I-=M}this.container.style.left=g+\\\"px\\\",this.container.style.right=g+\\\"px\\\",this.container.style.top=m+\\\"px\\\",this.container.style.bottom=m+\\\"px\\\",this.image.style.marginLeft=d+\\\"%\\\",this.image.style.marginTop=p+\\\"%\\\",I<this.instructionOneLineWidth+80?(this.instruction.style.paddingTop=\\\"4px\\\",this.instruction.style.width=this.instructionTwoLinesWidth+\\\"px\\\",this.instruction.style.height=\\\"63px\\\",this.instruction.style.left=this.instruction.style.right=(I-this.instructionTwoLinesWidth-this.imageContainerTotalHMargin)\/2+\\\"px\\\"):(this.instruction.style.paddingTop=\\\"16px\\\",this.instruction.style.width=this.instructionOneLineWidth+\\\"px\\\",this.instruction.style.height=\\\"51px\\\",this.instruction.style.left=this.instruction.style.right=(I-this.instructionOneLineWidth-this.imageContainerTotalHMargin)\/2+\\\"px\\\")};;\\nvar CCalendar={saveTheDateAction:function(e,t,n){var a={start:t.start.value,end:t.end.value};t.eventName&&(a.eventName=t.eventName),t.location&&(a.location=t.location),t.reminder&&(a.reminder=t.reminder),t.notes&&(a.notes=t.notes),creative.adapter.sendToEventMonitor(\\\"dateSaved\\\",t.triggerId,e.screen.name,a,null,e.initiatedBeforeScreenShown()),e.track({name:\\\"dateSaved\\\",label:t.reportLabel}),creative.adapter._stopAllMedia(),creative.adapter.saveCalendarEvent(t,n)},getEventICSUrl:function(e,t){var n={format:\\\"ics\\\"},a=[\\\"eventName\\\",\\\"location\\\",\\\"start\\\",\\\"end\\\",\\\"timezone\\\",\\\"reminder\\\",\\\"notes\\\"];if(a.forEach(function(t){if(t in e){var a=e[t];\\\"object\\\"==typeof a&&a.hasOwnProperty(\\\"value\\\")&&(a=a.value),\\\"string\\\"==typeof a&&a.length&&(n[t]=a)}}),n.start&&\\\"eventName\\\"in n){if(n.end&&10===n.end.length){var r=new Date(Date.parse(n.end)+864e5);n.end=r.getFullYear()+\\\"-\\\"+(\\\"0\\\"+(r.getMonth()+1)).slice(-2)+\\\"-\\\"+(\\\"0\\\"+r.getDate()).slice(-2)}return urls.cachedApiUrl.replace(\/^https:\/,t)+\\\"calendar?\\\"+buildQuery(n)}return null},getEventGoogleCalendarUrl:function(e){function t(e,t){var a=function(e,t){var a=e[t].value.replace(\\\" \\\",\\\"T\\\");return e.allDay&&(a=a.substr(0,10)+\\\"T\\\"+(\\\"start\\\"===t?\\\"00:00:00\\\":\\\"23:59:59\\\"),e.timezone=\\\"user\\\"),new Date(a+(\\\"user\\\"===e.timezone?n(a):\\\"+00:00\\\"))}(e,t);return a.toISOString().replace(\/[-:]|(?:\\\\.[0-9]*)\/g,\\\"\\\")}function n(e){var t=new Date(e).getTimezoneOffset(),n=Math.abs(t),r=Math.floor(n\/60);return(t>0?\\\"-\\\":\\\"+\\\")+a(r)+\\\":\\\"+a(n-60*r)}function a(e){return(\\\"0\\\"+e).slice(-2)}var r=\\\"https:\/\/calendar.google.com\/calendar\/\\\"+(desktop()?\\\"render?\\\":\\\"gp#~calendar:view=e&\\\")+\\\"action=TEMPLATE\\\",o={dates:t(e,\\\"start\\\")+\\\"\/\\\"+t(e,\\\"end\\\"),location:e.location,text:e.eventName,details:e.notes};return r+\\\"&\\\"+buildQuery(o)},toString:function(){return\\\"[Clazz CCalendar]\\\"}};;\\nfunction CDate(){}CDate.toString=function(){return\\\"[Clazz CDate]\\\"},CDate.prototype.toString=function(){return\\\"[CDate \\\"+this.localId+\\\"]\\\"},CDate.prototype.getLocalStartDate=function(){var t=this._getParts();return new Date(t[1],t[2]-1,t[3],0,0,0)},CDate.prototype.getLocalEndDate=function(){var t=this._getParts();return new Date(t[1],t[2]-1,t[3]+1,0,0,0)},CDate.prototype.getDate=function(){return this.getLocalStartDate()},CDate.prototype._getParts=function(){return this.value.match(\/^(....)-(..)-(..)$\/).map(function(t){return parseInt(t,10)})};;\\nfunction CDateTime(){}CDateTime.toString=function(){return\\\"[Clazz CDateTime]\\\"},CDateTime.prototype.toString=function(){return\\\"[CDateTime \\\"+this.localId+\\\"]\\\"},CDateTime.prototype.getDate=function(){var t=this.value.match(\/^(....)-(..)-(..) (..):(..):(..)$\/).map(function(t){return parseInt(t,10)});switch(this.tz){case\\\"my\\\":case\\\"utc\\\":return new Date(Date.UTC(t[1],t[2]-1,t[3],t[4],t[5],t[6]));case\\\"user\\\":return new Date(t[1],t[2]-1,t[3],t[4],t[5],t[6]);default:Creative._throw(\\\"Invalid CDateTime timezone: \\\"+this.tz)}};;\\nvar Twitter={};Twitter.showUserAction=function(e,t,r){if(!t.screenName)return void r();var a=\\\"twitterProfileOpened\\\";creative.adapter._stopAllMedia(),e.track({name:a,screenName:t.screenName,label:t.reportLabel}),e.trackClickThrough();var i=desktop()?\\\"www\\\":\\\"mobile\\\",o=\\\"http:\/\/\\\"+i+\\\".twitter.com\/\\\"+t.screenName;creative.adapter.openBrowser(creative.wrapRedirectPageUrl(o),creative.shouldClickThroughToNewWindow(e)),creative.adapter.sendToEventMonitor(a,t.triggerId,e.screen.name,\\\"@\\\"+t.screenName,t.reportLabel,e.initiatedBeforeScreenShown()),r()},Twitter.tweetAction=function(e,t,r){if(!t.text)return void r();e.track({name:\\\"tweetPageOpened\\\",tweet:t.text,tweetVia:t.via,label:t.reportLabel}),e.trackClickThrough();var a=\\\"http:\/\/twitter.com\/intent\/tweet?text=\\\"+encodeURIComponent(t.text);t.via&&(a+=\\\"&via=\\\"+encodeURIComponent(t.via)),creative.adapter.openBrowser(creative.wrapRedirectPageUrl(creative.apiUrl+\\\"redirect?url=\\\"+encodeURIComponent(a)+\\\"&type=js\\\"),creative.shouldClickThroughToNewWindow(e)),r()};;\\n!function(t){\\\"use strict\\\";var e={stringPatternAngle:\\\"(?:[+-]?\\\\\\\\d*\\\\\\\\.?\\\\\\\\d+)(?:deg|grad|rad|turn)\\\",stringPatternColor:\\\"(?:#(?:[A-Fa-f0-9]{3,6})|(?:(?:rgb|hsl)a?)\\\\\\\\(\\\\\\\\s*(?:\\\\\\\\d+(?:\\\\\\\\%)?\\\\\\\\s*,\\\\\\\\s*){2,3}(?:(?:\\\\\\\\d+\\\\\\\\.)?\\\\\\\\d+)\\\\\\\\s*\\\\\\\\))\\\",stringPatternSideCorner:\\\"top|bottom|left|right\\\",stringPatternValue:\\\"(?:[+-]?\\\\\\\\d*\\\\\\\\.?\\\\\\\\d+)(?:%|[a-z]+)?\\\",patternHex:\/^(#|)([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$\/,matchHexHash:1,matchHexColor:2,patternRgb:\/^rgb\\\\(\\\\s*(\\\\d+)\\\\s*,\\\\s*(\\\\d+)\\\\s*,\\\\s*(\\\\d+)\\\\s*\\\\)$\/i,matchRgbRed:1,matchRgbGreen:2,matchRgbBlue:3,patternRgba:\/^rgba\\\\(\\\\s*(\\\\d+)\\\\s*,\\\\s*(\\\\d+)\\\\s*,\\\\s*(\\\\d+)\\\\s*,\\\\s*((?:\\\\d\\\\.)?\\\\d\\\\d?)\\\\s*\\\\)$\/i,matchRgbaRed:1,matchRgbaGreen:2,matchRgbaBlue:3,matchRgbaAlpha:4,patternGradient:\/^\\\\-?(moz|webkit|o|ms|)(?:(?:-|)(?:repeating-|)(linear|radial|))-gradient\\\\((.*?)\\\\)(?:;|)$\/i,matchGradientPrefix:1,matchGradientType:2,matchGradientValues:3,generatedGradientSyntax:null,matchGradientSyntaxLine:1,matchGradientSyntaxAngle:2,matchGradientSyntaxSideCorner:3,matchGradientSyntaxStopList:4,buildGradientSyntax:function(){var t=[\\\"(?:to\\\\\\\\s+)?((?:\\\",e.stringPatternSideCorner,\\\")\\\\\\\\s*(?:\\\",e.stringPatternSideCorner,\\\")?)\\\"].join(\\\"\\\"),a=[\\\"(\\\",e.stringPatternAngle,\\\")\\\"].join(\\\"\\\"),n=[\\\"(\\\",a,\\\"|\\\",t,\\\")\\\"].join(\\\"\\\"),r=[e.stringPatternColor,\\\"\\\\\\\\s*(?:\\\",e.stringPatternValue,\\\")?\\\"].join(\\\"\\\"),i=[\\\"(?:\\\",r,\\\"\\\\\\\\s*,\\\\\\\\s*)*\\\",r].join(\\\"\\\"),o=[\\\"^\\\\\\\\s*\\\",n,\\\"\\\\\\\\s*,\\\\\\\\s*(\\\",i,\\\")\\\\\\\\s*$\\\"].join(\\\"\\\");return e.generatedGradientSyntax=new RegExp(o,\\\"i\\\"),e.generatedGradientSyntax},generatedRadialGradientSyntax:null,matchRadialGradientSyntaxEllipse:1,matchRadialGradientSyntaxWidth:2,matchRadialGradientSyntaxHeight:3,matchRadialGradientSyntaxXPosition:4,matchRadialGradientSyntaxYPosition:5,matchRadialGradientSyntaxStopList:6,buildRadialGradientSyntax:function(){var t=[\\\"(ellipse)?\\\\\\\\s*\\\",\\\"(\\\",e.stringPatternValue,\\\")\\\\\\\\s+\\\",\\\"(\\\",e.stringPatternValue,\\\")\\\\\\\\s+at\\\\\\\\s+\\\",\\\"(\\\",e.stringPatternValue,\\\")\\\\\\\\s+\\\",\\\"(\\\",e.stringPatternValue,\\\")\\\"].join(\\\"\\\"),a=[e.stringPatternColor,\\\"\\\\\\\\s*(?:\\\",e.stringPatternValue,\\\")?\\\"].join(\\\"\\\"),n=[\\\"(?:\\\",a,\\\"\\\\\\\\s*,\\\\\\\\s*)*\\\",a].join(\\\"\\\"),r=[\\\"^\\\\\\\\s*\\\",t,\\\"\\\\\\\\s*,\\\\\\\\s*(\\\",n,\\\")\\\\\\\\s*$\\\"].join(\\\"\\\");return e.generatedRadialGradientSyntax=new RegExp(r,\\\"i\\\"),e.generatedRadialGradientSyntax},generatedGradientStopList:null,matchGradientStopListColor:1,matchGradientStopListPosition:2,buildGradientStopList:function(){var t=[\\\"\\\\\\\\s*(\\\",e.stringPatternColor,\\\")\\\",\\\"(?:\\\\\\\\s+\\\",\\\"(\\\",e.stringPatternValue,\\\"))?\\\",\\\"(?:\\\\\\\\s*,\\\\\\\\s*)?\\\"].join(\\\"\\\");return e.generatedGradientStopList=new RegExp(t,\\\"gi\\\"),e.generatedGradientStopList},gradientOldSideCorner:{\\\"to top\\\":\\\"left bottom, left top\\\",\\\"to left\\\":\\\"right top, left top\\\",\\\"to bottom\\\":\\\"left top, left bottom\\\",\\\"to right\\\":\\\"left top, right top\\\",\\\"to top right\\\":\\\"left bottom, right top\\\",\\\"to top left\\\":\\\"right bottom, left top\\\",\\\"to bottom right\\\":\\\"left top, right bottom\\\",\\\"to bottom left\\\":\\\"right top, left bottom\\\"},gradientPrefixedSideCorner:{\\\"to top\\\":\\\"bottom\\\",\\\"to left\\\":\\\"right\\\",\\\"to bottom\\\":\\\"top\\\",\\\"to right\\\":\\\"left\\\",\\\"to top right\\\":\\\"bottom left\\\",\\\"to top left\\\":\\\"bottom right\\\",\\\"to bottom right\\\":\\\"top left\\\",\\\"to bottom left\\\":\\\"top right\\\"}};Object.defineProperties(e,{patternGradientSyntax:{get:function(){return null===e.generatedGradientSyntax?e.buildGradientSyntax():e.generatedGradientSyntax}},patternRadialGradientSyntax:{get:function(){return null===e.generatedRadialGradientSyntax?e.buildRadialGradientSyntax():e.generatedRadialGradientSyntax}},patternGradientStopList:{get:function(){return null===e.generatedGradientStopList?e.buildGradientStopList():e.generatedGradientStopList}}}),e.convertAngleToSideCorner=function(t,e){\/\\\\-?(moz|webkit|o|ms)\/.test(e)&&(t=90-t);var a=(t+360)%360,n=\\\"to top\\\";return a>347||14>a?n=\\\"to top\\\":a>=14&&75>=a?n=\\\"to top right\\\":a>75&&105>a?n=\\\"to right\\\":a>=105&&167>=a?n=\\\"to bottom right\\\":a>167&&194>a?n=\\\"to bottom\\\":a>=194&&255>=a?n=\\\"to bottom left\\\":a>255&&285>a?n=\\\"to left\\\":a>=285&&347>=a&&(n=\\\"to left top\\\"),n},e.convertSideCornerToAngle=function(t,e){var a=0;switch(t){case\\\"bottom\\\":case\\\"to top\\\":a=0;break;case\\\"left\\\":case\\\"to right\\\":a=90;break;case\\\"right\\\":case\\\"to left\\\":a=270;break;case\\\"top\\\":case\\\"to bottom\\\":a=180;break;case\\\"to bottom right\\\":case\\\"to right bottom\\\":a=167;break;case\\\"to bottom left\\\":case\\\"to left bottom\\\":a=194;break;case\\\"to top right\\\":case\\\"to right top\\\":a=14;break;case\\\"to top left\\\":case\\\"to left top\\\":a=347;break;case\\\"bottom right\\\":case\\\"right bottom\\\":a=285;break;case\\\"bottom left\\\":case\\\"left bottom\\\":a=75;break;case\\\"top right\\\":case\\\"right top\\\":a=255;break;case\\\"top left\\\":case\\\"left top\\\":a=105}return\/\\\\-?(moz|webkit|o|ms)\/.test(e)&&(a=90-a),(a+360)%360},e.isHex=function(t){return e.patternHex.test(t)},e.isRgb=function(t){return e.patternRgb.test(t)},e.isRgba=function(t){return e.patternRgba.test(t)},e.isGradient=function(t){return e.patternGradient.test(t)},e.parseColorStopList=function(t){for(var a,n=e.patternGradientStopList.exec(t),r=[];null!==n;)a={color:n[e.matchGradientStopListColor]},n[e.matchGradientStopListPosition]&&(a.position=n[e.matchGradientStopListPosition]),r.push(a),n=e.patternGradientStopList.exec(t);return r},e.parseGradient=function(t){var a=null,n=e.patternGradient.exec(t);if(null!==n){a={original:n[0],oldSyntax:!n[e.matchGradientType],prefix:n[e.matchGradientPrefix],type:n[e.matchGradientType],colorStopList:[]};var r=e.patternGradientSyntax.exec(n[e.matchGradientValues]);null!==r&&(r[e.matchGradientSyntaxLine]&&(a.line=r[e.matchGradientSyntaxLine]),r[e.matchGradientSyntaxAngle]&&(a.angle=r[e.matchGradientSyntaxAngle]),r[e.matchGradientSyntaxSideCorner]&&(a.sideCorner=r[e.matchGradientSyntaxSideCorner]),a.colorStopList=e.parseColorStopList(r[e.matchGradientSyntaxStopList]));var i=e.patternRadialGradientSyntax.exec(n[e.matchGradientValues]);null!==i&&(a.radialGradientEllipse=i[e.matchRadialGradientSyntaxEllipse],i[e.matchRadialGradientSyntaxWidth]&&(a.radialGradientWidth=i[e.matchRadialGradientSyntaxWidth]),i[e.matchRadialGradientSyntaxHeight]&&(a.radialGradientHeight=i[e.matchRadialGradientSyntaxHeight]),i[e.matchRadialGradientSyntaxXPosition]&&(a.radialGradientXPosition=i[e.matchRadialGradientSyntaxXPosition]),i[e.matchRadialGradientSyntaxYPosition]&&(a.radialGradientYPosition=i[e.matchRadialGradientSyntaxYPosition]),a.colorStopList=e.parseColorStopList(i[e.matchRadialGradientSyntaxStopList]))}return a},e.createGradient=function(t){var a={backgroundColor:null,webkitGradient:null,mozLinearGradient:null,msLinearGradient:null,oLinearGradient:null,webkitLinearGradient:null,linearGradient:null,radialGradient:null},n=e.parseGradient(t);if(n.oldSyntax)throw new Error('[Not supported] Can not create gradient from old \\\"webkit-gradient\\\" syntax.');for(var r=\\\"\\\",i=\\\"\\\",o=n.colorStopList.length,d=0;o>d;d++){var l=n.colorStopList[d];if(l.color){if(0!==d?(r+=\\\", \\\",i+=\\\", \\\"):a.backgroundColor=l.color,r+=l.color,i+=\\\"color-stop(\\\",l.position)r+=\\\" \\\"+l.position,i+=l.position;else{var s=100\/(o-1)*d;i+=s+\\\"%\\\"}i+=\\\", \\\"+l.color+\\\")\\\"}}if(\\\"linear\\\"===n.type){var g=0;\\\"undefined\\\"!=typeof n.angle?g=parseInt(n.angle,10):\\\"undefined\\\"!=typeof n.sideCorner&&(g=e.convertSideCornerToAngle(n.line,n.prefix));var c=g;\/\\\\-?(moz|webkit|o|ms)\/.test(n.prefix)?g=90-c:c=90-g;var p=e.convertAngleToSideCorner(g),G=e.gradientOldSideCorner[p];a.webkitGradient=\\\"-webkit-gradient(linear, \\\"+G+\\\", \\\"+i+\\\")\\\",a.mozLinearGradient=\\\"-moz-linear-gradient(\\\"+c+\\\"deg, \\\"+r+\\\")\\\",a.msLinearGradient=\\\"-ms-linear-gradient(\\\"+c+\\\"deg, \\\"+r+\\\")\\\",a.oLinearGradient=\\\"-o-linear-gradient(\\\"+c+\\\"deg, \\\"+r+\\\")\\\",a.webkitLinearGradient=\\\"-webkit-linear-gradient(\\\"+c+\\\"deg, \\\"+r+\\\")\\\",a.linearGradient=\\\"linear-gradient(\\\"+g+\\\"deg, \\\"+r+\\\")\\\"}else if(\\\"radial\\\"===n.type){var m=parseInt(n.radialGradientWidth,10),h=parseInt(n.radialGradientHeight,10),S=parseInt(n.radialGradientXPosition,10),u=parseInt(n.radialGradientYPosition,10),f=m+\\\"% \\\"+h+\\\"%\\\",b=S+\\\"% \\\"+u+\\\"% \\\",x=f+\\\" at \\\"+b;a.radialGradient=\\\"radial-gradient(\\\"+x+\\\", \\\"+r+\\\")\\\"}return a},e.createGradientStyle=function(t){var a=e.createGradient(t),n=\\\"\\\";for(var r in a){var i=a[r];null!==i&&e.isGradient(i)&&(n+=\\\"background-image: \\\"+i+\\\"; \\\")}return n},t.Color=e}(window),\\\"undefined\\\"!=typeof module&&\\\"undefined\\\"!=typeof module.exports&&(module.exports=window.Color);;\\n!function(){\\\"use strict\\\";var t=[],e=[\\\"provider\\\",\\\"family\\\",\\\"style\\\",\\\"weight\\\",\\\"stretch\\\"],i=[\\\"adobe\\\",\\\"custom\\\",\\\"google\\\",\\\"system\\\"],n=e.concat([\\\"baseUrl\\\",\\\"files\\\",\\\"projectId\\\",\\\"subset\\\"]),o={updateTextStyle:function(){},initializeFont:function(t){this._initialFont instanceof FontBase||(this._initialFont=this.font),this.font.setBaseUrl((creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\\\"fonts\/\\\"),t||(this.incrementLoadingCount(),this.loadFont(deferred(this.decrementLoadingCount.bind(this),0,\\\"TextStyleIntegrator.initializeFont deferred loadFont callback\\\"))),this.updateTextStyle()},resetFont:function(){this._initialFont instanceof FontBase&&this.font!==this._initialFont&&(this.font=this._initialFont,this.updateTextStyle())},toSizePx:function(t,e){var i=parseFloat(t);return t.toString().indexOf(\\\"vh\\\")>-1&&(i=Math.round(e*i\/100)),i},getFontSize:function(){return this.toSizePx(this.fontSize,this.parentScreen.size.height)},getLineSpacing:function(){var t=parseFloat(this.lineSpacing);return String(this.lineSpacing).indexOf(\\\"em\\\")>-1&&(t*=this.toSizePx(this.fontSize,this.parentScreen.size.height)),t},getLetterSpacing:function(){var t=parseFloat(this.letterSpacing);return String(this.letterSpacing).indexOf(\\\"em\\\")>-1&&(t*=this.toSizePx(this.fontSize,this.parentScreen.size.height)),t},getScaleBaseHeight:function(){return this.scaleBaseHeight},getScaleBaseWidth:function(){return this.scaleBaseWidth},getTextColor:function(){return this.textColor},getTextShadowOffset:function(){var t={x:0,y:0};if(\\\"undefined\\\"!=typeof this.textShadow&&this.textShadow){var e=this.textShadowAngle*(Math.PI\/180);t.x=Math.round(this.textShadowDistance*Math.cos(e)),t.y=Math.round(this.textShadowDistance*Math.sin(e))}return t},getTextShadowBlur:function(){return android(\\\"2\\\")&&this.textShadowBlur<1?1:this.textShadowBlur},getTextPaddingTop:function(){return this.textPaddingTop},getTextPaddingRight:function(){return this.textPaddingRight},getTextPaddingBottom:function(){return this.textPaddingBottom},getTextPaddingLeft:function(){return this.textPaddingLeft},applyTextStyle:function(t){var e=this.font.getCssProperties(),i={fontFamily:e[\\\"font-family\\\"],fontStyle:e[\\\"font-style\\\"],fontWeight:e[\\\"font-weight\\\"],color:this.getTextColor(),letterSpacing:\\\"\\\",textAlign:\\\"\\\",textDecoration:\\\"\\\",textShadow:\\\"\\\",paddingTop:\\\"\\\",paddingRight:\\\"\\\",paddingBottom:\\\"\\\",paddingLeft:\\\"\\\"};if(\\\"undefined\\\"!=typeof this.textAlign&&(i.textAlign=this.textAlign),\\\"undefined\\\"!=typeof this.textDecoration&&(i.textDecoration=this.textDecoration),\\\"undefined\\\"!=typeof this.letterSpacing&&(i.letterSpacing=this.getLetterSpacing()+\\\"px\\\"),\\\"undefined\\\"!=typeof this.textShadow&&this.textShadow){var n=this.getTextShadowOffset();i.textShadow=n.x+\\\"px \\\"+n.y+\\\"px \\\"+this.getTextShadowBlur()+\\\"px \\\"+this.textShadowColor}var o=this.getTextPaddingTop(),a=this.getTextPaddingRight(),r=this.getTextPaddingBottom(),s=this.getTextPaddingLeft();\\\"number\\\"==typeof o&&(i.paddingTop=o+\\\"px\\\"),\\\"number\\\"==typeof a&&(i.paddingRight=a+\\\"px\\\"),\\\"number\\\"==typeof r&&(i.paddingBottom=r+\\\"px\\\"),\\\"number\\\"==typeof s&&(i.paddingLeft=s+\\\"px\\\"),extend(t.style,i),t.setAttribute(\\\"dir\\\",this.textDirection||\\\"\\\"),this.checkAndFixAutoWritingDirectionSupport(t)},_writingDirectionFallbackInputListenerRegistered:!1,checkAndFixAutoWritingDirectionSupport:function(t){var e=\\\"auto\\\"===this.textDirection&&t.dir!==this.textDirection,i=(\\\"start\\\"===this.textAlign||\\\"end\\\"===this.textAlign)&&t.style.textAlign!=this.textAlign;if(e||i){var n=t.tagName.toLowerCase(),o=\\\"textarea\\\"===n||\\\"input\\\"===n&&\\\"text\\\"===t.type.toLowerCase();o&&!this._writingDirectionFallbackInputListenerRegistered&&(this._writingDirectionFallbackInputListenerRegistered=!0,attach(t,\\\"input\\\",function(){this._applyWritingDirectionFallbacks(t,t.value)}.bind(this))),(o||\\\"input\\\"!==n)&&this._applyWritingDirectionFallbacks(t,t.innerText)}},_applyWritingDirectionFallbacks:function(t,e){var i,n=guessWritingDirection(e)||\\\"ltr\\\";\\\"start\\\"===this.textAlign&&(i=\\\"ltr\\\"===n?\\\"left\\\":\\\"right\\\"),\\\"end\\\"===this.textAlign&&(i=\\\"ltr\\\"===n?\\\"right\\\":\\\"left\\\"),t.setAttribute(\\\"dir\\\",n||\\\"\\\"),i&&(t.style.textAlign=i)},applyTextSize:function(t){var e=this.getNaturalSize(),i=this.getFontSize();this.scaleFont&&this.getScaleBaseWidth()>0&&\\\"undefined\\\"!=typeof this.scaleBaseHeight&&this.getScaleBaseHeight()>0?i=Math.min(i\/(this.getScaleBaseWidth()\/e.width),i\/(this.getScaleBaseHeight()\/e.height)):this.scaleFont&&this.getScaleBaseWidth()>0&&(i\/=this.getScaleBaseWidth()\/e.width);var n={fontSize:i+\\\"px\\\",lineHeight:\\\"\\\",paddingLeft:\\\"\\\",paddingRight:\\\"\\\"};if(\\\"undefined\\\"!=typeof this.lineSpacing&&(n.lineHeight=Math.max(1,this.getLineSpacing()+i)+\\\"px\\\"),this.scaleFont&&\\\"undefined\\\"!=typeof this.scaleBaseHeight){var o=this.getScaleBaseWidth()\/this.getScaleBaseHeight(),a=o*e.height,r=e.width-a;if(r>0)switch(this.textAlign){case\\\"center\\\":n.paddingRight=Math.round(r\/2)+\\\"px\\\",n.paddingLeft=Math.round(r\/2)+\\\"px\\\";break;case\\\"right\\\":n.paddingLeft=Math.round(r)+\\\"px\\\";break;default:n.paddingRight=Math.round(r)+\\\"px\\\"}}extend(t.style,n)},getFontLoader:function(t){t=t||noop,!this.font.needsLoading()||FontBase.useCSSFontLoadingAPI||\\\"undefined\\\"!=typeof FontLoader?t():loadJS(creative.resourceUrl+\\\"runner-min\/FontLoader.js\\\",t)},loadFont:function(t){t=t||noop;var e={fontFamily:this.font.family,fontProvider:this.font.provider,fontStretch:this.font.stretch||\\\"\\\",fontStyle:this.font.style,fontWeight:this.font.weight,fontTtfUrl:this.font.getFileUrl(\\\"ttf\\\")||\\\"\\\",fontWoffUrl:this.font.getFileUrl(\\\"woff\\\")||\\\"\\\",fontWoff2Url:this.font.getFileUrl(\\\"woff2\\\")||\\\"\\\"},i=creative.perf.start(\\\"TextStyleIntegrator.loadFont\\\",e);this.getFontLoader(function(){var n=creative.perf.start(\\\"TextStyleIntegrator.loadStyle\\\",e);this.font.loadStyle(function(o){e.errorMessage=o||\\\"\\\",n.end(),i.end(),o||(this.font.isCustom()&&this.callExternalPageViewCounter(),this.font.isMonotype()&&this.trackMonotypeUsage()),t(o)}.bind(this))}.bind(this))},setFont:function(t){var o=this.font.hasOwnProperty(\\\"localId\\\");!o||this._initialFont instanceof FontBase||(this._initialFont=this.font);var a={baseUrl:(creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\\\"fonts\/\\\"};n.forEach(function(i){o&&-1!==e.indexOf(i)&&(a[i]=this.font[i]),\\\"undefined\\\"!=typeof t[i]&&(a[i]=t[i])}.bind(this)),\\\"web\\\"===a.provider&&(a.provider=\\\"system\\\"),-1===i.indexOf(a.provider)&&(a.provider=\\\"custom\\\"),this.font.localId?(\\\"custom\\\"===a.provider&&a.family===this.font.family&&(a.family=this.font.family+\\\" (custom)\\\"),this.font=new FontBase(a)):extend(this.font,a),creative.track({name:\\\"retiredFeatureUsed\\\",featureType:\\\"apifunction\\\",featureName:\\\"TextStyleIntegrator.setFont\\\"})},callExternalPageViewCounter:function(){if(this.font.hasTrackingUrlDefined()&&\\\"live\\\"===creative.runtimeParams.purpose){var e=this.font.getTrackingUrl();if(-1===t.indexOf(e)){t.push(e);var i=document.createElement(\\\"img\\\");i.src=this.font.getTrackingUrl()}}},trackMonotypeUsage:function(){creative.runtimeParams.monotypeProjectId&&!creative.runtimeParams.monotypeUsageReported&&(creative.runtimeParams.monotypeUsageReported=1,creative.aggregatorTracking.trackAggregator(\\\"monotypeUsageReported\\\",{monotypeProjectId:creative.runtimeParams.monotypeProjectId,creativeId:creative.id}))}};window.TextStyleIntegrator=o}();;\\n!function(e){var o=Date.now||function(){return+new Date},t=60,_=1e3,i={},l=1;e.core?core.effect||(core.effect={}):e.core={effect:{}},core.effect.Animate={requestAnimationFrame:function(){var o=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame,t=!!o;if(o&&!\/requestAnimationFrame\\\\(\\\\)\\\\s*\\\\{\\\\s*\\\\[native code\\\\]\\\\s*\\\\}\/i.test(o.toString())&&(t=!1),t)return function(e,t){o(e,t)};var _=60,i={},l=0,n=1,r=null,a=+new Date;return function(e){var o=n++;return i[o]=e,l++,null===r&&(r=setInterval(function(){var e=+new Date,o=i;i={},l=0;for(var t in o)o.hasOwnProperty(t)&&(o[t](e),a=e);e-a>2500&&(clearInterval(r),r=null)},1e3\/_)),o}}(),stop:function(e){var o=null!=i[e];return o&&(i[e]=null),o},isRunning:function(e){return null!=i[e]},start:function(e,n,r,a,c,s){var p=o(),h=p,f=0,m=0,u=l++;if(s||(s=document.body),u%20===0){var g={};for(var v in i)g[v]=!0;i=g}var d=function(l){var g=l!==!0,v=o();if(!i[u]||n&&!n(u))return i[u]=null,void(r&&r(t-m\/((v-p)\/_),u,!1));if(g)for(var T=Math.round((v-h)\/(_\/t))-1,S=0;S<Math.min(T,4);S++)d(!0),m++;a&&(f=(v-p)\/a,f>1&&(f=1));var D=c?c(f):f;e(D,v,g)!==!1&&1!==f||!g?g&&(h=v,core.effect.Animate.requestAnimationFrame(d,s)):(i[u]=null,r&&r(t-m\/((v-p)\/_),u,1===f||null==a))};return i[u]=!0,core.effect.Animate.requestAnimationFrame(d,s),u}}}(window);var ZyngaScroller;!function(){var e=function(){};ZyngaScroller=function(o,t){this.__callback=o,this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,scrollingComplete:e,penetrationDeceleration:.03,penetrationAcceleration:.08};for(var _ in t)this.options[_]=t[_]};var o=function(e){return Math.pow(e-1,3)+1},t=function(e){return(e\/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},_={__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(e,o,t,_){var i=this;e===+e&&(i.__clientWidth=e),o===+o&&(i.__clientHeight=o),t===+t&&(i.__contentWidth=t),_===+_&&(i.__contentHeight=_),i.__computeScrollMax(),i.scrollTo(i.__scrollLeft,i.__scrollTop,!0)},setPosition:function(e,o){var t=this;t.__clientLeft=e||0,t.__clientTop=o||0},setSnapSize:function(e,o){var t=this;t.__snapWidth=e,t.__snapHeight=o},activatePullToRefresh:function(e,o,t,_){var i=this;i.__refreshHeight=e,i.__refreshActivate=o,i.__refreshDeactivate=t,i.__refreshStart=_},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){var e=this;e.__refreshActive=!1,e.__refreshDeactivate&&e.__refreshDeactivate(),e.scrollTo(e.__scrollLeft,e.__scrollTop,!0)},getValues:function(){var e=this;return{left:e.__scrollLeft,top:e.__scrollTop,zoom:e.__zoomLevel,isDragging:e.__isDragging}},getScrollMax:function(){var e=this;return{left:e.__maxScrollLeft,top:e.__maxScrollTop}},zoomTo:function(e,o,t,_,i){var l=this;if(!l.options.zooming)throw new Error(\\\"Zooming is not enabled!\\\");i&&(l.__zoomComplete=i),l.__isDecelerating&&(core.effect.Animate.stop(l.__isDecelerating),l.__isDecelerating=!1);var n=l.__zoomLevel;null==t&&(t=l.__clientWidth\/2),null==_&&(_=l.__clientHeight\/2),e=Math.max(Math.min(e,l.options.maxZoom),l.options.minZoom),l.__computeScrollMax(e);var r=(t+l.__scrollLeft)*e\/n-t,a=(_+l.__scrollTop)*e\/n-_;r>l.__maxScrollLeft?r=l.__maxScrollLeft:0>r&&(r=0),a>l.__maxScrollTop?a=l.__maxScrollTop:0>a&&(a=0),l.__publish(r,a,e,o)},zoomBy:function(e,o,t,_,i){var l=this;l.zoomTo(l.__zoomLevel*e,o,t,_,i)},scrollTo:function(e,o,t,_){var i=this;if(i.__isDecelerating&&(core.effect.Animate.stop(i.__isDecelerating),i.__isDecelerating=!1),null!=_&&_!==i.__zoomLevel){if(!i.options.zooming)throw new Error(\\\"Zooming is not enabled!\\\");e*=_,o*=_,i.__computeScrollMax(_)}else _=i.__zoomLevel;i.options.scrollingX?i.options.paging?e=Math.round(e\/i.__clientWidth)*i.__clientWidth:i.options.snapping&&(e=Math.round(e\/i.__snapWidth)*i.__snapWidth):e=i.__scrollLeft,i.options.scrollingY?i.options.paging?o=Math.round(o\/i.__clientHeight)*i.__clientHeight:i.options.snapping&&(o=Math.round(o\/i.__snapHeight)*i.__snapHeight):o=i.__scrollTop,e=Math.max(Math.min(i.__maxScrollLeft,e),0),o=Math.max(Math.min(i.__maxScrollTop,o),0),e===i.__scrollLeft&&o===i.__scrollTop&&(t=!1),i.__publish(e,o,_,t)},scrollBy:function(e,o,t){var _=this,i=_.__isAnimating?_.__scheduledLeft:_.__scrollLeft,l=_.__isAnimating?_.__scheduledTop:_.__scrollTop;_.scrollTo(i+(e||0),l+(o||0),t)},doMouseZoom:function(e,o,t,_){var i=this,l=e>0?.97:1.03;return i.zoomTo(i.__zoomLevel*l,!1,t-i.__clientLeft,_-i.__clientTop)},doTouchStart:function(e,o){if(null==e.length)throw new Error(\\\"Invalid touch list: \\\"+e);if(o instanceof Date&&(o=o.valueOf()),\\\"number\\\"!=typeof o)throw new Error(\\\"Invalid timestamp value: \\\"+o);var t=this;t.__interruptedAnimation=!0,t.__isDecelerating&&(core.effect.Animate.stop(t.__isDecelerating),t.__isDecelerating=!1,t.__interruptedAnimation=!0),t.__isAnimating&&(core.effect.Animate.stop(t.__isAnimating),t.__isAnimating=!1,t.__interruptedAnimation=!0);var _,i,l=1===e.length;l?(_=e[0].pageX,i=e[0].pageY):(_=Math.abs(e[0].pageX+e[1].pageX)\/2,i=Math.abs(e[0].pageY+e[1].pageY)\/2),t.__initialTouchLeft=_,t.__initialTouchTop=i,t.__zoomLevelStart=t.__zoomLevel,t.__lastTouchLeft=_,t.__lastTouchTop=i,t.__lastTouchMove=o,t.__lastScale=1,t.__enableScrollX=!l&&t.options.scrollingX,t.__enableScrollY=!l&&t.options.scrollingY,t.__isTracking=!0,t.__didDecelerationComplete=!1,t.__isDragging=!l,t.__isSingleTouch=l,t.__positions=[]},doTouchMove:function(e,o,t){if(null==e.length)throw new Error(\\\"Invalid touch list: \\\"+e);if(o instanceof Date&&(o=o.valueOf()),\\\"number\\\"!=typeof o)throw new Error(\\\"Invalid timestamp value: \\\"+o);var _=this;if(_.__isTracking){var i,l;2===e.length?(i=Math.abs(e[0].pageX+e[1].pageX)\/2,l=Math.abs(e[0].pageY+e[1].pageY)\/2):(i=e[0].pageX,l=e[0].pageY);var n=_.__positions;if(_.__isDragging){var r=i-_.__lastTouchLeft,a=l-_.__lastTouchTop,c=_.__scrollLeft,s=_.__scrollTop,p=_.__zoomLevel;if(null!=t&&_.options.zooming){var h=p;if(p=p\/_.__lastScale*t,p=Math.max(Math.min(p,_.options.maxZoom),_.options.minZoom),h!==p){var f=i-_.__clientLeft,m=l-_.__clientTop;c=(f+c)*p\/h-f,s=(m+s)*p\/h-m,_.__computeScrollMax(p)}}if(_.__enableScrollX){c-=r*this.options.speedMultiplier;var u=_.__maxScrollLeft;(c>u||0>c)&&(_.options.bouncing?c+=r\/2*this.options.speedMultiplier:c=c>u?u:0)}if(_.__enableScrollY){s-=a*this.options.speedMultiplier;var g=_.__maxScrollTop;(s>g||0>s)&&(_.options.bouncing?(s+=a\/2*this.options.speedMultiplier,_.__enableScrollX||null==_.__refreshHeight||(!_.__refreshActive&&s<=-_.__refreshHeight?(_.__refreshActive=!0,_.__refreshActivate&&_.__refreshActivate()):_.__refreshActive&&s>-_.__refreshHeight&&(_.__refreshActive=!1,_.__refreshDeactivate&&_.__refreshDeactivate()))):s=s>g?g:0)}n.length>60&&n.splice(0,30),n.push(c,s,o),_.__publish(c,s,p)}else{var v=_.options.locking?3:0,d=5,T=Math.abs(i-_.__initialTouchLeft),S=Math.abs(l-_.__initialTouchTop);_.__enableScrollX=_.options.scrollingX&&T>=v,_.__enableScrollY=_.options.scrollingY&&S>=v,n.push(_.__scrollLeft,_.__scrollTop,o),_.__isDragging=(_.__enableScrollX||_.__enableScrollY)&&(T>=d||S>=d),_.__isDragging&&(_.__interruptedAnimation=!1)}_.__lastTouchLeft=i,_.__lastTouchTop=l,_.__lastTouchMove=o,_.__lastScale=t}},doTouchEnd:function(e){if(e instanceof Date&&(e=e.valueOf()),\\\"number\\\"!=typeof e)throw new Error(\\\"Invalid timestamp value: \\\"+e);var o=this;if(o.__isTracking){if(o.__isTracking=!1,o.__isDragging)if(o.__isDragging=!1,o.__isSingleTouch&&o.options.animating&&e-o.__lastTouchMove<=100){for(var t=o.__positions,_=t.length-1,i=_,l=_;l>0&&t[l]>o.__lastTouchMove-100;l-=3)i=l;if(i!==_){var n=t[_]-t[i],r=o.__scrollLeft-t[i-2],a=o.__scrollTop-t[i-1];o.__decelerationVelocityX=r\/n*(1e3\/60),o.__decelerationVelocityY=a\/n*(1e3\/60);var c=o.options.paging||o.options.snapping?4:1;(Math.abs(o.__decelerationVelocityX)>c||Math.abs(o.__decelerationVelocityY)>c)&&(o.__refreshActive||o.__startDeceleration(e))}else o.options.scrollingComplete()}else e-o.__lastTouchMove>100&&o.options.scrollingComplete();o.__isDecelerating||(o.__refreshActive&&o.__refreshStart?(o.__publish(o.__scrollLeft,-o.__refreshHeight,o.__zoomLevel,!0),o.__refreshStart&&o.__refreshStart()):((o.__interruptedAnimation||o.__isDragging)&&o.options.scrollingComplete(),o.scrollTo(o.__scrollLeft,o.__scrollTop,!0,o.__zoomLevel),o.__refreshActive&&(o.__refreshActive=!1,o.__refreshDeactivate&&o.__refreshDeactivate()))),o.__positions.length=0}},__publish:function(e,_,i,l){var n=this,r=n.__isAnimating;if(r&&(core.effect.Animate.stop(r),n.__isAnimating=!1),l&&n.options.animating){n.__scheduledLeft=e,n.__scheduledTop=_,n.__scheduledZoom=i;var a=n.__scrollLeft,c=n.__scrollTop,s=n.__zoomLevel,p=e-a,h=_-c,f=i-s,m=function(e,o,t){t&&(n.__scrollLeft=a+p*e,n.__scrollTop=c+h*e,n.__zoomLevel=s+f*e,n.__callback&&n.__callback(n.__scrollLeft,n.__scrollTop,n.__zoomLevel))},u=function(e){return n.__isAnimating===e},g=function(e,o,t){o===n.__isAnimating&&(n.__isAnimating=!1),(n.__didDecelerationComplete||t)&&n.options.scrollingComplete(),n.options.zooming&&(n.__computeScrollMax(),n.__zoomComplete&&(n.__zoomComplete(),n.__zoomComplete=null))};n.__isAnimating=core.effect.Animate.start(m,u,g,n.options.animationDuration,r?o:t)}else n.__scheduledLeft=n.__scrollLeft=e,n.__scheduledTop=n.__scrollTop=_,n.__scheduledZoom=n.__zoomLevel=i,n.__callback&&n.__callback(e,_,i),n.options.zooming&&(n.__computeScrollMax(),n.__zoomComplete&&(n.__zoomComplete(),n.__zoomComplete=null))},__computeScrollMax:function(e){var o=this;null==e&&(e=o.__zoomLevel),o.__maxScrollLeft=Math.max(o.__contentWidth*e-o.__clientWidth,0),o.__maxScrollTop=Math.max(o.__contentHeight*e-o.__clientHeight,0)},__startDeceleration:function(){var e=this;if(e.options.paging){var o=Math.max(Math.min(e.__scrollLeft,e.__maxScrollLeft),0),t=Math.max(Math.min(e.__scrollTop,e.__maxScrollTop),0),_=e.__clientWidth,i=e.__clientHeight;e.__minDecelerationScrollLeft=Math.floor(o\/_)*_,e.__minDecelerationScrollTop=Math.floor(t\/i)*i,e.__maxDecelerationScrollLeft=Math.ceil(o\/_)*_,e.__maxDecelerationScrollTop=Math.ceil(t\/i)*i}else e.__minDecelerationScrollLeft=0,e.__minDecelerationScrollTop=0,e.__maxDecelerationScrollLeft=e.__maxScrollLeft,e.__maxDecelerationScrollTop=e.__maxScrollTop;var l=function(o,t,_){e.__stepThroughDeceleration(_)},n=e.options.snapping?4:.1,r=function(){var o=Math.abs(e.__decelerationVelocityX)>=n||Math.abs(e.__decelerationVelocityY)>=n;return o||(e.__didDecelerationComplete=!0),o},a=function(){e.__isDecelerating=!1,e.__didDecelerationComplete&&e.options.scrollingComplete(),e.scrollTo(e.__scrollLeft,e.__scrollTop,e.options.snapping)};e.__isDecelerating=core.effect.Animate.start(l,r,a)},__stepThroughDeceleration:function(e){var o=this,t=o.__scrollLeft+o.__decelerationVelocityX,_=o.__scrollTop+o.__decelerationVelocityY;if(!o.options.bouncing){var i=Math.max(Math.min(o.__maxDecelerationScrollLeft,t),o.__minDecelerationScrollLeft);i!==t&&(t=i,o.__decelerationVelocityX=0);var l=Math.max(Math.min(o.__maxDecelerationScrollTop,_),o.__minDecelerationScrollTop);l!==_&&(_=l,o.__decelerationVelocityY=0)}if(e?o.__publish(t,_,o.__zoomLevel):(o.__scrollLeft=t,o.__scrollTop=_),!o.options.paging){var n=.95;o.__decelerationVelocityX*=n,o.__decelerationVelocityY*=n}if(o.options.bouncing){var r=0,a=0,c=o.options.penetrationDeceleration,s=o.options.penetrationAcceleration;t<o.__minDecelerationScrollLeft?r=o.__minDecelerationScrollLeft-t:t>o.__maxDecelerationScrollLeft&&(r=o.__maxDecelerationScrollLeft-t),_<o.__minDecelerationScrollTop?a=o.__minDecelerationScrollTop-_:_>o.__maxDecelerationScrollTop&&(a=o.__maxDecelerationScrollTop-_),0!==r&&(r*o.__decelerationVelocityX<=0?o.__decelerationVelocityX+=r*c:o.__decelerationVelocityX=r*s),0!==a&&(a*o.__decelerationVelocityY<=0?o.__decelerationVelocityY+=a*c:o.__decelerationVelocityY=a*s)}}};for(var i in _)ZyngaScroller.prototype[i]=_[i]}();;\\nfunction Scroller(t,i,o){this.container=t,this.list=i,this.options=o||{},this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handleScroll=this._handleScroll.bind(this),this.silentScrolling=!1,this.zyngaScroller=new ZyngaScroller(this._handleScroll,{scrollingX:\\\"vertical\\\"===this.options.direction?!1:!0,scrollingY:\\\"horizontal\\\"===this.options.direction?!1:!0,bouncing:!!this.options.bouncing,animating:!!this.options.animating,locking:!!this.options.locking,snapping:!!this.options.snapping,animationDuration:\\\"undefined\\\"!=typeof this.options.animationDuration?this.options.animationDuration:250,scrollingComplete:deferred(this.emits(\\\"scrollingEnd\\\"))}),this.setEasing(\\\"undefined\\\"==typeof this.options.easing?!0:this.options.easing),this.redraw()}extend(Scroller.prototype,EventEmitter),Object.defineProperty(Scroller.prototype,\\\"isDragging\\\",{get:function(){return this.zyngaScroller.getValues().isDragging}}),Scroller._owner=\\\"celtra\\\",Scroller.prototype._handleScroll=function(t,i){t=isNaN(t)?0:t,i=isNaN(i)?0:i;var o=this.getMaxScroll();this.currentPosition={left:t,top:i,leftPercent:o.left?t\/o.left:0,topPercent:o.top?i\/o.top:0},celtra.styler.css(this.list,\\\"transform\\\",ScreenObject.supports3d?\\\"translate3d(\\\"+-t+\\\"px, \\\"+-i+\\\"px, 0)\\\":\\\"translate(\\\"+-t+\\\"px, \\\"+-i+\\\"px)\\\"),this.scrollbars&&(this.currentPosition.sbTop=this.currentPosition.top\/(this.list.size.height-this.container.size.height)*(this.container.size.height-parseInt(this.scrollbars.verticalStyle.height,10)),this.currentPosition.sbLeft=this.currentPosition.left\/(this.list.size.width-this.container.size.width)*(this.container.size.width-parseInt(this.scrollbars.horizontalStyle.width,10)),this.currentPosition.sbTopPercent=this.currentPosition.sbTop\/(this.container.size.height-parseInt(this.scrollbars.verticalStyle.height,10)),this.currentPosition.sbLeftPercent=this.currentPosition.sbLeft\/(this.container.size.width-parseInt(this.scrollbars.horizontalStyle.width,10)),this._renderScrollbars(this.currentPosition.sbLeft,this.currentPosition.sbTop)),this.silentScrolling||this.emit(\\\"scrolling\\\",this.currentPosition)},Scroller.prototype._handleTouchStart=function(t){this.zyngaScroller.doTouchStart(t.touches,t.timeStamp),this.emit(\\\"scrollingStart\\\")},Scroller.prototype._handleTouchMove=function(t){this.zyngaScroller.doTouchMove(t.touches,t.timeStamp)},Scroller.prototype._handleTouchEnd=function(t){this.zyngaScroller.doTouchEnd(t.timeStamp)},Scroller.prototype._createScrollbars=function(){var t=document.createElement(\\\"div\\\");addClass(t,\\\"celtra-vertical-scrollbar\\\"),addClass(t,this.options.scrollbarPosition||\\\"none\\\"),this.container.appendChild(t);var i=document.createElement(\\\"div\\\");t.appendChild(i),t.style.height=Math.round(this.container.size.height\/this.list.size.height*this.container.size.height)+\\\"px\\\",t.style.backgroundColor=this.options.scrollbarColor,t.style.display=this.list.size.height<=this.container.size.height?\\\"none\\\":\\\"block\\\";var o=document.createElement(\\\"div\\\");addClass(o,\\\"celtra-horizontal-scrollbar\\\"),addClass(o,this.options.scrollbarPosition||\\\"none\\\"),this.container.appendChild(o);var e=document.createElement(\\\"div\\\");o.appendChild(e),o.style.width=Math.round(this.container.size.width\/this.list.size.width*this.container.size.width)+\\\"px\\\",o.style.backgroundColor=this.options.scrollbarColor,o.style.display=this.list.size.width<=this.container.size.width?\\\"none\\\":\\\"block\\\",this.scrollbars={vertical:t,horizontal:o,verticalStyle:t.style,horizontalStyle:o.style}},Scroller.prototype.scrollTo=function(t,i,o,e,s,n){this._scroll(\\\"scrollTo\\\",{left:t,top:i,animate:o,duration:e,easing:s,callback:n})},Scroller.prototype.scrollBy=function(t,i,o,e,s,n){this._scroll(\\\"scrollBy\\\",{left:t,top:i,animate:o,duration:e,easing:s,callback:n})},Scroller.prototype._scroll=function(t,i){i.animate&&(\\\"number\\\"==typeof i.duration?this._setAnimationDuration(i.duration):\\\"boolean\\\"==typeof i.duration&&(i.easing=i.duration),\\\"boolean\\\"==typeof i.easing&&this.setEasing(i.easing)),this.once(\\\"scrollingEnd\\\",function(){\\\"function\\\"==typeof i.callback&&i.callback()}),this.zyngaScroller[t](i.left,i.top,i.animate),this.emit(\\\"scrollingStart\\\")},Scroller.prototype.getMaxScroll=function(){return{left:this.zyngaScroller.__maxScrollLeft,top:this.zyngaScroller.__maxScrollTop}},Scroller.prototype.getCurrentScroll=function(){return this.currentPosition},Scroller.prototype._setAnimationDuration=function(t){this.zyngaScroller.options.animationDuration=t},Scroller.prototype.setEasing=function(t){this.options.easing=t,this.zyngaScroller.__publish=function(i,o,e,s){var n=this,r=function(t){return Math.pow(t-1,3)+1},l=function(t){return(t\/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},a=n.__isAnimating;if(a&&(core.effect.Animate.stop(a),n.__isAnimating=!1),s&&n.options.animating){n.__scheduledLeft=i,n.__scheduledTop=o,n.__scheduledZoom=e;var c=n.__scrollLeft,h=n.__scrollTop,p=n.__zoomLevel,d=i-c,u=o-h,_=e-p,g=function(t,i,o){o&&(n.__scrollLeft=c+d*t,n.__scrollTop=h+u*t,n.__zoomLevel=p+_*t,n.__callback&&n.__callback(n.__scrollLeft,n.__scrollTop,n.__zoomLevel))},S=function(t){return n.__isAnimating===t},z=function(t,i,o){i===n.__isAnimating&&(n.__isAnimating=!1),(n.__didDecelerationComplete||o)&&n.options.scrollingComplete(),n.options.zooming&&(n.__computeScrollMax(),n.__zoomComplete&&(n.__zoomComplete(),n.__zoomComplete=null))};n.__isAnimating=t?core.effect.Animate.start(g,S,z,n.options.animationDuration,a?r:l):core.effect.Animate.start(g,S,z,n.options.animationDuration)}else n.__scheduledLeft=n.__scrollLeft=i,n.__scheduledTop=n.__scrollTop=o,n.__scheduledZoom=n.__zoomLevel=e,n.__callback&&n.__callback(i,o,e),n.options.zooming&&(n.__computeScrollMax(),n.__zoomComplete&&(n.__zoomComplete(),n.__zoomComplete=null))}},Scroller.prototype.redraw=function(){this.container.size={width:this.container.offsetWidth,height:this.container.offsetHeight},this.list.size={width:this.list.offsetWidth,height:this.list.offsetHeight},this.zyngaScroller.setDimensions(this.container.size.width,this.container.size.height,this.list.size.width,this.list.size.height),this.options.snapping&&this._setSnapSize(this.container.size.width,this.container.size.height);var t=this.getMaxScroll();this.zyngaScroller.scrollTo(t.left*this.currentPosition.leftPercent,t.top*this.currentPosition.topPercent,!1),this.scrollbars?(this.scrollbars.verticalStyle.height=Math.round(this.container.size.height\/this.list.size.height*this.container.size.height)+\\\"px\\\",this.scrollbars.horizontalStyle.width=Math.round(this.container.size.width\/this.list.size.width*this.container.size.width)+\\\"px\\\",this.currentPosition.sbTop=(this.container.size.height-parseInt(this.scrollbars.verticalStyle.height,10))*this.currentPosition.sbTopPercent,this.currentPosition.sbLeft=(this.container.size.width-parseInt(this.scrollbars.horizontalStyle.width,10))*this.currentPosition.sbLeftPercent,this._renderScrollbars(this.currentPosition.sbLeft,this.currentPosition.sbTop)):(\\\"outer\\\"===this.options.scrollbarPosition||\\\"inner\\\"===this.options.scrollbarPosition)&&this._createScrollbars()},Scroller.prototype._renderScrollbars=function(t,i){ScreenObject.allowPositioningAndSizingUsingTransforms?(celtra.styler.css(this.scrollbars.vertical,\\\"transform\\\",ScreenObject.supports3d?\\\"translate3d(0, \\\"+i+\\\"px, 0)\\\":\\\"translate(0, \\\"+i+\\\"px)\\\"),celtra.styler.css(this.scrollbars.horizontal,\\\"transform\\\",ScreenObject.supports3d?\\\"translate3d(\\\"+t+\\\"px, 0, 0)\\\":\\\"translate(\\\"+t+\\\"px, 0)\\\")):(this.scrollbars.verticalStyle.top=i+\\\"px\\\",this.scrollbars.horizontalStyle.left=t+\\\"px\\\"),this.container.size.height>=this.list.size.height?(this.scrollbars.verticalStyle.display=\\\"none\\\",removeClass(this.container,\\\"vertical-scrollbar\\\")):(this.scrollbars.verticalStyle.display=\\\"block\\\",addClass(this.container,\\\"vertical-scrollbar\\\")),this.container.size.width>=this.list.size.width?(this.scrollbars.horizontalStyle.display=\\\"none\\\",removeClass(this.container,\\\"horizontal-scrollbar\\\")):(this.scrollbars.horizontalStyle.display=\\\"block\\\",addClass(this.container,\\\"horizontal-scrollbar\\\"))},Scroller.prototype._setSnapSize=function(t,i){this.zyngaScroller.setSnapSize(t,i)};;\\nfunction convertMetersToUnits(e,t){switch(t){case\\\"m\\\":return e;case\\\"mi\\\":return 621371e-9*e;case\\\"km\\\":return e\/1e3;case\\\"ft\\\":return 3.28084*e;default:throw\\\"Unknown unit \\\"+t}}function metersToDistanceWithUnits(e,t,n,r){var i,a;switch(t){case\\\"metric\\\":i=convertMetersToUnits(e,\\\"km\\\"),a=r?\\\"km\\\":\\\"kilometers\\\";break;case\\\"imperial\\\":i=convertMetersToUnits(e,\\\"mi\\\"),a=r?\\\"mi\\\":\\\"miles\\\"}var o=\\\"base\\\"===n&&\\\"metric\\\"===t,s=\\\"base\\\"===n&&\\\"imperial\\\"===t,c=\\\"auto\\\"===n&&1>i&&\\\"metric\\\"===t,u=\\\"auto\\\"===n&&.1>i&&\\\"imperial\\\"===t;return c||o?(i=e,a=r?\\\"m\\\":\\\"meters\\\"):(u||s)&&(i=convertMetersToUnits(e,\\\"ft\\\"),a=r?\\\"ft\\\":\\\"feet\\\"),{distance:i,unit:a}}function createClustersForIdenticalCoordinates(e){if(e.length<2)return e;var t=function(e,t){return e.lat===t.lat&&e.lng===t.lng},n=function(e,t){return{lat:e.lat,lng:e.lng,locations:[e,t],size:2}},r=e.reduce(function(e,r){if(!e.length)return e.push(r),e;var i=e[e.length-1];if(t(i,r))if(i.size)i.locations.push(r),i.size++;else{var a=n(e.pop(),r);e.push(a)}else e.push(r);return e},[]);return r}function sanitizeLocationsData(e){return e.map(function(e){return Object.keys(e).forEach(function(t){\\\"string\\\"==typeof e[t]&&(e[t]=htmlentitize(e[t]))}),e})}!function(e){var t=!1,n=!1,r=[];e._googleMapsCb=function(){n=!0,t=!1,r.forEach(function(e){e()}),r=[]},e.loadGoogleMaps=function(e){var i=\\\"\\\";return n?void defer(e):(r.push(e),void(t||(t=!0,creative.runtimeParams.googleMapsClientKey&&(i=\\\"&key=\\\"+creative.runtimeParams.googleMapsClientKey),loadJS(\\\"https:\/\/maps.googleapis.com\/maps\/api\/js?v=\\\"+creative.googleMapsJavaScriptVersion+\\\"&libraries=places&channel=Runner&callback=_googleMapsCb\\\"+i))))}}(window);;\\nfunction UserLocation(t,i){this._watchId=null,this._TOTAL_GEO_CALL_TIMEOUT=15e3,this._GEO_GPS_SEARCH_TIMEOUT=1e4,this.geolocationOptions={enableHighAccuracy:!0,timeout:this._GEO_GPS_SEARCH_TIMEOUT},this._baseLocation=t,this._allowGpsUnitWithoutInteraction=i,this._watchListeners={},this._watchCtr=1,this._lastPosition={lat:\\\"\\\",lng:\\\"\\\"},this._watchErrorCalled=!1}UserLocation.prototype.getLocation=function(t,i,s){var o,a=function(i){this.unwatchLocation(o),t(i)}.bind(this),n=function(){this.unwatchLocation(o),i()}.bind(this);o=this.watchLocation(a,n,s)},UserLocation.prototype.watchLocation=function(t,i,s){var o=creative.runtimeParams.ipLat,a=creative.runtimeParams.ipLng,n=\\\"undefined\\\"!=typeof o&&null!==o&&\\\"undefined\\\"!=typeof a&&null!==a;if(s||(s=this.geolocationOptions),this._baseLocation.lat&&this._baseLocation.lng)t(this._baseLocation);else{if(navigator.geolocation&&(this._allowGpsUnitWithoutInteraction||creative.getUserInteracted())&&!s.isGeolocationPromptDisabled){if(s.timeout=this._GEO_GPS_SEARCH_TIMEOUT,this._watchListeners[this._watchCtr]={success:t,error:i},this._watchId)this._lastPosition.lat&&this._lastPosition.lng?t(this._lastPosition):this._watchErrorCalled&&i();else{var e=!1,h=function(t){if(!e){this._lastPosition={lat:t.coords.latitude,lng:t.coords.longitude};for(var i in this._watchListeners)this._watchListeners[i].success(this._lastPosition);e=!0}}.bind(this),c=function(){if(!e){this._watchErrorCalled=!0;for(var t in this._watchListeners)n?this._watchListeners[t].success({lat:o,lng:a}):this._watchListeners[t].error();e=!0}}.bind(this);setTimeout(c,this._TOTAL_GEO_CALL_TIMEOUT),this._watchId=navigator.geolocation.watchPosition(h,c,s)}return this._watchCtr++}n?t({lat:o,lng:a}):i()}},UserLocation.prototype.unwatchLocation=function(t){t&&this._watchListeners[t]&&delete this._watchListeners[t];for(var i in this._watchListeners)if(this._watchListeners[i])return;this._watchId&&(navigator.geolocation.clearWatch(this._watchId),this._watchId=null,this._watchErrorCalled=!1)};;\\nfunction Creative(e,t,r,n,i,a,o,s,u,c,d,m,p){if(e instanceof Creative)throw\\\"This JSON has already been unfreezed. We do it inline, to improve performance. Duplicate it yourself before unfreezing, if you need to use it again.\\\";var v=p.start(\\\"Creative.new\\\"),f=extend({adapter:a,runtimeParams:t||{},urlOpenedOverrideUrls:s,urlOpenedUrlAppendage:d,clickThroughDestinationUrl:m,storeOpenedOverrideUrls:u,macros:c},o),l=p.start(\\\"Creative.unfreeze\\\");return e=Freezer.unfreeze(e,window,f),l.end(),e.instantiation=randInt(),e.batcher=new Batcher({protoLoading:a.protoLoading}),e.trackingCenter=r,e.universalInteractionId=\\\"\\\",e.aggregatorTracking=n,e.experiments=i,e.perf=p,e.platformAdvId=t.platformAdvId,e.platformAdvIdTrackingLimited=t.platformAdvIdTrackingLimited,\\\"undefined\\\"!=typeof a&&null!==a&&(a.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e}),v.end(),e}Creative.toString=function(){return\\\"[Clazz Creative]\\\"},Creative.prototype.toString=function(){return\\\"[Creative \\\"+this.name+\\\"]\\\"},window.creative=null,extend(Creative.prototype,EventEmitter),Creative.init=function(e,t,r,n,i,a,o,s,u,c,d,m,p){if(window.creative)throw\\\"creative is a singleton and was already initialized.\\\";Logger.initFromRuntimeParams(t),window.creative=new Creative(e,t,r,n,i,a,o,s,u,c,d,m,p)},Creative.prototype.userInteracted=function(e){this.emit(\\\"interaction\\\",e)},Creative.prototype.clickedThrough=function(e){this.emit(\\\"clickThrough\\\",e)},Creative.prototype._getRuntimeParamsWithPrefix=function(e){var t={};for(var r in this.runtimeParams)0===r.indexOf(e)&&(t[r.slice(e.length)]=this.runtimeParams[r]);return t},Object.defineProperties(Creative.prototype,{sessionId:{enumerable:!0,get:function(){return this.runtimeParams.sessionId}},placementId:{enumerable:!0,get:function(){return this.runtimeParams.placementId||null}},folderId:{enumerable:!0,get:function(){return this.runtimeParams.folderId}},supplierId:{enumerable:!0,get:function(){return this.runtimeParams.supplierId||null}},secure:{enumerable:!0,get:function(){return 1==this.runtimeParams.secure}},userParams:{enumerable:!0,get:function(){return this._getRuntimeParamsWithPrefix(\\\"user.\\\")}},userIdentifiers:{enumerable:!0,get:function(){return this.runtimeParams.userIdentifiers}},authTokenUrlParam:{enumerable:!1,get:function(){return\\\"authBasis=\\\"+creative.runtimeParams.authBasis+\\\"&authToken=\\\"+creative.runtimeParams.authToken}},customAudiences:{enumerable:!0,get:function(){return function(e){if(!creative.runtimeParams.customAudiences[e])throw new Error('Custom audience \\\"'+e+'\\\" is not used by the creative.');return{userExists:creative.runtimeParams.customAudiences[e].userExists,userData:creative.runtimeParams.customAudiences[e].userData,addUser:function(t){return CustomAudiences.addUser(e,t)},removeUser:function(){return CustomAudiences.removeUser(e)}}}}},acceptLanguage:{enumerable:!0,get:function(){return this.runtimeParams.acceptLanguage}}}),Creative.prototype.awake=function(){function e(r,n,i,a){r.forEach(function(r){r.parentUnit=a,r.parentScreen=i,r.parentContainer=n;var o=r.getNestedContainers();o.forEach(function(n){n.parentUnit=a,n.parentScreen=i,n.parentObject=r,e(n.objects,n,i,a),n.scenes&&t(n.scenes,n,i,a)})})}function t(e,t,r,n){e.forEach(function(e){e.parentUnit=n,e.parentScreen=r,e.parentContainer=t})}var r=this;for(var n in r.units){var i=r.units[n];i.name=n;var a=[];i.variants?i.variants.forEach(function(e){a=a.concat(e.master,e.screens),e.loadingScreen&&(a=[e.loadingScreen].concat(a))}):(a=[i.master].concat(i.screens),i.loadingScreen&&(a=[i.loadingScreen].concat(a))),a.forEach(function(r){r.parentUnit=i,e(r.objects,r,r,i),r.scenes&&t(r.scenes,r,r,i)})}},Creative.prototype.track=function(e,t){[\\\"firstInteraction\\\",\\\"interaction\\\",\\\"endCardInteraction\\\",\\\"unitCollapsed\\\",\\\"creativeDismissed\\\",\\\"clickThroughDestinationOpened\\\",\\\"firstClickThrough\\\",\\\"itemSwiped\\\"].indexOf(e.name)>=0&&(e=extend(e,{universalInteractionId:this.universalInteractionId})),this.trackingCenter.track(e,t)},Creative.prototype.setUniversalInteractionId=function(e){this.universalInteractionId=e},Creative.prototype.wrapRedirectPageUrl=function(e,t){return this.trackingCenter.wrapRedirectPageUrl(e,t)},Object.defineProperty(Creative.prototype,\\\"sdk\\\",{get:function(){return this.adapter},enumerable:!0}),Creative._throw=function(e){throw e},Creative.prototype.getUserInteracted=function(){return 1==this.runtimeParams.userInteracted},Creative.prototype.trackCreativeRendered=function(){creative.adapter.notifycreativeRendered(),this._getCreativeRendered()||(this.track({name:\\\"creativeRendered\\\"}),this.runtimeParams.creativeRendered=1,defer(this.trackingCenter.batchFlush))},Creative.prototype._getCreativeRendered=function(){return 1===this.runtimeParams.creativeRendered},Creative.prototype.trackCreativeRenderedOnScreenShow=Creative.prototype.trackCreativeRendered,Creative.prototype.trackCreativeRenderedOnVideoStart=noop,Creative.trackCustomEventAction=function(e,t,r){var n=\\\"custom\\\";e.track({name:n,label:t.name}),creative.adapter.sendToEventMonitor(n,t.triggerId,e.screen.name,null,t.name,e.initiatedBeforeScreenShown()),r&&r()},Creative.prototype.trackCreativeLoaded=function(e){this.track({name:\\\"creativeLoaded\\\",viewability00Measurable:e.observingViewability(\\\"00\\\"),viewability501Measurable:e.observingViewability(\\\"501\\\"),viewableTimeMeasurable:e.observingViewableTime(),cdnVariant:this.runtimeParams.variantChoices.CdnTiming||\\\"none\\\"}),defer(this.trackingCenter.batchFlush),this.perf._stopTrackingDefers=!0,this.perf.mark(\\\"creativeLoaded\\\")},Creative.prototype.createUserLocation=function(e){return\\\"undefined\\\"!=typeof UserLocation?new UserLocation({lat:this.runtimeParams.gpsLat,lng:this.runtimeParams.gpsLng},e):void 0},Creative.prototype.getPageUrl=function(e){return(this.secure?this.creativeUrl:this.insecureCreativeUrl)+e+\\\"?base64json=\\\"+encodeURIComponent(btoa(to_utf8(JSON.stringify(this.runtimeParams))))},Creative.prototype.shouldClickThroughToNewWindow=function(e){var t;t=[\\\"same\\\",\\\"new\\\"].indexOf(this.runtimeParams.preferredClickThroughWindow)>=0?this.runtimeParams.preferredClickThroughWindow:\\\"new\\\",creative&&creative.adapter.nesting.hostileIframe&&(t=\\\"new\\\");var r=e&&e.inUserInitiatedIteration,n=deviceInfo.os.android()&&deviceInfo.browser.facebookApp();return\\\"new\\\"==t&&r&&!n},Creative.prototype.getFeedFields=function(){return FeedData.getCustomFields()},Creative.prototype.getFeedFieldByName=function(e){return FeedData.getCustomFieldByName(e)},Creative.prototype.getAllFeedFieldsByName=function(e){return FeedData.getCustomFields().filter(function(t){return t.name===e})};;\\nfunction Banner(){}inherit(Banner,Creative),Banner.toString=function(){return\\\"[Clazz Banner]\\\"},Banner.prototype.toString=function(){return\\\"[Banner \\\"+this.name+\\\"]\\\"},Banner.prototype.awake=function(){Banner.uber.awake.apply(this,arguments),this.adapter.wrapRedirectPageUrl=this.wrapRedirectPageUrl.bind(this),this.units.banner.dismissAction=function(n,e,t){n.track({name:\\\"creativeDismissed\\\"}),creative.adapter.dismiss(t,e)}.bind(this),this.units.banner.trackCreativeDismissed=function(){new ActionContext(this.visibleScreen).track({name:\\\"creativeDismissed\\\"})},this.units.banner.userLocation=this.createUserLocation(!1)};;\\nvar Kernel={};Kernel.toString=function(){return\\\"[Clazz Kernel]\\\"},Kernel.runInParallelAction=function(e,n,t){n.actions.waitForEach(function(n,t){n(e,t)},t)},Kernel.runInParallelActionDryRun=Kernel.runInParallelAction,Kernel.runInBackgroundAction=function(e,n,t){n.action&&n.action(e,noop),t()},Kernel.runInSequenceAction=function(e,n,t){for(var r=t,i=n.actions.length-1;i>=0;i--)r=function(n,t){return function(){t(e,n)}}(r,n.actions[i]);r()},Kernel.runInSequenceActionDryRun=Kernel.runInSequenceAction,Kernel.runNTimesAction=function(e,n,t){n.caller.hasOwnProperty(\\\"executionsLeft\\\")||(n.caller.executionsLeft=n.repeat),n.caller.executionsLeft>0?(n.caller.executionsLeft--,(n.action||nullai)(e,t)):t&&t()},Kernel.runNTimesActionDryRun=function(e,n,t){(n.action||nullai)(e,t)},Kernel.loopAction=function(e,n,t){function r(){return 0==i?t():(-1!=i&&i--,void(n.action||nullai)(e,\\\"thumb\\\"===creative.runtimeParams.purpose?t:r))}var i=n.repeat;r()},Kernel.loopActionDryRun=function(e,n,t){(n.action||nullai)(e,t)},Kernel.sleepAction=function(e,n,t){setTimeout(t,n.duration)},Kernel.executeJavascriptAction=function(e,n,t){try{var r=e.initiator,i=e.screen.parentUnit,c=e.screen,a=new Function(\\\"ctx\\\",\\\"c\\\",\\\"unit\\\",\\\"screen\\\",\\\"variant\\\",n.script.code),o=!1,u=i.getVariantForScreen?i.getVariantForScreen(c):void 0;null!==n.script.code.match(\/http:\/)&&this._track(\\\"executeJavascriptAction.code\\\");var l=function(){o?console.warn('Multiple calls made to \\\"c()\\\" from \\\"'+e.initiator.fieldName+'\\\" Execute JS Action'):(t(),o=!0)}.bind(this);a.call(r,e,l,i,c,u)}catch(s){console.error(s.message+\\\"\\\\n\\\"+s.stack)}},Kernel.randomAction=function(e,n,t){var r=0;if(n.outcomes.forEach(function(e){r+=e.weight}),!r)return t();for(var i=Math.random()*r,c=0;c<n.outcomes.length;c++){var a=n.outcomes[c];if(i-=a.weight,0>i)return(a.action||nullai)(e,t)}},Kernel.randomActionDryRun=function(e,n,t){n.outcomes.forEach(function(n){(n.action||nullai)(e,noop)}),t()},Kernel.bestAction=function(e,n,t){var r=creative.experiments.get(\\\"Best\\\",[creative.id,n.experimentName]);r.trackExposure();var i=n.outcomes.filter(function(e){return e.experimentVariant==r.chosenVariant})[0],c=i?i:n.outcomes[0];(c.action||nullai)(e,t)},Kernel.bestActionDryRun=function(e,n,t){var r=creative.experiments.get(\\\"Best\\\",[creative.id,n.experimentName]),i=n.outcomes.filter(function(e){return e.experimentVariant==r.chosenVariant})[0],c=i?i:n.outcomes[0];(c.action||nullai)(e,t)},Kernel.trackBestVariantSuccessAction=function(e,n,t){var r=creative.experiments.get(\\\"Best\\\",[creative.id,n.experimentName]);r.trackSuccess(),creative.adapter.sendToEventMonitor(\\\"trackBestVariantSuccess\\\",n.triggerId,e.screen.name,r.chosenVariant,\\\"\\\",e.initiatedBeforeScreenShown()),t()},Kernel._track=function(e){this._privateApiTracked=this._privateApiTracked||{},this._privateApiTracked[e]||(this._privateApiTracked[e]=!0,creative.track({name:\\\"retiredFeatureUsed\\\",featureType:\\\"loadingInsecureContent\\\",featureName:e}))};;\\n;\\nfunction View(){}extend(View.prototype,EventEmitter),View.prototype.awake=function(){this.node=null,this._loadingCount=null,this._waitingForLoadCallbacks=[],this._isAppearing=!1,this._hasAppearedAtLeastOnce=!1,this._shouldAppear=!1,this.incrementLoadingCount=this.incrementLoadingCount.bind(this),this.decrementLoadingCount=this.decrementLoadingCount.bind(this),this._preloadImage=this._preloadImage.bind(this),this._loadImage=this._loadImage.bind(this),this._trackViewShown=this._trackViewShown.bind(this),this.isTrackable&&this.once(\\\"appeared\\\",this._trackViewShown),this.hacks={}},View.prototype.incrementLoadingCount=function(){if(this.loaded)throw\\\"Starting loads after the view has already finished loading?\\\";this._loadingCount++},View.prototype.decrementLoadingCount=function(){if(!this.loading)throw\\\"decrementLoadingCount called while not loading!\\\";if(!--this._loadingCount){this.finishedLoading();for(var e=this._waitingForLoadCallbacks,t=0;t<e.length;t++)e[t]();this._waitingForLoadCallbacks=[]}},View.prototype._checkAndEnhanceParamsForFileLoading=function(e,t,i){if(!(e instanceof File))throw\\\"file is not a File\\\";return\\\"function\\\"==typeof t?(i=t,t={}):\\\"undefined\\\"==typeof t&&(t={}),{settings:t,callback:i||noop}},View.prototype._preloadImage=function(e,t,i){var n=this._checkAndEnhanceParamsForFileLoading(e,t,i);this.incrementLoadingCount();var a=creative.perf.start(\\\"View.preloadImage\\\",{uri:e.getUrl(n.settings.creativeUnitVariantId)});this._loadImage(e,n.settings,function(e,t){a.end(),n.callback(e,t),this.decrementLoadingCount()}.bind(this))},View.prototype._loadImage=function(e,t,i){var n=this._checkAndEnhanceParamsForFileLoading(e,t,i),a=\\\"batching\\\"===creative.runtimeParams.variantChoices.BatchComponentAssets,o=a||n.settings.preferBatching,r=new Image,s=!1;return e.getDataUri({preferBatching:o,creativeUnitVariantId:n.settings.creativeUnitVariantId},function(e){s||(n.settings.crossOrigin&&(r.crossOrigin=n.settings.crossOrigin),r.onload=r.onerror=function(){r.onload=r.onerror=null,n.callback(r,e)},r.src=e)}),function(){s=!0,r.onload=r.onerror=null,r.src=\\\"\\\"}},View.prototype.finishedLoading=function(){this.emit(\\\"loaded\\\")},Object.defineProperty(View.prototype,\\\"loaded\\\",{get:function(){return this.node&&!this.loading}}),Object.defineProperty(View.prototype,\\\"loading\\\",{get:function(){return this._loadingCount>0}}),View.prototype.createNode=function(){this.on(\\\"loaded\\\",creative.perf.start(\\\"View.load\\\",{clazz:this.constructor.name,name:this.name}).end);var e=document.createElement(\\\"div\\\");\\\"undefined\\\"!=typeof creative&&creative.adapter&&creative.adapter.useNativeClickForTapDetection&&(e.style.touchAction=\\\"manipulation\\\"),this.localId&&(e.id=\\\"celtra-object-\\\"+this.localId);for(var t=this.constructor;t;t=t.uber?t.uber.constructor:void 0)addClass(e,\\\"celtra\\\"+t.name.replace(\/[A-Z]\/g,function(e){return\\\"-\\\"+e.toLowerCase()}));return e},View.prototype.getNode=function(e){return this.loaded?e&&defer(e,0,\\\"View.getNode defer finishedLoadingCallback\\\",useAsap()):(e&&this._waitingForLoadCallbacks.push(e),this.node||(this.incrementLoadingCount(),this.node=this.createNode(),defer(this.decrementLoadingCount,0,\\\"View.getNode defer decrementLoadingCount\\\",useAsap()))),this.node},Object.defineProperty(View.prototype,\\\"isAppearing\\\",{get:function(){return this._isAppearing}}),Object.defineProperty(View.prototype,\\\"hasAppearedAtLeastOnce\\\",{get:function(){return this._hasAppearedAtLeastOnce}}),View.prototype.appear=function(){var e=\\\"View APPEAR called on \\\"+this.constructor.name+\\\" \\\"+this.localId+\\\" (name=\\\"+this.name+\\\")\\\";this.parentContainer&&(e+=\\\" from \\\"+this.parentContainer.constructor.name+\\\" \\\"+this.parentContainer.localId+\\\" (name=\\\"+this.parentContainer.name+\\\")\\\"),Logger(\\\"events.appear\\\").log(e),this.hidden?this._shouldAppear=!0:this.isAppearing||(this._appear(),this._isAppearing=!0,this._hasAppearedAtLeastOnce=!0,this.emit(\\\"appeared\\\"))},View.prototype.disappear=function(){var e=\\\"View DISAPPEAR called on \\\"+this.constructor.name+\\\" \\\"+this.localId+\\\" (name=\\\"+this.name+\\\")\\\";this.parentContainer&&(e+=\\\" from \\\"+this.parentContainer.constructor.name+\\\" \\\"+this.parentContainer.localId+\\\" (name=\\\"+this.parentContainer.name+\\\")\\\"),Logger(\\\"events.appear\\\").log(e),this.isAppearing&&(this._disappear(),this._isAppearing=!1,this._shouldAppear=!1,this.emit(\\\"disappeared\\\"))},View.prototype.reset=function(){this.isAppearing&&(this._shouldAppear=this.hidden,this._isAppearing=!this.hidden)},View.prototype._appear=function(){},View.prototype._disappear=function(){},View.prototype.appearNestedObjects=function(){this.objects.forEach(function(e){e.appear()},this)},View.prototype.disappearNestedObjects=function(){this.objects.forEach(function(e){e.disappear()},this)},View.prototype._trackViewShown=function(e){var t={name:\\\"viewShown\\\",viewName:this.name,clazz:this.constructor.name};new ActionContext(this,!1).track(extend(t,e))};;\\nBaseCreativeUnit.prototype.alert=function(e,t){var a=e.boxWidth||BaseCreativeUnit._defaultModalBoxWidth;e.message=removeHtmlTags(e.message);var i=this._calculateModalDialogActualHeight(e);a<=this.size.width&&i<=this.size.height?this.showModalDialogInPlacement(\\\"alert\\\",e,t):(alert(e.message),t())},BaseCreativeUnit.prototype.prompt=function(e,t){var a=e.boxWidth||BaseCreativeUnit._defaultModalBoxWidth,i=this._calculateModalDialogActualHeight(e);if(a<=this.size.width&&i<=this.size.height)this.showModalDialogInPlacement(\\\"prompt\\\",e,t);else{var l=prompt(removeHtmlTags(e.message));t(l)}},BaseCreativeUnit.prototype._getUniqueId=function(){var e=new Date,t=e.getTime()+Math.random();return t},BaseCreativeUnit.prototype.showModalDialogInPlacement=function(e,t,a){var i=this._getUniqueId(),l={};l[i]={attachment:\\\"node\\\",parentNode:this.node,positioning:\\\"screen\\\",type:\\\"layer\\\"},creative.adapter.createPlacements(l,function(){function l(e){13==e.keyCode&&(creative.adapter.destroyPlacement(i),o=null,a(C.value))}function r(e){e.preventDefault(),e.stopPropagation()}function n(t){t.preventDefault(),t.stopPropagation(),creative.adapter.destroyPlacement(i),o=null,\\\"prompt\\\"==e?a(C.value):a()}function s(e){e.preventDefault(),e.stopPropagation(),creative.adapter.destroyPlacement(i),o=null,a(null)}if(window){var o=creative.adapter.placements[i];o.setZIndex(\\\"max\\\"),o.setSize(\\\"100%\\\",\\\"100%\\\"),o.setPosition(0,0);var d=o.createElement(\\\"link\\\");d.rel=\\\"stylesheet\\\",d.type=\\\"text\/css\\\",d.href=creative.resourceUrl+\\\"runner-min\/clazzes\/ModalDialogs-Overlay.css\\\",o.getContainer().appendChild(d);var c=o.createElement(\\\"div\\\");addClass(c,\\\"celtra-alert\\\"),c.style.display=\\\"none\\\";var p=o.createElement(\\\"div\\\");addClass(p,\\\"celtra-alert-dark-overlay\\\"),c.appendChild(p),this.preventScroll(c);var h=o.createElement(\\\"div\\\");if(addClass(h,\\\"celtra-alert-box\\\"),t.title&&\\\"\\\"!=t.title){var u=o.createElement(\\\"h1\\\");addClass(u,\\\"celtra-alert-title\\\"),u.innerHTML=t.title,h.appendChild(u)}if(t.title&&\\\"\\\"!=t.title&&t.message&&\\\"\\\"!=t.message){var v=o.createElement(\\\"hr\\\");addClass(v,\\\"celtra-alert-dark-line\\\"),h.appendChild(v);var m=o.createElement(\\\"hr\\\");addClass(m,\\\"celtra-alert-light-line\\\"),h.appendChild(m)}if(t.message&&\\\"\\\"!=t.message){var g=o.createElement(\\\"div\\\");addClass(g,\\\"celtra-alert-message\\\"),g.innerHTML=t.message,g.setAttribute(\\\"dir\\\",\\\"auto\\\"),\\\"auto\\\"!==g.dir&&(g.dir=guessWritingDirection(t.message)||\\\"ltr\\\"),h.appendChild(g)}if(\\\"prompt\\\"==e){var C=o.createElement(\\\"input\\\");addClass(C,\\\"celtra-alert-input\\\"),C.value=t.defaultValue||\\\"\\\",h.appendChild(C),attach(C,\\\"keypress\\\",l)}var f=o.createElement(\\\"div\\\");if(addClass(f,\\\"celtra-alert-ok\\\"),f.innerHTML=\\\"OK\\\",h.appendChild(f),this.preventScroll(h),once(f,\\\"touchend\\\",n,!1),\\\"prompt\\\"==e&&t.showCancel){addClass(f,\\\"with-cancel\\\");var y=o.createElement(\\\"div\\\");addClass(y,\\\"celtra-alert-cancel\\\"),y.innerHTML=\\\"CANCEL\\\",h.appendChild(y),attach(f,\\\"touchstart\\\",r,!1),once(y,\\\"touchend\\\",s,!1)}c.appendChild(h),o.populate(c,function(){o.show();var e=setInterval(function(){\\\"absolute\\\"===celtra.styler.computedCSS(h,\\\"position\\\")&&(computedBoxHeight=parseInt(celtra.styler.computedCSS(h,\\\"height\\\"),10)+parseInt(celtra.styler.computedCSS(h,\\\"paddingTop\\\"),10)+parseInt(celtra.styler.computedCSS(h,\\\"paddingBottom\\\"),10),h.style.marginTop=-computedBoxHeight\/2+\\\"px\\\",h.style.opacity=1,clearInterval(e),e=null)},100)})}}.bind(this))},BaseCreativeUnit.prototype._calculateModalDialogActualHeight=function(e){var t=document.createElement(\\\"div\\\");t.style.cssText=\\\"visibility:hidden; font-family:Helvetica,Arial,sans-serif; font-size:14px; padding-bottom:10px; text-shadow:0 1px 0 rgba(0,0,0,1); width:220px;\\\",t.innerText=e.message,this.node.appendChild(t);var a=parseInt(window.getComputedStyle(t).getPropertyValue(\\\"height\\\"),10),i=a+BaseCreativeUnit._defaultModalBoxHeightWithoutMessage;return this.node.removeChild(t),i},BaseCreativeUnit.prototype.preventScroll=function(e){var t=[\\\"mousewheel\\\",\\\"touchmove\\\"];t.forEach(function(t){attach(e,t,function(e){e.preventDefault()},!1)})},BaseCreativeUnit._defaultModalBoxWidth=242,BaseCreativeUnit._defaultModalBoxHeightWithoutMessage=75;;\\nfunction CreativeUnit(){}inherit(CreativeUnit,BaseCreativeUnit),extend(CreativeUnit.prototype,ScreenTransitioner),extend(CreativeUnit.prototype,FeedImageOptimizationTrait),CreativeUnit.IGNORABLES=BaseCreativeUnit.IGNORABLES,CreativeUnit.DEBUG_EXTRA_PHASE_DELAY=0,CreativeUnit.toString=function(){return\\\"[Clazz CreativeUnit]\\\"},CreativeUnit.prototype.toString=function(){return\\\"[CreativeUnit \\\"+this.name+\\\" (\\\"+this.localId+\\\")]\\\"},Object.defineProperty(CreativeUnit.prototype,\\\"size\\\",{get:function(){var t=this.getAvailableSize();return this.layoutCurrent||this._updateActiveLayout(this._getOrientation(),t.width,t.height),\\\"responsive\\\"===this.sizing?{width:t.width,height:t.height}:{width:this.layoutCurrent.unitSize.width,height:this.layoutCurrent.unitSize.height}},set:function(){}}),Object.defineProperty(CreativeUnit.prototype,\\\"unitAlignment\\\",{get:function(){return\\\"undefined\\\"==typeof this.layoutCurrent.unitAlignment?{}:this.layoutCurrent.unitAlignment}}),Object.defineProperty(CreativeUnit.prototype,\\\"layoutCurrent\\\",{get:function(){return this.layouts[this.layoutCurrentIndex]}}),Object.defineProperty(CreativeUnit.prototype,\\\"hasOverflow\\\",{get:function(){return this.screens.concat([this.master]).filter(function(t){return t.showOverflow}).length>0}}),Object.defineProperty(CreativeUnit.prototype,\\\"hasScreens\\\",{get:function(){return this.screens.length>0}}),Object.defineProperty(CreativeUnit.prototype,\\\"currentScreen\\\",{set:function(t){this._currentScreen!==t&&(this._currentScreen=t,this.emit(\\\"shareableStateChanged\\\"))},get:function(){return this._currentScreen}}),CreativeUnit.prototype._getDestinationScreen=function(){var t=this.hasScreens?this.screens[0]:this.master;if(\\\"modal\\\"==this.name&&\\\"undefined\\\"!=typeof creative.runtimeParams.goToPageAfterExpand){var e=creative.runtimeParams.goToPageAfterExpand;if(\\\"string\\\"!=typeof e)throw new TypeError(\\\"Only string type is allowed to reference destination screen!\\\");var i=this.screens.filter(function(t){return t.title===e});i.length>0&&(t=i[0])}return t},CreativeUnit.prototype.awake=function(){var t=this;CreativeUnit.uber.awake.call(this),this._currentScreen=null,this.visibleScreen=null,this.overflowsY=!1,this.layoutCurrentIndex=null,this._preloadReachableScreens=this._preloadReachableScreens.bind(this),this.screens.forEach(function(t){t.objects.forEach(function(t){t.zIndex+=ScreenObject._zIndexOffset})}),\\\"undefined\\\"==typeof this.backgroundColor&&(this.backgroundColor=\\\"#000000\\\"),\\\"undefined\\\"==typeof this.usePlaceboBar&&(this.usePlaceboBar=!1),\\\"undefined\\\"==typeof this.showCloseButton&&(this.showCloseButton=!1),\\\"undefined\\\"==typeof this.alignBackButtonHorizontal&&(this.alignBackButtonHorizontal=\\\"left\\\"),this.on(\\\"_firstScreenLoaded\\\",function(){t.placeboBar&&(t.placeboBar.parentNode.removeChild(t.placeboBar),t.placeboBar=null),this.initiateScreenTransition(this._getDestinationScreen())}.bind(this)),this.onAll(\\\"_firstScreenLoaded _unitFirstShown\\\",function(){this.goToScreen(this._getDestinationScreen(),null)}.bind(this)),this.triggerOrientationChange=this.triggerOrientationChange.bind(this),this.updateWindowMetrics=this.updateWindowMetrics.bind(this),this.hacks.triggerBlurWhenTappingOutsideOfInputs=ios()},CreativeUnit.prototype.setAvailableSize=function(t,e){var i=CreativeUnit.uber.setAvailableSize.apply(this,arguments),n=this._getOrientation(),o=this.layouts[this.layoutCurrentIndex];this._updateActiveLayout(n,t,e),this.updateWindowMetrics(n,t,e);var r=this._previousOrientation&&n!=this._previousOrientation,s=o&&o.orientation!=this.layoutCurrent.orientation;(r||s)&&this.triggerOrientationChange(),this._previousOrientation=n,(i||s)&&this.emit(\\\"resize\\\")},CreativeUnit.prototype._getOrientation=function(){return creative.adapter.orientation%180===0?\\\"portrait\\\":\\\"landscape\\\"},CreativeUnit.prototype._updateActiveLayout=function(t,e,i){{var n=this.layouts.slice(),o=this.layoutCurrentIndex;this.layouts[o]||null}n.forEach(function(n){n.sortIndex=0,\\\"independent\\\"==n.orientation?n.sortIndex+=1:n.orientation!=t&&(n.sortIndex+=4e3),n.minSize.width>e&&(n.sortIndex+=2e3),n.minSize.height>i&&(n.sortIndex+=2e3),n.sortIndex+=Math.abs(n.minSize.width-e)+Math.abs(n.minSize.height-i)}),n.sort(function(t,e){return t.sortIndex-e.sortIndex}),this.layoutCurrentIndex=this.layouts.indexOf(n[0]),o!=this.layoutCurrentIndex&&this.emit(\\\"layoutChanged\\\")},CreativeUnit.prototype.enterRenderTree=function(){if(!this._isRendering){this._isRendering=!0;var t=this.getAvailableSize();this.updateWindowMetrics(this._getOrientation(),t.width,t.height),this.master&&(this.master.loaded?defer(this.master.enterRenderTree.bind(this.master),void 0,void 0,useAsap()):this.once(\\\"_firstScreenLoaded\\\",this.master.enterRenderTree.bind(this.master))),this.visibleScreen&&defer(this.visibleScreen.enterRenderTree.bind(this.visibleScreen),void 0,void 0,useAsap()),this.hacks.triggerBlurWhenTappingOutsideOfInputs&&(attach(this.node,\\\"touchstart\\\",function(t){-1==[\\\"INPUT\\\",\\\"TEXTAREA\\\",\\\"SELECT\\\"].indexOf(t.target.nodeName)&&null!=this.lastInputElementFocused&&this.lastInputElementFocused.blur()}.bind(this),!0),attach(this.node,\\\"focus\\\",function(t){[\\\"INPUT\\\",\\\"TEXTAREA\\\",\\\"SELECT\\\"].indexOf(t.target.nodeName)>-1&&(this.lastInputElementFocused=t.target)}.bind(this),!0),attach(this.node,\\\"blur\\\",function(t){[\\\"INPUT\\\",\\\"TEXTAREA\\\",\\\"SELECT\\\"].indexOf(t.target.nodeName)>-1&&(this.lastInputElementFocused=null)}.bind(this),!0))}},CreativeUnit.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this.master&&this.master.exitRenderTree(),this.visibleScreen&&this.visibleScreen.exitRenderTree())},CreativeUnit.prototype._appear=function(){this.loaded||Creative._throw(\\\"Cannot show the unit before it has finished loading.\\\"),this.isAppearing&&Creative._throw(\\\"The unit is already appearing.\\\"),this.node.parentNode||Creative._throw(\\\"Creative unit must be added to DOM before show() is called. Animations will start on show().\\\"),Logger(\\\"unit\\\").log(\\\"Showing \\\"+this),this.inView&&(this.inView.start(),this.currentScreen&&this.currentScreen.inView&&this.currentScreen.inView.start()),this.hasAppearedAtLeastOnce||(this.placeboBar&&this.placeboBar.start(),this.orientationLockIsOn?this._emitUnitFirstShownAfterOrientationPrompt=!0:this.emit(\\\"_unitFirstShown\\\"))},CreativeUnit.prototype._disappear=function(){this.isAppearing||Creative._throw(\\\"The unit is not appearing, can not disappear.\\\"),Logger(\\\"unit\\\").log(\\\"Hiding \\\"+this),this.inView&&this.inView.stop()},CreativeUnit.prototype.createNode=function(){var t=this.unitDiv=CreativeUnit.uber.createNode.call(this);if(t.id=\\\"celtra-\\\"+this.name.replace(\/[A-Z]\/g,function(t){return\\\"-\\\"+t.toLowerCase()}),Color.isGradient(this.backgroundColor)?addCssRule(\\\"#\\\"+t.id,Color.createGradientStyle(this.backgroundColor)):t.style.backgroundColor=this.backgroundColor,t.style.overflow=this.master.showOverflow?\\\"visible\\\":\\\"hidden\\\",this.screenContainer=document.createElement(\\\"div\\\"),this.screenContainer.className=\\\"celtra-screen-container\\\",this.screenContainer.style.position=\\\"absolute\\\",t.appendChild(this.screenContainer),this.screenHolder=document.createElement(\\\"div\\\"),this.screenHolder.className=\\\"celtra-screen-holder\\\",this.screenHolder.style.width=\\\"100%\\\",this.screenHolder.style.height=\\\"100%\\\",this.screenContainer.appendChild(this.screenHolder),this.borderColor&&this.borderSize>0){var e=document.createElement(\\\"div\\\");e.className=\\\"celtra-creative-border\\\",e.style.borderColor=this.borderColor,e.style.borderWidth=this.borderSize+\\\"px\\\",t.appendChild(e)}if(t.style.position=\\\"absolute\\\",this.usePlaceboBar){var i=this.loadingScreen&&this.loadingScreen.loaderColor||\\\"white\\\";this.placeboBar=new PlaceboBar(5e3,.9,200,i),this.screenContainer.appendChild(this.placeboBar)}if(this.showCloseButton){if(this.closeAction||Creative._throw(\\\"Close button requested, but no close action defined?\\\"),this.closeButtonType&&\\\"text\\\"===this.closeButtonType){var n=document.createElement(\\\"div\\\");n.className=\\\"celtra-close-button touchable celtra-close-button-text\\\",n.textContent=this.closeButtonText,n.style.color=this.closeButtonTextColor,this.unitDiv.appendChild(n)}else{var n=document.createElement(\\\"img\\\"),o=document.createElement(\\\"img\\\");this.closeButtonUp?(this.closeButtonDown||(this.closeButtonDown=this.closeButtonUp),this.closeButtonWidth&&this.closeButtonHeight&&(n.style.width=o.style.width=this.closeButtonWidth+\\\"px\\\",n.style.height=o.style.height=this.closeButtonHeight+\\\"px\\\")):(this.closeButtonUp=new File(\\\"runner\/clazzes\/CreativeUnit\/close-up.svg\\\"),this.closeButtonDown=new File(\\\"runner\/clazzes\/CreativeUnit\/close-down.svg\\\")),n.className=\\\"celtra-close-button touchable celtra-close-button-up\\\",this._preloadImage(this.closeButtonUp,function(t,e){n.src=e}),o.className=\\\"celtra-close-button celtra-close-button-down\\\",this._preloadImage(this.closeButtonDown,function(t,e){o.src=e}),this.closeButtonImage=n,this.closeButtonImagePressed=o,this.unitDiv.appendChild(this.closeButtonImage),this.unitDiv.appendChild(this.closeButtonImagePressed)}attach(n,\\\"tap\\\",function(){var t=this.currentScreen||this.visibleScreen;this.closeAction(t?new ActionContext(t,!0):null,{},noop)}.bind(this),!1)}var r=[];r.push({name:\\\"loading\\\",fun:function(t){if(this.loadingScreen){var e=creative.perf.start(\\\"CreativeUnit.loadingScreen\\\");this.loadingScreen.getNode(function(){defer(function(){e.end(),this.initiateScreenTransition(this.loadingScreen),t(!0)}.bind(this),CreativeUnit.DEBUG_EXTRA_PHASE_DELAY,\\\"CreativeUnit.createNode defer loading phase completion\\\",useAsap())}.bind(this))}else t(!1)}.bind(this)}),r.push({name:\\\"interactive\\\",fun:function(t){var e=creative.perf.start(\\\"CreativeUnit.firstScreenLoaded\\\"),i=this.hasScreens?2:1,n=function(){--i||defer(function(){e.end(),defer(this.emits(\\\"_firstScreenLoaded\\\"),0,\\\"CreativeUnit.createNode emit _firstScreenLoaded\\\",useAsap()),t(!0)}.bind(this),CreativeUnit.DEBUG_EXTRA_PHASE_DELAY,\\\"CreativeUnit.createNode defer onScreenLoaded\\\",useAsap())}.bind(this);this.hasScreens&&this._getDestinationScreen().getNode(n),this.master.getNode(n)}.bind(this)}),this.incrementLoadingCount();var s=!1,a=function(){s||Creative._throw(\\\"Unit still not ready to show after last phase?!\\\")};return r.reverse().forEach(function(t){var e=a;a=function(){Logger(\\\"unit\\\").log(\\\"Phase '\\\"+t.name+\\\"' started.\\\"),t.fun(function(i){Logger(\\\"unit\\\").log(\\\"Phase '\\\"+t.name+\\\"' finished, \\\"+(i?\\\"DID\\\":\\\"DID NOT\\\")+\\\" draw something.\\\"),i&&(s||(s=!0,this.decrementLoadingCount())),e()}.bind(this))}.bind(this)}.bind(this)),a(),t},CreativeUnit.prototype._repositionCloseButton=function(t){function e(t,e,i){function n(t){return{left:t.offsetLeft,top:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}var o=n(i),r=n(e),s=n(t);s.left=r.left+r.width-s.width,s.top=r.top;var a=o.left<=s.left&&s.left+s.width-1<o.left+o.width&&o.top<=s.top&&s.top+s.height-1<o.top+o.height;return!a}if(this.closeButtonImage){var i;i=this.hasOverflow||this.orientationPrompt&&\\\"none\\\"!=this.orientationPrompt.style.display||e(this.closeButtonImage,this.screenContainer,this.unitDiv)?this.unitDiv:this.screenContainer;var n=this.closeButtonImage.parentNode;if(i!==n&&(n&&(n.removeChild(this.closeButtonImage),n.removeChild(this.closeButtonImagePressed)),i.appendChild(this.closeButtonImage),i.appendChild(this.closeButtonImagePressed)),window.navigator.userAgent.match(\/iP(hone|od)\/)&&ios(\\\"7\\\")&&creative.adapter.hasDeadZones){var o=\\\"landscape\\\"==t?20:0;this.closeButtonImage.style.top=this.closeButtonImagePressed.style.top=o+\\\"px\\\"}}},CreativeUnit.prototype.triggerOrientationChange=function(){this.currentScreen&&this.currentScreen.triggerOrientationChange(),android()&&this.hideKeyboard()},CreativeUnit.prototype.hideKeyboard=function(){if(this.unitDiv){var t=[].slice.call(this.unitDiv.querySelectorAll(\\\"input,select,textarea\\\"));t.forEach(function(t){t.blur()})}},CreativeUnit.prototype.enableWrongOrientationPrompt=function(){if(this.unitDiv&&!this.orientationPrompt&&\\\"thumb\\\"!==creative.runtimeParams.purpose){this.orientationPrompt=document.createElement(\\\"img\\\"),this.orientationPrompt.style.cssText=\\\"display: none; position: absolute; left: 50%; top: 50%; z-index: 999999\\\";var t=this;if(this.orientationPromptImage)this.loaded||this._preloadImage(this.orientationPromptImage,function(e,i){var n=t.orientationPromptImage.width,o=t.orientationPromptImage.height,r=Math.round(n\/2),s=Math.round(o\/2);t.orientationPrompt.style.cssText+=\\\"margin-left: -\\\"+r+\\\"px; margin-top: -\\\"+s+\\\"px; width: \\\"+n+\\\"px; height: \\\"+o+\\\"px;\\\",t.orientationPrompt.src=i});else{var e=\\\"tablet\\\",i=\\\"phone\\\"==e?400:640;this.orientationPrompt.style.cssText+=\\\"margin-left: -\\\"+i+\\\"px; margin-top: -\\\"+i+\\\"px;\\\",celtra.styler.css(this.orientationPrompt,\\\"transformOrigin\\\",\\\"50% 50%\\\"),celtra.styler.css(this.orientationPrompt,\\\"transform\\\",\\\"scale(0.80)\\\"),this.loaded||this._preloadImage(new File(\\\"runner\/rotate-screen_\\\"+e+\\\"_01.png\\\"),function(e,i){t.orientationPrompt.src=i})}this.unitDiv.appendChild(this.orientationPrompt)}},CreativeUnit.prototype._updateSize=function(){var t=function(t,e,i){\\\"left\\\"==e?(t.style.left=\\\"0\\\",t.style.marginLeft=\\\"\\\",t.style.right=\\\"auto\\\"):\\\"right\\\"==e?(t.style.left=\\\"auto\\\",t.style.marginLeft=\\\"\\\",t.style.right=\\\"0\\\"):(t.style.left=\\\"50%\\\",t.style.marginLeft=\\\"-\\\"+this.size.width\/2+\\\"px\\\",t.style.right=\\\"auto\\\"),\\\"top\\\"==i?(t.style.top=\\\"0\\\",t.style.marginTop=\\\"\\\",t.style.bottom=\\\"auto\\\"):\\\"bottom\\\"==i?(t.style.top=\\\"auto\\\",t.style.marginTop=\\\"\\\",t.style.bottom=\\\"0\\\"):(t.style.top=\\\"50%\\\",t.style.marginTop=\\\"-\\\"+this.size.height\/2+\\\"px\\\",t.style.bottom=\\\"auto\\\")}.bind(this);\\\"responsive\\\"===this.sizing?(this.unitDiv.style.width=\\\"100%\\\",this.unitDiv.style.height=\\\"100%\\\",this.screenContainer.style.width=\\\"100%\\\",this.screenContainer.style.height=\\\"100%\\\"):this.fillsContainer?(this.unitDiv.style.width=\\\"100%\\\",this.unitDiv.style.height=this.overflowsY?this.size.height+\\\"px\\\":\\\"100%\\\",this.screenContainer.style.width=this.size.width+\\\"px\\\",this.screenContainer.style.height=this.size.height+\\\"px\\\",t(this.screenContainer,this.unitAlignment.horizontal,this.unitAlignment.vertical)):(this.unitDiv.style.width=this.size.width+\\\"px\\\",this.unitDiv.style.height=this.size.height+\\\"px\\\",t(this.unitDiv,this.unitAlignment.horizontal,this.unitAlignment.vertical),this.screenContainer.style.width=\\\"100%\\\",this.screenContainer.style.height=\\\"100%\\\")},CreativeUnit.prototype.updateWindowMetrics=function(t,e,i){this._isRendering&&(this._updateSize(),this._toggleWrongOrientationPrompt(t,e,i),setTimeout(function(t,e,i){this._repositionCloseButton(t,e,i)}.bind(this),0,t,e,i))},CreativeUnit.prototype.setCorrectOrientation=function(t){this._correctOrientation=t},CreativeUnit.prototype._toggleWrongOrientationPrompt=function(t){if(this.orientationPrompt){var e=this.orientation;if(this._correctOrientation&&(e=this._correctOrientation),e!==t){this.orientationPrompt.style.display=\\\"block\\\";{this.orientationPrompt.offsetWidth}this.orientationLockIsOn!==!0&&this.emit(\\\"orientationLockChanged\\\",!0),this.orientationLockIsOn=!0}else this.orientationPrompt.style.display=\\\"none\\\",this.orientationLockIsOn!==!1&&this.emit(\\\"orientationLockChanged\\\",!1),this.orientationLockIsOn=!1,this._emitUnitFirstShownAfterOrientationPrompt&&(this._emitUnitFirstShownAfterOrientationPrompt=!1,this.emit(\\\"_unitFirstShown\\\"))}},CreativeUnit.prototype.getMasterVideo=function(){var t=null;return this.master.objects.some(function(e){return\\\"MasterVideo\\\"===e.constructor.name?(t=e,!0):void 0}),t},CreativeUnit.prototype.playMasterVideoAction=function(t,e,i){this.getMasterVideo().playAction(t,e,i)},CreativeUnit.prototype.pauseMasterVideoAction=function(t,e,i){this.getMasterVideo().pauseAction(t,e,i)},CreativeUnit.prototype.muteMasterVideoAction=function(t,e,i){this.getMasterVideo().muteAction(t,e,i)},CreativeUnit.prototype.unMuteMasterVideoAction=function(t,e,i){this.getMasterVideo().unMuteAction(t,e,i)},CreativeUnit.prototype.goToScreenAction=function(t,e,i){return e.screen?(extend(e,e.animation),void(\\\"LeanLoading\\\"===this._getDestinationScreen().title?creative.adapter.waitForWindowLoad(function(){this.goToScreen(e.screen,e,i)}.bind(this)):this.goToScreen(e.screen,e,i))):(console.warn(\\\"Go to screen action is called without a destination page!\\\"),i&&i())},CreativeUnit.prototype.findAll=function(t){var e=[];return this.screens.forEach(function(i){(\\\"undefined\\\"==typeof t||i.title==t)&&e.push(i),i.findAll(t).forEach(function(t){e.push(t)})}),e},CreativeUnit.prototype.findByType=function(t){var e=[];return\\\"undefined\\\"==typeof t?result:(this.screens.forEach(function(i){i.findByType(t).forEach(function(t){e.push(t)})}),e)};;\\nfunction ScreenObjectContainer(){}inherit(ScreenObjectContainer,View),ScreenObjectContainer.toString=function(){return\\\"[Clazz ScreenObjectContainer]\\\"},ScreenObjectContainer.prototype.toString=function(){return\\\"[ScreenObjectContainer \\\"+this.localId+\\\"]\\\"},ScreenObjectContainer.prototype.appear=function(){ScreenObjectContainer.uber.appear.call(this),ScreenObjectContainer.uber.appearNestedObjects.call(this)},ScreenObjectContainer.prototype.disappear=function(){ScreenObjectContainer.uber.disappearNestedObjects.call(this),ScreenObjectContainer.uber.disappear.call(this)};;\\nfunction Screen(){}inherit(Screen,ScreenObjectContainer),extend(Screen.prototype,TriggerHost),extend(Screen.prototype,SceneHost),extend(Screen.prototype,DiscoverableTrait),Screen.toString=function(){return\\\"[Clazz Screen]\\\"},Screen.prototype.toString=function(){return\\\"[Screen \\\"+this.localId+\\\" (name=\\\"+this.title+\\\")]\\\"},Object.defineProperty(Screen.prototype,\\\"name\\\",{get:function(){return this.title}}),Object.defineProperty(Screen.prototype,\\\"size\\\",{get:function(){return this.parentContainer.size}}),Screen.prototype.awake=function(){ScreenObjectContainer.uber.awake.apply(this,arguments),this._isRendering=!1,this.appearedAtLeastOnce=!1,this._updateSize=this._updateSize.bind(this),this.handleShake=this.handleShake.bind(this),this.handleShakeFallback=this.handleShakeFallback.bind(this)},Screen.prototype.isFirstScreen=function(){return this===this.parentContainer.screens[0]},Screen.prototype.isLoadingScreen=function(){return this===this.parentContainer.loadingScreen},Screen.prototype.isMasterScreen=function(){return this===this.parentContainer.master},Screen.prototype.isNormalScreen=function(){return!this.isMasterScreen()&&!this.isLoadingScreen()},Object.defineProperty(Screen.prototype,\\\"parentUnitVariant\\\",{get:function(){return\\\"CreativeUnitWithVariants\\\"==this.parentUnit.constructor.name?(this._parentContainer||(this._parentContainer=this.parentUnit.getVariantForScreen(this)),this._parentContainer):null}}),Object.defineProperty(Screen.prototype,\\\"parentContainer\\\",{get:function(){return this.parentUnitVariant||this.parentUnit}}),Screen.prototype.createNode=function(){Logger(\\\"unit\\\").log(\\\"Starting to load \\\"+this),!this.isLoadingScreen()&&creative.experiments.get(\\\"TrackingLoadingTimes\\\")&&this.once(\\\"loaded\\\",creative.aggregatorTracking.trackAggregatorMagicTriplet(\\\"screenLoad\\\",{unitName:this.parentUnit.name,screenRank:this.isFirstScreen()?\\\"First\\\":this.isMasterScreen()?\\\"Master\\\":\\\"Other\\\"},3e4)),this.nestedSceneHosts=[];var e=Screen.uber.createNode.call(this);return e.style.overflow=this.showOverflow?\\\"visible\\\":\\\"hidden\\\",this.objects.forEach(function(t){this.incrementLoadingCount(),e.appendChild(t.getNode(this.decrementLoadingCount))},this),this.parentContainer.on(\\\"resize\\\",this._updateSize),e.style.width=e.style.height=\\\"100%\\\",this.parentContainer.inView&&(this.inView=new InViewObject(this,this.parentContainer.inView),this.inViewTriggerSetup()),this._updateSize(),e},Screen.prototype.initImmediatelyPlayedScenes=function(){this._initImmediatelyPlayedScenes(),this.nestedSceneHosts.forEach(function(e){e._initImmediatelyPlayedScenes()})},Screen.prototype._appear=function(){var e=!this.appearedAtLeastOnce;this.appearedAtLeastOnce=!0;var t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&e&&(this.isFirstScreen()||this.isMasterScreen())});this!==this.parentContainer.loadingScreen&&this!==this.parentContainer.master&&(t.track({name:\\\"screenShown\\\"}),creative.trackCreativeRenderedOnScreenShow()),e?this.fireTriggers(\\\"firstAppear\\\",null,function(){defer(function(){this.fireTriggers(\\\"appear\\\",null,noop,t)}.bind(this),void 0,void 0,useAsap())}.bind(this),t):this.fireTriggers(\\\"appear\\\",null,noop,t),this.inView&&this.inView.start(),this._shakeListenerStart()},Screen.prototype._shakeListenerStart=function(){this.hasTriggers(\\\"shake\\\")&&(this.shakeListener||(this.shakeListener=new ShakeListener),this.shakeListener.on(\\\"shake\\\",this.handleShake),this.shakeListener.on(\\\"shakeFallback\\\",this.handleShakeFallback),this.shakeListener.start())},Screen.prototype._shakeListenerStop=function(){this.shakeListener&&(this.shakeListener.off(\\\"shake\\\",this.handleShake),this.shakeListener.off(\\\"shakeFallback\\\",this.handleShakeFallback),this.shakeListener.stop())},Screen.prototype._disappear=function(){this.inView&&this.inView.stop(),this._shakeListenerStop()},Screen.prototype.handleShakeFallback=function(){if(this.parentUnit.currentScreen===this){var e=new ActionContext(this,!1);this.fireTriggers(\\\"shake\\\",function(t,i){var n=2,r=1e3*(\\\"undefined\\\"!=typeof t.fallbackEmitDelay?t.fallbackEmitDelay:n);return\\\"undefined\\\"==typeof t.fallbackCustomActionSet||\\\"event-actions\\\"===t.fallbackCustomActionSet?setTimeout(function(){this.triggerActionByLocalId(e,{localId:i.localId},noop)}.bind(this),r):setTimeout(function(){this.triggerActionByLocalId(e,{localId:t.fallbackCustomActionSet},noop)}.bind(this),r),!1}.bind(this),null,e)}},Screen.prototype.handleShake=function(e){if(this.parentUnit.currentScreen===this){var t=new ActionContext(this,!1);this.fireTriggers(\\\"shake\\\",function(t,i){var n=t.direction&&t.direction.indexOf(e)>-1,r=!1,a=!1,s=500;return n?(clearTimeout(i.shakeTimeout),i.shakeStartTime||(i.shakeStartTime=new Date),r=t.duration&&(new Date).getTime()-i.shakeStartTime.getTime()>=t.duration,i.shakeTimeout=setTimeout(function(){delete i.shakeStartTime,i.triggered=!1},s),r&&!i.triggered&&(a=!0,i.triggered=!0),a):!1}.bind(this),null,t)}},Screen.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.emit(\\\"enteredRenderTree\\\"))},Screen.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this.emit(\\\"exitedRenderTree\\\"))},Screen.prototype._updateSize=function(){this.emit(\\\"resize\\\")},Screen.prototype.finishedLoading=function(){Screen.uber.finishedLoading.call(this),Logger(\\\"unit\\\").log(\\\"Finished loading \\\"+this)},Screen.prototype.triggerBeforeAppear=function(e){var t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&!this.appearedAtLeastOnce&&(this.isFirstScreen()||this.isMasterScreen())});this.fireTriggers(\\\"beforeAppear\\\",null,e,t)},Screen.prototype.triggerOrientationChange=function(e){this.fireTriggers(\\\"orientationChange\\\",null,e)},Screen.prototype.getMaxZIndex=function(){var e=0;return this.objects.forEach(function(t){t.zIndex>e&&(e=t.zIndex)}),e},Screen.prototype.inViewTriggerSetup=function(){var e=!1;this.triggers.forEach(function(t){(\\\"enterView\\\"===t.type||\\\"leaveView\\\"===t.type)&&(e=!0,this.inViewAreaRatio=0)},this),e&&this.inView.on(\\\"areaInViewRatioChanged\\\",this.triggerInView.bind(this))},Screen.prototype.triggerInView=function(e){var t=new ActionContext(this),i=\\\"enterView\\\",n=this.inViewAreaRatio,r=e,a=function(e,t){return e.parameters.area-t.parameters.area};e<this.inViewAreaRatio&&(i=\\\"leaveView\\\",r=this.inViewAreaRatio,n=e,a=function(e,t){return t.parameters.area-e.parameters.area}),this.fireSortedTriggers(i,function(e){var t=e.area\/100;return t>=n&&r>=t},null,t,a),this._getTriggers(i,function(e){var t=e.area\/100;return t>=n&&r>=t}),this.inViewAreaRatio=e},Screen.prototype.getActionsExecutedOnAppear=function(){var e=!this.appearedAtLeastOnce,t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&e&&(this.isFirstScreen()||this.isMasterScreen())}),i=this.fireTriggersDryRun(\\\"beforeAppear\\\",null,noop,t);return e&&(i=i.concat(this.fireTriggersDryRun(\\\"firstAppear\\\",null,noop,t))),i.concat(this.fireTriggersDryRun(\\\"appear\\\",null,noop,t))},Screen.prototype.resetAction=function(e,t,i){var n=this.findAll(),r=n.length,a=function(){this._shakeListenerStop(),this._shakeListenerStart(),i()}.bind(this);r?n.forEach(function(i){i.resetAction(e,t,function(){--r||a()})}):a()},Screen.prototype.shuffleAction=function(e,t,i){function n(e){for(var t,i,n=e.length;0!==n;)i=Math.floor(Math.random()*n),n-=1,t=e[n],e[n]=e[i],e[i]=t;return e}var r=n(t.objects.map(function(e){return JSON.parse(JSON.stringify(e.layoutSpecificValues))}));t.objects.forEach(function(e,t){e.layoutSpecificValues.forEach(function(e,i){e.position=r[t][i].position}),e._refreshDisplayState()}),i&&i()},Screen.prototype._trackViewShown=function(){Screen.uber._trackViewShown.call(this,{isMasterScreen:this.isMasterScreen(),isLoadingScreen:this.isLoadingScreen()})};;\\nfunction NestedContainer(){}inherit(NestedContainer,ScreenObjectContainer),extend(NestedContainer.prototype,TriggerHost),NestedContainer.toString=function(){return\\\"[Clazz NestedContainer]\\\"},NestedContainer.prototype.toString=function(){return\\\"[NestedContainer \\\"+this.localId+\\\"]\\\"},NestedContainer.prototype.createNode=function(){var e=NestedContainer.uber.createNode.call(this);return this.node=e,this._updateSize=this._updateSize.bind(this),this.enterRenderTree=this.enterRenderTree.bind(this),this.exitRenderTree=this.exitRenderTree.bind(this),this.parentObject.on(\\\"enteredRenderTree\\\",this.enterRenderTree),this.parentObject.on(\\\"exitedRenderTree\\\",this.exitRenderTree),this.objects.forEach(function(t){this.incrementLoadingCount(),e.appendChild(t.getNode(this.decrementLoadingCount))}.bind(this)),0===this.objects.length&&addClass(e,\\\"empty\\\"),this.parentObject.parentContainer.on(\\\"resize\\\",this._updateSize),e},NestedContainer.prototype.redrawLayout=function(){this.node.style.width=this.layoutCurrent.size.width,this.node.style.height=this.layoutCurrent.size.height,this.node.style.position=\\\"relative\\\",this.node.style.overflow=\\\"hidden\\\"},NestedContainer.prototype._updateSize=function(){this.redrawLayout(),this.emit(\\\"resize\\\")},NestedContainer.prototype.enterRenderTree=function(){this.emit(\\\"enteredRenderTree\\\"),this._updateSize()},NestedContainer.prototype.exitRenderTree=function(){this.emit(\\\"exitedRenderTree\\\")},NestedContainer.prototype.onFocus=function(e){this.hasTriggers(\\\"itemFocus\\\")&&this.fireTriggers(\\\"itemFocus\\\",null,e,new ActionContext(this.parentObject))},NestedContainer.prototype.onBlur=function(e){this.hasTriggers(\\\"itemBlur\\\")&&this.fireTriggers(\\\"itemBlur\\\",null,e,new ActionContext(this.parentObject))},Object.defineProperty(NestedContainer.prototype,\\\"layoutCurrent\\\",{get:function(){return this.layoutSpecificValues[this.parentUnit.layoutCurrentIndex]}}),Object.defineProperties(NestedContainer.prototype,{size:{get:function(){var e,t=this.layoutCurrent.size,i=parseFloat(t.width),n=parseFloat(t.height);return t.width.toString().indexOf(\\\"%\\\")>-1&&(e=this.parentObject.getNaturalSize(),i=e.width*i\/100),t.height.toString().indexOf(\\\"%\\\")>-1&&(e||(e=this.parentObject.getNaturalSize()),n=e.height*n\/100),{width:Math.round(i),height:Math.round(n)}}}});;\\nfunction ScreenObject(){}inherit(ScreenObject,View),extend(ScreenObject.prototype,TriggerHost),extend(ScreenObject.prototype,DiscoverableTrait),extend(ScreenObject.prototype,ClickPreventer),ScreenObject.requiresRedrawToTriggerAnimationEvents=android(\\\"4.0\\\"),ScreenObject.redrawTriggerInterval=60,ScreenObject.toString=function(){return\\\"[Clazz ScreenObject]\\\"},ScreenObject.prototype.toString=function(){return\\\"[ScreenObject \\\"+this.localId+\\\" (name=\\\"+this.name+\\\")]\\\"},ScreenObject.allowPositioningAndSizingUsingTransforms=!android(\\\"2.2\\\",\\\"2.3\\\")||celtra.iframe(),ScreenObject._zIndexOffset=1e4,ScreenObject._resettableProperties=[\\\"position\\\",\\\"size\\\",\\\"rotation\\\",\\\"zIndex\\\",\\\"opacity\\\",\\\"hidden\\\"],ScreenObject._3dTransformBlacklisted=function(t){return\/Silk\\\\\/\\\\d|Kindle Fire| KFTT | KFOT | KFJWI | KFJWA |\\\\bGT-P3100\\\\b| HTC[ _]One[ _]S \/.test(t)||\/\\\\bGT-I9300\\\\b\/.test(t)&&android(\\\"4.0\\\")}(navigator.userAgent),ScreenObject.supports3d=function(){var t=\\\"WebKitCSSMatrix\\\"in window&&\\\"m11\\\"in new WebKitCSSMatrix||\\\"MSCSSMatrix\\\"in window||\/Gecko\\\\\/\/.test(navigator.userAgent);return t&&!this._3dTransformBlacklisted}(),ScreenObject.requires3dTranslateForPositioning=\/GT-I9500|GT-I9505|SM-N900|GT-P5210|SM-T520\/.test(navigator.userAgent),ScreenObject.dummyImageSpacer=windows(\\\"10\\\"),ScreenObject._toPositionPx=function(t,e,i){var n,r,o,s,a=i.width,c=i.height,h=e.width,u=e.height;return[\\\"left\\\",\\\"right\\\",\\\"hcenter\\\"].forEach(function(e){e in t&&(n=e)}),[\\\"bottom\\\",\\\"top\\\",\\\"vcenter\\\"].forEach(function(e){e in t&&(r=e)}),o=t[n],s=t[r],o=o.indexOf(\\\"%\\\")>-1?a*parseFloat(o)\/100:parseFloat(o),\\\"hcenter\\\"===n?o=(a-h)\/2+o:\\\"right\\\"===n&&(o=a-(o+h)),s=s.indexOf(\\\"%\\\")>-1?c*parseFloat(s)\/100:parseFloat(s),\\\"vcenter\\\"===r?s=(c-u)\/2+s:\\\"bottom\\\"===r&&(s=c-(s+u)),{x:ScreenObject._roundIfNeeded(o),y:ScreenObject._roundIfNeeded(s)}},ScreenObject._toSizePx=function(t,e){var i=parseFloat(t.width),n=parseFloat(t.height),r=e.width,o=e.height;return t.width.toString().indexOf(\\\"%\\\")>-1&&(i=r*i\/100),t.height.toString().indexOf(\\\"%\\\")>-1&&(n=o*n\/100),{width:ScreenObject._roundIfNeeded(i),height:ScreenObject._roundIfNeeded(n)}},ScreenObject._roundIfNeeded=function(t){return Math.round(t)},Object.defineProperty(ScreenObject.prototype,\\\"layoutCurrent\\\",{get:function(){return null==this.layoutCurrentIndex?this.layoutSpecificValues[0]:this.layoutSpecificValues[this.layoutCurrentIndex]},enumerable:!0,configurable:!1}),Object.defineProperty(ScreenObject.prototype,\\\"layoutCurrentIndex\\\",{get:function(){return this.parentUnit.layoutCurrentIndex},enumerable:!0,configurable:!1}),ScreenObject._Position=function(t,e){this._instance=t,this._position=e},Object.defineProperties(ScreenObject._Position.prototype,{x:{get:function(){return this._position.x},set:function(t){delete this._instance.layoutCurrent.right,delete this._instance.layoutCurrent.hcenter,this._instance.layoutCurrent.position.left=t+(\\\"number\\\"==typeof t?\\\"px\\\":\\\"\\\")}},y:{get:function(){return this._position.y},set:function(t){delete this._instance.layoutCurrent.bottom,delete this._instance.layoutCurrent.vcenter,this._instance.layoutCurrent.position.top=t+(\\\"number\\\"==typeof t?\\\"px\\\":\\\"\\\")}}}),ScreenObject._Size=function(t,e){this._instance=t,this._size=e},Object.defineProperties(ScreenObject._Size.prototype,{width:{get:function(){return this._size.width},set:function(t){this._instance.layoutCurrent.size.width=t+(\\\"number\\\"==typeof t?\\\"px\\\":\\\"\\\")}},height:{get:function(){return this._size.height},set:function(t){this._instance.layoutCurrent.size.height=t+(\\\"number\\\"==typeof t?\\\"px\\\":\\\"\\\")}}}),Object.defineProperties(ScreenObject.prototype,{position:{get:function(){var t=ScreenObject._toPositionPx(this.layoutCurrent.position,this.size,this.parentContainer.size);return new ScreenObject._Position(this,t)},set:function(t){delete this.layoutCurrent.position.right,delete this.layoutCurrent.position.hcenter,delete this.layoutCurrent.position.bottom,delete this.layoutCurrent.position.vcenter,this.layoutCurrent.position.left=t.left,this.layoutCurrent.position.top=t.top}},originalSize:{get:function(){var t=this.layoutCurrentIndex||0;return ScreenObject._toSizePx(JSON.parse(this.originalLayoutSpecificValues)[t].size,this.parentContainer.size)},set:function(){throw new Error(\\\"originalSize is not settable!\\\")}},size:{get:function(){var t=ScreenObject._toSizePx(this.layoutCurrent.size,this.parentContainer.size);return new ScreenObject._Size(this,t)},set:function(t){this.layoutCurrent.size.width=t.width,this.layoutCurrent.size.height=t.height}},opacity:{get:function(){return this.layoutCurrent.opacity},set:function(t){this.layoutCurrent.opacity=t}},rotation:{get:function(){return this.layoutCurrent.rotation},set:function(t){this.layoutCurrent.rotation=t}},hidden:{get:function(){return this.layoutCurrent.hidden},set:function(t){this.layoutSpecificValues.forEach(function(e){e.hidden=t})}}}),ScreenObject.getCSSTranslate=function(t,e){return ScreenObject.requires3dTranslateForPositioning?\\\"translate3d(\\\"+t+\\\"px,\\\"+e+\\\"px, 0)\\\":\\\"translate(\\\"+t+\\\"px,\\\"+e+\\\"px)\\\"},ScreenObject.prototype.awake=function(){ScreenObject.uber.awake.call(this),this.originalLayoutSpecificValues=JSON.stringify(this.layoutSpecificValues),this.originalZIndex=this.zIndex,this.finishAnimation=this.finishAnimation.bind(this),this._refreshDisplayState=this._refreshDisplayState.bind(this)},ScreenObject.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.emit(\\\"enteredRenderTree\\\"))},ScreenObject.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this._isInMouseOver&&trigger(this.node,\\\"mouseout\\\",!1),this.emit(\\\"exitedRenderTree\\\"))},ScreenObject.prototype.react=function(t){var e=this.parentUnit.getRxStateObject(),i=function(){this._isRendering&&t.call(this,e)}.bind(this);null!==e&&(this._rxListeners.push(i),Ticker.frame(i,\\\"render\\\"))},ScreenObject.prototype.appearNestedObjects=function(){this.getNestedContainers().forEach(function(t){t.appear(),t.appearNestedObjects(t.objects)},this)},ScreenObject.prototype.disappearNestedObjects=function(){this.getNestedContainers().forEach(function(t){t.disappearNestedObjects(t.objects),t.disappear()},this)},ScreenObject.prototype.initTemplates=function(){var t=this.templates={},e=this.constructor.templates;if(e){for(var i in e)\\\"string\\\"==typeof e[i]&&(e[i]=tmpl(e[i]));extend(t,e)}},ScreenObject.prototype.tmpl=function(t,e,i){this.templates||this.initTemplates();var n=this.templates[t];return n?n.call(i||this,e):\\\"Missing template: \\\"+t},ScreenObject.prototype.template=function(t,e,i){var n,r=document.createElement(\\\"div\\\");r.innerHTML=this.tmpl(t,e);var o=r.firstChild;if(i)for(;n=r.firstChild;)i.appendChild(n);return o},ScreenObject.prototype.ifNotClosing=function(t,e,i){var n=this.fireTriggersDryRun(t,null,noop,e)._actions,r=[\\\"dismiss\\\",\\\"collapse\\\"],o=!n.some(function(t){return r.indexOf(t.method)>-1});o&&i()},ScreenObject.prototype.createNode=function(){this._isInMouseOver=!1;var t=this,e=ScreenObject.uber.createNode.call(t);if(e.style.position=\\\"absolute\\\",this.hasTriggers(\\\"tap\\\")&&(addClass(e,\\\"touchable\\\"),attach(e,\\\"tap\\\",function(){var e=new ActionContext(t,!0);t.ifNotClosing(\\\"tap\\\",e,e.trackUserInteraction),t.fireTriggers(\\\"tap\\\",null,null,e)},!1)),deviceInfo.deviceType.desktop()){var i=\\\"mouseOver\\\",n=[];if(this.hasTriggers(i)){var r=this._getTriggers(i,null),o=[],s=noop;r.forEach(function(t){t.parameters&&t.parameters.delay&&o.indexOf(t.parameters.delay)<0&&o.push(t.parameters.delay)}),attach(e,\\\"mouseover\\\",function(){var e=new ActionContext(t,!0),r=function(n){return function(){t.fireTriggers(i,function(t){return t.delay==n},null,e)}};t._isInMouseOver=!0,o.forEach(function(t,e){s=r(t),n[e]=setTimeout(s,t)})},!1)}attach(e,\\\"mouseout\\\",function(){var e=new ActionContext(t,!0);t._isInMouseOver=!1,n.forEach(clearTimeout),n=[],t.hasTriggers(\\\"mouseOut\\\")&&t.fireTriggers(\\\"mouseOut\\\",null,null,e)},!1)}return attach(e,\\\"touchstart\\\",function(){if(t.hasTriggers(\\\"touchstart\\\")){var e=new ActionContext(t,!0);t.ifNotClosing(\\\"touchstart\\\",e,e.trackUserInteraction),t.fireTriggers(\\\"touchstart\\\",null,null,e)}},!1),attach(e,\\\"touchend\\\",function(){if(t.hasTriggers(\\\"touchend\\\")){var e=new ActionContext(t,!0);t.ifNotClosing(\\\"touchend\\\",e,e.trackUserInteraction),t.fireTriggers(\\\"touchend\\\",null,null,e)}},!1),this.hasTriggers(\\\"swipe\\\")&&(attach(e,\\\"touchstart\\\",function(t){t.stopPropagation()}),new SwipeListener({target:e,swipeNodeGetter:function(){return this.parentUnit.node}.bind(this),swipe:function(e,i){var n=new ActionContext(t,!0);t.fireTriggers(\\\"swipe\\\",function(r){var o=e==r.direction&&i>=r.length;return o&&t.ifNotClosing(\\\"swipe\\\",n,n.trackUserInteraction),o},null,n)}})),attach(e,\\\"transitionend\\\",function(t){t.stopPropagation()},!1),this.parentContainer.on(\\\"resize\\\",this._refreshDisplayState),this.parentContainer.on(\\\"enteredRenderTree\\\",function(){this.hidden||this.enterRenderTree()}.bind(this)),this.parentContainer.on(\\\"exitedRenderTree\\\",function(){this.hidden||this.exitRenderTree()}.bind(this)),this.layoutPrevious=this.layoutCurrent,this.parentUnit.on(\\\"layoutChanged\\\",this.handleLayoutChanged.bind(this)),this.initClickPrevention(function(){return this.node}.bind(this)),this._applyStyles(e,this._calculateNewStyleAttributes()),this.positionUsingTransforms()||deviceInfo.browser.safari(\\\"9.0.0\\\",null)||(e.style.outline=\\\"1px solid transparent\\\"),this._rxListeners=[],e},ScreenObject.prototype.positionUsingTransforms=retFalse,ScreenObject.prototype.sizeUsingTransforms=retFalse,ScreenObject.prototype.isValid=retTrue,ScreenObject.prototype.getNaturalSize=function(){return this.originalSize},ScreenObject.prototype._calculateNewStyleAttributes=function(){var t={transform:\\\"\\\",transformOrigin:\\\"50% 50%\\\"},e=this.getNaturalSize(),i=this.position.x,n=this.position.y;if(this.sizeUsingTransforms()&&(i+=ScreenObject._roundIfNeeded((this.size.width-e.width)\/2),n+=ScreenObject._roundIfNeeded((this.size.height-e.height)\/2)),this.positionUsingTransforms()?(t.left=\\\"0\\\",t.top=\\\"0\\\",(i||n)&&(t.transform+=ScreenObject.getCSSTranslate(i,n))):(t.left=i+\\\"px\\\",t.top=n+\\\"px\\\"),(this.isAnimated||0!=this.rotation)&&(t.transform+=\\\" rotate(\\\"+this.rotation+\\\"deg) \\\"),this.sizeUsingTransforms()){t.width=e.width+\\\"px\\\",t.height=e.height+\\\"px\\\";var r=this.size.width\/e.width,o=this.size.height\/e.height;t.transform+=\\\" scale(\\\"+r+\\\", \\\"+o+\\\")\\\"}else t.width=this.size.width+\\\"px\\\",t.height=this.size.height+\\\"px\\\";return t.zIndex=this.zIndex,t.opacity=this.opacity,t.display=this.hidden?\\\"none\\\":\\\"block\\\",t},ScreenObject.prototype._applyStyles=function(t,e){e&&Object.keys(e).forEach(function(i){celtra.styler.css(t,i,e[i])})},ScreenObject.prototype._refreshDisplayState=function(){if(this.node){var t=this._calculateNewStyleAttributes(),e=!1;for(var i in t){var n=String(t[i]).replace(\/^\\\\s*|\\\\s*$\/g,\\\"\\\"),r=celtra.styler.css(this.node,i),o=null;celtra.styler.css(this.node,i)!==n&&(o=n,r!=o&&\\\"zIndex\\\"!=i&&\\\"display\\\"!=i&&(e=!0))}return this._applyStyles(this.node,t),this.redrawLayout(),e}},ScreenObject.prototype.finishAnimation=function(){this.node&&void 0!==celtra.styler.css(this.node,\\\"transitionDuration\\\")&&(celtra.styler.css(this.node,\\\"transitionDuration\\\",\\\"1ms\\\"),this.node.offsetWidth,celtra.styler.css(this.node,\\\"transitionDuration\\\",\\\"\\\"))},ScreenObject.prototype.handleLayoutChanged=function(){var t=function(){this.layoutPrevious.hidden&&!this.layoutCurrent.hidden?this.enterRenderTreeAndAppear(!0):!this.layoutPrevious.hidden&&this.layoutCurrent.hidden&&this.parentContainer._isRendering&&this.exitRenderTree(),this.layoutPrevious=this.layoutCurrent}.bind(this);ios()?defer(t):t(),this.finishAnimation(),this._refreshDisplayState()},ScreenObject.prototype.redrawLayout=function(){},ScreenObject.prototype.redrawSceneLayout=function(){this.redrawLayout()},ScreenObject.prototype._checkAndEnhanceParamsForFileLoading=function(t,e,i){var n=ScreenObject.uber._checkAndEnhanceParamsForFileLoading.call(this,t,e,i);return n.settings.creativeUnitVariantId=this.parentScreen.parentContainer.localId,n},ScreenObject.prototype._preloadImage=function(t,e,i){var n=this._checkAndEnhanceParamsForFileLoading(t,e,i);ScreenObject.uber._preloadImage.call(this,t,n.settings,n.callback)},ScreenObject.prototype._loadImage=function(t,e,i){var n=this._checkAndEnhanceParamsForFileLoading(t,e,i);ScreenObject.uber._loadImage.call(this,t,n.settings,n.callback)},ScreenObject.prototype.setPosition=function(t,e){this.position={left:t+\\\"px\\\",top:e+\\\"px\\\"},this._refreshDisplayState()},ScreenObject.prototype.getPosition=function(){return{x:this.position.x,y:this.position.y}},ScreenObject.prototype.setSize=function(t,e){this.size.width=t,this.size.height=e,this._refreshDisplayState()},ScreenObject.prototype.getSize=function(){return{width:this.size.width,height:this.size.height}},ScreenObject.prototype.setOpacity=function(t){this.opacity=t,this._refreshDisplayState()},ScreenObject.prototype.getOpacity=function(){return this.opacity},ScreenObject.prototype.animateAction=function(t,e,i){function n(t){return!isNaN(parseFloat(t))&&isFinite(t)}function r(t){var e={position:{},size:{width:null,height:null},zIndex:null,opacity:null,rotation:null};return deep(e,t),e}function o(t,e){var i=e.size,n=t.size;null==i.width&&(i.width=n.width),null==i.height&&(i.height=n.height),t.size=i;var r=t.position,o=e.position,s=null,a=null,c=null,h=null;[\\\"left\\\",\\\"right\\\",\\\"hcenter\\\"].forEach(function(t){t in r&&(s=t),t in o&&(c=t)}),[\\\"bottom\\\",\\\"top\\\",\\\"vcenter\\\"].forEach(function(t){t in r&&(a=t),t in o&&(h=t)}),c&&null!==o[c]&&(delete r[s],r[c]=o[c]),h&&null!==o[h]&&(delete r[a],r[h]=o[h]),null!=e.rotation&&(t.rotation=e.rotation),null!=e.opacity&&(t.opacity=e.opacity),null!=e.zIndex&&(t.zIndex=e.zIndex)}i=i||noop,this.isAnimated=!0;var s=\\\"undefined\\\"!=typeof e.duration?e.duration:1e3,a=e.timingFunction||\\\"linear\\\";if(e.layoutSpecificValues)e.layoutSpecificValues.forEach(function(t,e){this.layoutSpecificValues[e]&&o(this.layoutSpecificValues[e],r(t))}.bind(this));else{var c=r(e.properties);null!=c.position.x&&(c.position.left=c.position.x+\\\"px\\\"),null!=c.position.y&&(c.position.top=c.position.y+\\\"px\\\"),null!=c.zIndex&&(c.zIndex=c.zIndex+ScreenObject._zIndexOffset,this.zIndex=c.zIndex),null!=c.size.width&&n(c.size.width)&&(c.size.width+=\\\"px\\\"),null!=c.size.height&&n(c.size.height)&&(c.size.height+=\\\"px\\\"),o(this.layoutCurrent,c)}var h=this.node;celtra.styler.css(h,\\\"transition\\\",\\\"\\\"),celtra.styler.css(h,\\\"transitionProperty\\\",\\\"all\\\"),celtra.styler.css(h,\\\"transitionDuration\\\",s+\\\"ms\\\"),celtra.styler.css(h,\\\"transitionTimingFunction\\\",a);var u=this._refreshDisplayState();if(s>0&&u){var l=!1,p=function(){l||(l=!0,i())};ScreenObject.requiresRedrawToTriggerAnimationEvents&&!function(){var t=Date.now(),e=t+(Number(s)||0),i=function(){flash(),Date.now()<e&&setTimeout(i,ScreenObject.redrawTriggerInterval)};i()}(),setTimeout(p,(Number(s)||0)+500,!0),once(h,\\\"transitionend\\\",function(){celtra.styler.css(h,\\\"transition\\\",\\\"\\\"),setTimeout(p,0,!1)},!1)}else{celtra.styler.css(h,\\\"transition\\\",\\\"\\\");var d=s>0?s:0;setTimeout(i,d)}},ScreenObject.prototype.enterRenderTreeAndAppear=function(t){t&&this.parentScreen._isRendering&&this.enterRenderTree(),t&&!this.isAppearing&&this._shouldAppear&&this.appear()},ScreenObject.prototype.scaleAction=function(t,e,i){var n=e.useOriginalSize?this.originalSize:this.size,r=e.scale\/100,o={width:n.width*r,height:n.height*r},s={x:this.position.x+this.size.width\/2-o.width\/2,y:this.position.y+this.size.height\/2-o.height\/2};this.animateAction(t,{properties:{position:s,size:o},duration:e.duration,timingFunction:e.timingFunction},i)},ScreenObject.prototype.showAction=function(t,e,i){var n=this.hidden;this.hidden=!1,this.node.style.display=\\\"block\\\",this.enterRenderTreeAndAppear(n),this.node.offsetWidth,nextFrame(i)},ScreenObject.prototype.hideAction=function(t,e,i){var n=this.hidden;this.hidden=!0,this.node.style.display=\\\"none\\\",!n&&this.parentScreen._isRendering&&(this.isAppearing&&(this.disappear(),this._shouldAppear=!0),this.exitRenderTree()),setTimeout(i,0)},ScreenObject.prototype.isHidden=function(){return this.hidden},ScreenObject.prototype.resetAction=function(t,e,i){this.layoutSpecificValues=JSON.parse(this.originalLayoutSpecificValues),this.reset(),this.zIndex=this.originalZIndex,this.finishAnimation(),this._refreshDisplayState(),defer(i)},ScreenObject.prototype.addStyle=function(t){var e=\\\"#celtra-object-\\\"+this.localId,i=this.node,n=\/^:(link|visited|active|hover|focus|first-child|nth-child|nth-last-child|nth-of-type|first-of-type|last-of-type|empty|target|checked|enabled|disabled)\/,r=\/,\\\\s*\/g;this.styleNode||(this.styleNode=document.createElement(\\\"style\\\"),i||(i=document.getElementsByTagName(\\\"head\\\")[0]),i.appendChild(this.styleNode));var o=[];for(var s in t)o.push({selector:s.split(r).map(function(t){return e+(n.test(t)?\\\"\\\":\\\" \\\")+t}).join(\\\",\\\"),attributes:t[s]});var a=this._styleSheetTemplate({rules:o});this.styleNode.textContent+=a},ScreenObject.prototype._styleSheetTemplate=tmpl(\\\"<% for (var i = 0; i < rules.length; i++) { %><%= rules[i].selector %> { <%= rules[i].attributes %> }\\\\n<% } %>\\\"),ScreenObject.prototype.css=function(t,e){\\\"undefined\\\"==typeof e&&(e=t,t=this.getNode()),Object.keys(e).forEach(function(i){celtra.styler.css(t,i,e[i])})},ScreenObject.prototype.getNestedContainers=function(){return[]},ScreenObject.prototype.getActiveContainers=function(){return this.getNestedContainers()};;\\nfunction Hotspot(){}inherit(Hotspot,ScreenObject),Hotspot.toString=function(){return\\\"[Clazz Hotspot]\\\"},Hotspot.prototype.toString=function(){return\\\"[Hotspot \\\"+this.localId+\\\"]\\\"},Hotspot.prototype.createNode=function(){var t=Hotspot.uber.createNode.call(this);return addClass(t,\\\"touchable\\\"),attach(t,\\\"tap\\\",this.handleTap),t},Hotspot.prototype.handleTap=function(t){t.stopPropagation()};;\\nfunction Group(){}inherit(Group,ScreenObject),Group.toString=function(){return\\\"[Clazz Group]\\\"},Group.prototype.toString=function(){return\\\"[Group \\\"+this.localId+\\\"]\\\"},Group.prototype.createNode=function(){var t=Group.uber.createNode.call(this);return this.incrementLoadingCount(),t.appendChild(this.content.getNode(this.decrementLoadingCount)),t},Group.prototype.getNestedContainers=function(){return[this.content]},Group.prototype.positionUsingTransforms=ios(\\\"8\\\")?retFalse:retTrue,Group.prototype.sizeUsingTransforms=retTrue,Group.prototype.getNaturalSize=function(){return this.originalSize},Group.prototype._appear=function(){this.appearNestedObjects()},Group.prototype._disappear=function(){this.disappearNestedObjects()};var ObjectGroup=Group;;\\nfunction Picture(){}inherit(Picture,ScreenObject),extend(Picture.prototype,FeedImageCreator),Picture.toString=function(){return\\\"[Clazz Picture]\\\"},Picture.prototype.toString=function(){return\\\"[Picture \\\"+this.localId+\\\"]\\\"},Picture.prototype.createNode=function(){var e={};\\\"string\\\"==typeof this.imageSourceFeedFieldKey&&(FeedData.checkAndTrackValue(this.imageSourceFeedFieldKey,this.imageSourceFeedRowIndex,this.constructor.name,\\\"imageSourceFeedFieldKey\\\"),this.file=this._createFeedImageFile(\\\"imageSource\\\",this.imageSourceFeedRowIndex));var i=Picture.uber.createNode.call(this);return this.file===this.placeholderFile?(\\\"string\\\"==typeof this.imageSourceFeedFieldKey||this._newFileWasSet||(addClass(i,\\\"empty\\\"),this._preloadImage(new File(\\\"runner\/image-placeholder.png\\\"),function(e,t){this._isSettingFileInProgress||(i.style.backgroundImage=\\\"url(\\\"+t+\\\")\\\")}.bind(this))),i):(this.file&&this._preloadImage(this.file,e,function(e){this._newFileWasSet||this._handlePreloadedImage(i,e)}.bind(this)),i)},Picture.prototype.awake=function(){Picture.uber.awake.call(this),this.placeholderFile=new File(\\\"runner\/image-placeholder.png\\\"),this.placeholderFile.meta={height:28,width:28},this.file||(this.file=this.placeholderFile),this._originalFile=this.file,this._newFileWasSet=!1},Picture.prototype._handlePreloadedImage=function(e,i){this.file.dynamic&&(this.file.meta={height:i.naturalHeight,width:i.naturalWidth});var t=\\\"\\\",r=\\\"\\\",a=\\\"no-repeat\\\";this.imagePosition&&(t=this.imagePosition.replace(\\\"-\\\",\\\" \\\"));var s=this.sizeUsingTransforms()?this.getNaturalSize():this.size,h=this.fittingSize;switch(\\\"fitUpToOriginal\\\"===this.fittingSize&&(h=s.width<this.file.width||s.height<this.file.height?\\\"fit\\\":\\\"original\\\"),h){case\\\"original\\\":r=this.file.width+\\\"px \\\"+this.file.height+\\\"px\\\";break;case\\\"fit\\\":r=\\\"contain\\\";break;case\\\"fill\\\":r=\\\"cover\\\";break;case\\\"repeat\\\":r=this.file.width+\\\"px \\\"+this.file.height+\\\"px\\\",a=\\\"repeat\\\";break;case\\\"stretch\\\":default:r=\\\"100% 100%\\\"}var n=document.createElement(\\\"div\\\");if(n.style.cssText=\\\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\\\",n.style.backgroundImage=\\\"url('\\\"+(i.src||\\\"\\\").replace(\\\"'\\\",\\\"-\\\")+\\\"')\\\",n.style.backgroundPosition=t,n.style.backgroundSize=r,n.style.backgroundRepeat=a,ScreenObject.dummyImageSpacer){var l=document.createElement(\\\"img\\\");l.style.cssText=\\\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\\\",l.src=\\\"data:image\/gif;base64,R0lGODlhAQABAIAAAP\/\/\/wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\\\",n.appendChild(l)}e.appendChild(n)},Picture.prototype.positionUsingTransforms=function(){var e=!(ios(\\\"8\\\",null)||desktop()&&\/^((?!chrome|android).)*safari\/i.test(navigator.userAgent));return e&&this.isAnimated},Picture.prototype.sizeUsingTransforms=Picture.prototype.positionUsingTransforms,Picture.prototype.getNaturalSize=function(){if(!this.file)return Picture.uber.getNaturalSize.call(this);var e,i,t,r,a=this.file.width,s=this.file.height,h=a\/s,n=this.originalSize.width,l=this.originalSize.height,o=n\/l,c=2048;return\\\"original\\\"==this.fittingSize||\\\"fitUpToOriginal\\\"==this.fittingSize||\\\"repeat\\\"==this.fittingSize?{width:n,height:l}:\\\"stretch\\\"==this.fittingSize?{width:a,height:s}:(e=h>o&&\\\"fit\\\"==this.fittingSize||o>h&&\\\"fill\\\"==this.fittingSize,i=o>h&&\\\"fit\\\"==this.fittingSize||h>o&&\\\"fill\\\"==this.fittingSize,t=a,r=s,e?r=a\/n*l:i&&(t=s\/l*n),t>c&&(r*=c\/t,t=c),r>c&&(t*=c\/r,r=c),{width:t,height:r})},Picture.prototype.getImageUrl=function(){return this.file?this.file.getUrl():void 0};;\\nfunction Fallback(){}inherit(Fallback,ScreenObject),Fallback.toString=function(){return\\\"[Clazz Fallback]\\\"},Fallback.prototype.toString=function(){return\\\"[Fallback \\\"+this.localId+\\\"]\\\"},Fallback.prototype.createNode=function(){var e=Fallback.uber.createNode.call(this),t=this._getChosenContainer();return t.getActionsExecutedOnAppear=function(){return t.fireTriggersDryRun(\\\"conditionMet\\\",null,noop,new ActionContext(this))}.bind(this),this.incrementLoadingCount(),e.appendChild(t.getNode(this.decrementLoadingCount)),e},Object.defineProperty(Fallback.prototype,\\\"isTrackable\\\",{get:function(){return!0}}),Fallback.prototype._appear=function(){var e=this._getChosenContainer();e.appear();var t=new ActionContext(this);e.fireTriggers(\\\"conditionMet\\\",null,noop,t),this._contentAvailable&&t.track({name:\\\"contentAvailable\\\"})},Fallback.prototype._disappear=function(){this._getChosenContainer().disappear()},Fallback.prototype._getChosenContainer=function(){if(\\\"undefined\\\"!=typeof this._selectedContainer)return this._selectedContainer;var e=this.contentFields.length>0,t=e&&this.contentFields.every(function(e){var t=FeedData.getFieldRowsByKey(e.feedFieldKey).slice(0,e.requestedRows);return t.length>0&&t.every(function(e){return\\\"string\\\"==typeof e.value})}),n=e&&this.contentFields.every(function(e){return FeedData.isCorrectFieldType(e.feedFieldKey,e.initiator,e.property)});return this._contentAvailable=t&&n,this._selectedContainer=this._contentAvailable?this.availableContent:this.notAvailableContent,this._selectedContainer},Fallback.prototype.getNestedContainers=function(){return[this.availableContent,this.notAvailableContent]},Fallback.prototype.getActiveContainers=function(){return[this._getChosenContainer()]},Fallback.prototype.positionUsingTransforms=retTrue,Fallback.prototype.sizeUsingTransforms=retTrue,Fallback.prototype.getNaturalSize=function(){return this.originalSize};;\\nfunction Texty(){}inherit(Texty,ScreenObject),extend(Texty.prototype,TextStyleIntegrator),Texty.toString=function(){return\\\"[Clazz Texty]\\\"},Texty.prototype.toString=function(){return\\\"[Texty \\\"+this.localId+\\\"]\\\"},Texty.prototype.awake=function(){Texty.uber.awake.call(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handleTouchCancel=this._handleTouchCancel.bind(this),this._originalText=this.text,this._adaptToContentStrategy=\\\"none\\\",this._adaptToContentInProgress=!1,this._textCharactersEnclosedWithSpanElements=!1,this._lineBreakOptimizationStrategy=this.lineBreakOptimizationStrategy||\\\"none\\\",this._shortestLineToLongestLineMinRatio=this.shortestLineToLongestLineMinRatio||.25,this._maxPaddingToSizeRatio=this.maxPaddingToSizeRatio||.25,this._originalTextColor=this.textColor,this._originalFont=this.font},Texty.prototype.createNode=function(){var t=Texty.uber.createNode.call(this);this.scroller=null,this._autoscrolling=!1,this._listeningForTouches=!1,this._sanitizeText=!0,this._processSpecialChars=!1;var e=this.getFontSize(),i=this._getNaturalFontSize();if(this._fontScaleFactor=e\/i,this._lineHeightRatio=1,this._letterSpacingRatio=1,this._responsiveFontSize=this._getNaturalFontSize(),this._fontIsLoading=!1,\\\"string\\\"==typeof this.textColorFeedFieldKey&&FeedData.checkAndTrackValue(this.textColorFeedFieldKey,this.textColorFeedRowIndex,this.constructor.name,\\\"textColorFeedFieldKey\\\"),\\\"string\\\"==typeof this.textContentFeedFieldKey){FeedData.checkAndTrackValue(this.textContentFeedFieldKey,this.textContentFeedRowIndex,this.constructor.name,\\\"textContentFeedFieldKey\\\");var n=\\\"\\\",o=FeedData.getFieldValueByKey(this.textContentFeedFieldKey,this.textContentFeedRowIndex);\\\"string\\\"==typeof o&&FeedData.isCorrectFieldType(this.textContentFeedFieldKey,this.constructor.name,\\\"textContentFeedFieldKey\\\")&&(n=o),this.text=n,this._processSpecialChars=!0}if(this.isTemplateField&&(this._processSpecialChars=!0),this._initialText=this.text,this._initialProcessSpecialChars=this._processSpecialChars,this._initialScaleFont=this.scaleFont,this._scrollContainer=document.createElement(\\\"div\\\"),this._scrollContainer.className=\\\"scroll-container\\\",this._textContainer=document.createElement(\\\"div\\\"),this._textContainerClone=document.createElement(\\\"div\\\"),this._textContainerClone.style.display=\\\"none\\\",this._textContainerResponsive=document.createElement(\\\"div\\\"),this._textContainerResponsive.style.visibility=\\\"hidden\\\",(deviceInfo.browser.chrome(null,\\\"48\\\")||\\\"Samsung Browser\\\"===deviceInfo.browser.name)&&this._setTextContainerStyle(\\\"textRendering\\\",\\\"geometricPrecision\\\"),this.scrollable&&(this.scroller=new Scroller(t,this._textContainer,{direction:\\\"vertical\\\",animating:!0,easing:!0,locking:!1,scrollbarPosition:this.scrollbarPosition,scrollbarColor:this.scrollbarColor})),\\\"string\\\"==typeof this.textFontFeedFieldKey){FeedData.checkAndTrackValue(this.textFontFeedFieldKey,this.textFontFeedRowIndex,this.constructor.name,\\\"textFontFeedFieldKey\\\");var s,o=FeedData.getFieldValueByKey(this.textFontFeedFieldKey,this.textFontFeedRowIndex);\\\"string\\\"==typeof o&&FeedData.isCorrectFieldType(this.textFontFeedFieldKey,this.constructor.name,\\\"textFontFeedFieldKey\\\")&&(s=creative.fonts.find(function(t){return t.typefaceId===o})),this.font=s}if(this.font instanceof FontBase){var a=0===this.text.trim().length;this._updateTextContent(),this.initializeFont(a),this.font.needsLoading()&&!a&&(this._fontIsLoading=!0,this.font.loadStyle(function(){this._fontIsLoading=!1,this._handleSizeUpdate(!0)}.bind(this)))}return this._scrollContainer.appendChild(this._textContainer),this._scrollContainer.appendChild(this._textContainerClone),this._scrollContainer.appendChild(this._textContainerResponsive),t.appendChild(this._scrollContainer),this._startListeningForTouches(),t},Texty.prototype._appear=function(){this._handleSizeUpdate(!0)},Texty.prototype.redrawLayout=function(){this._handleSizeUpdate(!0)},Texty.prototype.redrawSceneLayout=function(){this._handleSizeUpdate(!1)},Texty.prototype._handleSizeUpdate=function(t){if(!(this.font&&this.font.needsLoading()&&this._fontIsLoading)){var e=null,i=this.node&&document.body.contains(this.node),n=this.responsiveFont||this.textAlignVertical>0||\\\"none\\\"!==this._adaptToContentStrategy||\\\"none\\\"!==this._lineBreakOptimizationStrategy;this.node&&this.node.parentNode&&!i&&n&&(e=this.node.parentNode,document.body.appendChild(this.node)),this._updateTextSizeAndAlignment(t),this._shrinkContentSizeToOptimizeLineBreaks(),this._adaptComponentSizeToContentSize(),this._updateScrollbar(),e&&e.appendChild(this.node)}},Texty.prototype._overrideNaturalSize=function(t,e){this.setSize(t,e);var i=this.layoutCurrentIndex||0,n=JSON.parse(this.originalLayoutSpecificValues);n[i].size={width:t+\\\"px\\\",height:e+\\\"px\\\"},this.originalLayoutSpecificValues=JSON.stringify(n)},Texty.prototype._updateTextSizeAndAlignment=function(t){this._setTextContainerStyle(\\\"paddingLeft\\\",this.getTextPaddingLeft()+\\\"px\\\"),this._setTextContainerStyle(\\\"paddingRight\\\",this.getTextPaddingRight()+\\\"px\\\"),this._setTextContainerStyle(\\\"paddingTop\\\",this.getTextPaddingTop()+\\\"px\\\"),this._setTextContainerStyle(\\\"marginTop\\\",\\\"\\\"),this.responsiveFont||(this.applyTextSize(this._textContainer),this.applyTextSize(this._textContainerClone)),this._horizontallyRealignTextWithPadding(),t&&this._adjustFontSizeToFitContainer(),this._verticallyAlignText()},Texty.prototype._shrinkContentSizeToOptimizeLineBreaks=function(){if(\\\"none\\\"!==this._lineBreakOptimizationStrategy&&\\\"pre-line\\\"===this.textWhiteSpace){var t=!1,e=5*this._fontScaleFactor,i=0,n=this._getLinesProperties(),o=n.length;if(!(1>=o))do{if(t=!1,n=this._getLinesProperties(),n.length>o){i-=e,this._setPaddingRelativeToAlignment(i);break}var s=\\\"all\\\"===this._lineBreakOptimizationStrategy?this._getShortestLineLength(n):n[n.length-1].width;s<this._shortestLineToLongestLineMinRatio*this._getLongestLineLength(n)&&(i+=e,this._setPaddingRelativeToAlignment(i),i<this._maxPaddingToSizeRatio*this.size.width&&(t=!0))}while(t)}},Texty.prototype._setPaddingRelativeToAlignment=function(t){switch(this._getHorizontalAlignment()){case\\\"left\\\":this._textContainer.style.paddingRight=this.getTextPaddingRight()+t+\\\"px\\\";break;case\\\"right\\\":this._textContainer.style.paddingLeft=this.getTextPaddingLeft()+t+\\\"px\\\";break;case\\\"center\\\":this._textContainer.style.paddingLeft=this.getTextPaddingLeft()+t\/2+\\\"px\\\",this._textContainer.style.paddingRight=this.getTextPaddingRight()+t\/2+\\\"px\\\"}},Texty.prototype._adaptComponentSizeToContentSize=function(){if(\\\"none\\\"!==this._adaptToContentStrategy&&!this._adaptToContentInProgress&&!this.scaleFont&&\\\"pre-line\\\"===this.textWhiteSpace){var t=this._getLinesProperties(),e=this._getLongestLineLength(t),i=t[t.length-1];if(0!==e&&i){var n=Math.max(1,this._responsiveFontSize*this._lineHeightRatio),o=i.height-n+t[0].top,s=Math.ceil(e)+this._getNaturalTextPaddingLeft()+this._getNaturalTextPaddingRight(),a=Math.ceil(i.top+i.height-o)+this._getNaturalTextPaddingTop()+this._getNaturalTextPaddingBottom();this.responsiveFont&&(a=Math.max(a,this._getContentSizeOfResponsiveContainer().height\/this._fontScaleFactor+this._getNaturalTextPaddingTop())),s=Math.min(this.size.width,s),a=Math.min(this.size.height,a),\\\"vertical\\\"===this._adaptToContentStrategy?s=this.size.width:\\\"horizontal\\\"===this._adaptToContentStrategy&&(a=this.size.height);var r=this.position.x,h=this.position.y,l=this._getHorizontalAlignment();\\\"center\\\"===l?r=this.position.x+(this.size.width-s)\/2:\\\"right\\\"===l&&(r=this.position.x+(this.size.width-s)),\\\"50\\\"===this.textAlignVertical?h=this.position.y+(this.size.height-a)\/2:\\\"100\\\"===this.textAlignVertical&&(h=this.position.y+(this.size.height-a)),this._adaptToContentInProgress=!0,this._overrideNaturalSize(s,a),this.setPosition(r,h),this._adaptToContentInProgress=!1,this.emit(\\\"componentSizeUpdated\\\")}}},Texty.prototype._getHorizontalAlignment=function(){switch(this.textAlign){case\\\"justify\\\":return\\\"center\\\";case\\\"start\\\":return\\\"ltr\\\"===window.getComputedStyle(this._textContainer).direction?\\\"left\\\":\\\"right\\\";case\\\"end\\\":return\\\"ltr\\\"===window.getComputedStyle(this._textContainer).direction?\\\"right\\\":\\\"left\\\";default:return this.textAlign}},Texty.prototype._getContentSizeOfResponsiveContainer=function(){var t=this._textContainerResponsive.getBoundingClientRect(),e=(parseInt(t.height,10)-t.height)*this._fontScaleFactor,i=(parseInt(t.width,10)-t.width)*this._fontScaleFactor,n=this._textContainerResponsive.scrollHeight+e,o=this._textContainerResponsive.scrollWidth+i;return{width:o,height:n}},Texty.prototype._setTextContainerStyle=function(t,e){this._textContainer.style[t]=e,this._textContainerClone.style[t]=e,this._textContainerResponsive.style[t]=e},Texty.prototype._setTextContainerAutomaticDirection=function(t){\\\"auto\\\"!==this.textDirection&&(t.style.direction=\\\"\\\",t.setAttribute(\\\"dir\\\",\\\"auto\\\"))},Texty.prototype._applyAdjustedFontSizeStyle=function(t){var e=this._responsiveFontSize*this._fontScaleFactor;t.style.fontSize=e+\\\"px\\\",t.style.lineHeight=Math.max(1,e*this._lineHeightRatio)+\\\"px\\\",t.style.letterSpacing=e*this._letterSpacingRatio+\\\"px\\\"},Texty.prototype._adjustFontSizeToFitContainer=function(){if(this.responsiveFont){var t=\\\"undefined\\\"!=typeof this.responsiveFontFactor?this.responsiveFontFactor:.5,e=\\\"undefined\\\"!=typeof this.responsiveFontFactor?6:1,i=this.getFontSize(),n=this._getNaturalFontSize(),o=Math.max(Math.round(n*t),e),s=1\/this._fontScaleFactor;this._responsiveFontSize=n;var a=Math.max(1,this.getLineSpacing()+i);this._lineHeightRatio=a\/i,this._letterSpacingRatio=this.getLetterSpacing()\/i;var r=this.getNaturalSize();this._applyAdjustedFontSizeStyle(this._textContainerResponsive);for(var h=this._getContentSizeOfResponsiveContainer();this._responsiveFontSize>o&&(h.height>r.height||h.width>r.width);)this._responsiveFontSize-=s,this._applyAdjustedFontSizeStyle(this._textContainerResponsive),h=this._getContentSizeOfResponsiveContainer();this._applyAdjustedFontSizeStyle(this._textContainer),this._applyAdjustedFontSizeStyle(this._textContainerClone)}},Texty.prototype.updateTextStyle=function(){this.applyTextStyle(this._textContainer),this.applyTextStyle(this._textContainerClone),this.applyTextStyle(this._textContainerResponsive),\\\"string\\\"==typeof this.textContentFeedFieldKey&&(this._setTextContainerAutomaticDirection(this._textContainer),this._setTextContainerAutomaticDirection(this._textContainerClone),this._setTextContainerAutomaticDirection(this._textContainerResponsive));var t=\\\"undefined\\\"!=typeof this.textWhiteSpace?this.textWhiteSpace:\\\"pre-wrap\\\";this._setTextContainerStyle(\\\"whiteSpace\\\",t)},Texty.prototype.getTextColor=function(){if(\\\"string\\\"==typeof this.textColorFeedFieldKey){var t=FeedData.getFieldValueByKey(this.textColorFeedFieldKey,this.textColorFeedRowIndex);return\\\"string\\\"==typeof t&&FeedData.isCorrectFieldType(this.textColorFeedFieldKey,this.constructor.name,\\\"textColorFeedFieldKey\\\")?t:TextStyleIntegrator.getTextColor.call(this)}return TextStyleIntegrator.getTextColor.call(this)},Texty.prototype.loadFont=function(){this.font instanceof FontBase&&TextStyleIntegrator.loadFont.apply(this,arguments)},Texty.prototype._horizontallyRealignTextWithPadding=function(){var t=this.getTextPaddingLeft(),e=this.getTextPaddingRight(),i=parseInt(this._textContainer.style.paddingLeft,10),n=parseInt(this._textContainer.style.paddingRight,10);this.scaleFont&&\\\"right\\\"==this.textAlign&&!isNaN(i)?t=i-this.getTextPaddingLeft():this.scaleFont&&\\\"left\\\"==this.textAlign&&!isNaN(n)&&(e=n-this.getTextPaddingRight());var o=Math.max(t,this.getTextPaddingLeft()),s=Math.max(e,this.getTextPaddingRight());o!==i&&this._setTextContainerStyle(\\\"paddingLeft\\\",o+\\\"px\\\"),s!==n&&this._setTextContainerStyle(\\\"paddingRight\\\",s+\\\"px\\\")},Texty.prototype._verticallyAlignText=function(){if(!(this.scrollable||this._scrollContainer.offsetHeight<=this._textContainer.offsetHeight||\\\"undefined\\\"==typeof this.textAlignVertical)){this._setTextContainerStyle(\\\"paddingTop\\\",\\\"\\\");var t=0,e=this.scrollable?0:Number(this.textAlignVertical),i=this.getNaturalSize().height;this._textContainerClone.style.height=0,this._textContainerClone.style.display=\\\"inline\\\";var n=0===e?0:this._textContainerClone.scrollHeight;this._textContainerClone.style.display=\\\"none\\\";var o=Math.max(0,(i-n)*e\/100);o=isNaN(o)?0:o,t=e>50&&i>n?-this.getTextPaddingBottom():50==e&&i>n?(this.getTextPaddingTop()+this.getTextPaddingBottom())\/4:this.getTextPaddingTop(),this._setTextContainerStyle(\\\"marginTop\\\",o+t+\\\"px\\\")}},Texty.prototype._getLongestLineLength=function(t){return Math.max.apply(null,t.map(function(t){return t.width}))},Texty.prototype._getShortestLineLength=function(t){return Math.min.apply(null,t.map(function(t){return t.width}))},Texty.prototype._getLinesProperties=function(){this._encloseTextCharactersWithSpanElements();for(var t=this._textContainer.getBoundingClientRect(),e=this._textContainer.querySelectorAll(\\\"span\\\"),i=[],n=0;n<e.length;n++){var o=e[n].getBoundingClientRect(),s=o.top-t.top,a=o.left-t.left,r=i[i.length-1];r&&s===r.top?(a>r.left?r.width=Math.max(a-r.left+o.width,r.width):(r.width=Math.max(r.left-a+r.width,r.width),r.left=Math.min(a,r.left)),r.text=r.text+e[n].innerText):0!==o.width&&0!==o.height&&i.push({width:o.width,height:o.height,left:a,top:s,text:e[n].innerText})}return i},Texty.prototype._encloseTextCharactersWithSpanElements=function(){if(!this._textCharactersEnclosedWithSpanElements){for(var t=\\\"\\\",e=0;e<this._textContainer.childNodes.length;e++){var i=this._textContainer.childNodes[e];t+=i.nodeType===Node.TEXT_NODE?i.textContent.split(\\\"\\\").map(function(t){return\\\"<span>\\\"+t+\\\"<\/span>\\\"}).join(\\\"\\\"):i.outerHTML}for(;this._textContainer.firstChild;)this._textContainer.removeChild(this._textContainer.firstChild);this._textContainer.innerHTML=t,this._textCharactersEnclosedWithSpanElements=!0}},Texty.prototype._updateTextContent=function(){var t=this._sanitizeText?htmlentitize(this.text.toString()):this.text;this._processSpecialChars&&(t=this._processSpecialFeedCharacters(t)),this._textContainer.innerHTML=t,this._textContainerClone.innerHTML=t,this._textContainerResponsive.innerHTML=t,this._textCharactersEnclosedWithSpanElements=!1},Texty.prototype._updateScrollbar=function(){this.scrollable&&(this.scroller.redraw(),this.scroller.scrollTo(0,0,!1),this.autoscrollEnabled&&(this._resetAutoScroll(),this._createAutoScroll()))},Texty.prototype._createAutoScroll=function(){var t=this.scroller.getMaxScroll();defer(function(){this.scroller.scrollTo(t.left,t.top,!0,this.autoscrollDuration,!0,function(){\\\"return\\\"===this.autoscrollConclusion?this.scroller.scrollTo(0,0,!0,this.autoscrollDuration,!0):\\\"loop\\\"===this.autoscrollConclusion&&(this._autoscrolling=!0,e())}.bind(this))}.bind(this),this.autoscrollDelay);var e=function(){this._autoscrolling&&this.scroller.scrollTo(0,0,!0,this.autoscrollDuration,!0,function(){this.scroller.scrollTo(t.left,t.top,!0,this.autoscrollDuration,!0,e)}.bind(this))}.bind(this)},Texty.prototype._resetAutoScroll=function(){this._autoscrolling=!1},Texty.prototype._handleTouchStart=function(t){t.preventDefault(),new ActionContext(this,!0).trackUserInteraction(),this.scrollable&&(this._resetAutoScroll(),t.stopPropagation(),this.scroller._handleTouchStart(t),attach(this.parentUnit.node,\\\"touchmove\\\",this._handleTouchMove),attach(this.parentUnit.node,\\\"touchend\\\",this._handleTouchEnd),attach(this.parentUnit.node,\\\"touchcancel\\\",this._handleTouchCancel))},Texty.prototype._handleTouchMove=function(t){t.preventDefault(),this.scroller._handleTouchMove(t)},Texty.prototype._handleTouchEnd=function(t){t.preventDefault(),this.scroller._handleTouchEnd(t),detach(this.parentUnit.node,\\\"touchmove\\\",this._handleTouchMove),detach(this.parentUnit.node,\\\"touchend\\\",this._handleTouchEnd),detach(this.parentUnit.node,\\\"touchcancel\\\",this._handleTouchCancel)},Texty.prototype._handleTouchCancel=function(t){this._handleTouchEnd(t)},Texty.prototype.positionUsingTransforms=retTrue,Texty.prototype.sizeUsingTransforms=retTrue,Texty.prototype.getNaturalSize=function(){return this.originalSize},Texty.prototype._getNaturalFontSize=function(){return this.toSizePx(this.fontSize,this.parentScreen.size.height)},Texty.prototype._getDefaultPadding=function(){return this.usePadding?2:0},Texty.prototype._getNaturalTextPaddingTop=function(){var t=TextStyleIntegrator.getTextPaddingTop.call(this);return\\\"number\\\"==typeof t?t:this._getDefaultPadding()},Texty.prototype._getNaturalTextPaddingRight=function(){var t=TextStyleIntegrator.getTextPaddingRight.call(this);return\\\"number\\\"==typeof t?t:this._getDefaultPadding()},Texty.prototype._getNaturalTextPaddingBottom=function(){var t=TextStyleIntegrator.getTextPaddingBottom.call(this);return\\\"number\\\"==typeof t?t:this._getDefaultPadding()},Texty.prototype._getNaturalTextPaddingLeft=function(){var t=TextStyleIntegrator.getTextPaddingLeft.call(this);return\\\"number\\\"==typeof t?t:this._getDefaultPadding()},Texty.prototype.getTextPaddingTop=function(){return this._getNaturalTextPaddingTop()},Texty.prototype.getTextPaddingRight=function(){return this._getNaturalTextPaddingRight()},Texty.prototype.getTextPaddingBottom=function(){return this._getNaturalTextPaddingBottom()},Texty.prototype.getTextPaddingLeft=function(){return this._getNaturalTextPaddingLeft()},Texty.prototype._startListeningForTouches=function(){this.scrollable&&!this._listeningForTouches&&(attach(this._textContainer,\\\"touchstart\\\",this._handleTouchStart),this._listeningForTouches=!0)},Texty.prototype._stopListeningForTouches=function(){this._listeningForTouches&&(detach(this._textContainer,\\\"touchstart\\\",this._handleTouchStart),this._listeningForTouches=!1)},Texty.prototype._setText=function(t){this.text=t,this.loadFont(function(){this._updateTextContent(),this.checkAndFixAutoWritingDirectionSupport(this._textContainer),this.checkAndFixAutoWritingDirectionSupport(this._textContainerClone),this.checkAndFixAutoWritingDirectionSupport(this._textContainerResponsive),this.scaleFont&&(this.scaleFont=!1),this.hidden||this._handleSizeUpdate(!0)}.bind(this))},Texty.prototype._processSpecialFeedCharacters=function(t){t=String(t);var e=t.split(\\\"\\\\\\\\[\\\");if(e.length<2)return t;for(var i=1;i<e.length;i++){var n=e[i].split(\\\"\\\\\\\\]\\\");e[i]='<span class=\\\"no-break\\\">'+n[0]+\\\"<\/span>\\\",n.length>1&&(e[i]+=n.slice(1).join(\\\"\\\"))}return e.join(\\\"\\\")},Texty.prototype.showAction=function(t,e,i){Texty.uber.showAction.call(this,t,e,function(){this._startListeningForTouches(),i()}.bind(this))},Texty.prototype.hideAction=function(t,e,i){Texty.uber.hideAction.call(this,t,e,function(){this._stopListeningForTouches(),i()}.bind(this))},Texty.prototype.resetAction=function(t,e,i){this._sanitizeText=!0,this.resetFont(),Texty.uber.resetAction.call(this,t,e,function(){this.hidden||this._startListeningForTouches(),this.text=this._initialText,this._processSpecialChars=this._initialProcessSpecialChars,this._updateTextContent(),this.scaleFont=this._initialScaleFont,this.checkAndFixAutoWritingDirectionSupport(this._textContainer),this.checkAndFixAutoWritingDirectionSupport(this._textContainerClone),this.checkAndFixAutoWritingDirectionSupport(this._textContainerResponsive),this._handleSizeUpdate(!0),i()}.bind(this))},Texty.prototype.setTextAction=function(t,e,i){this._sanitizeText=!1,this._processSpecialChars=!1,this._setText(e.text),i()},Texty.prototype.getText=function(){var t=String(this.text);return this._processSpecialChars&&(t=t.replace(\/\\\\\\\\(\\\\]|\\\\[)\/g,\\\"\\\")),this._sanitizeText&&(t=htmlentitize(t)),t},Texty.prototype.setAdaptToContentStrategy=function(t){[\\\"both\\\",\\\"vertical\\\",\\\"horizontal\\\",\\\"none\\\"].indexOf(t)>-1&&(this._adaptToContentStrategy=t)},Texty.prototype.setLineBreakOptimizationStrategy=function(t){[\\\"all\\\",\\\"last\\\",\\\"none\\\"].indexOf(t)>-1&&(this._lineBreakOptimizationStrategy=t)},Texty.prototype.setShortestLineToLongestLineMinRatio=function(t){this._shortestLineToLongestLineMinRatio=t},Texty.prototype.setMaxPaddingToSizeRatio=function(t){this._maxPaddingToSizeRatio=t};;\\nfunction Nearby(){}inherit(Nearby,ScreenObject),extend(Nearby.prototype,TextStyleIntegrator),Nearby.toString=function(){return\\\"[Clazz Nearby]\\\"},Nearby.prototype.toString=function(){return\\\"[Nearby \\\"+this.localId+\\\"]\\\"},Nearby.prototype.createNode=function(){var e=Nearby.uber.createNode.call(this);return this._requestedLocation=!1,this._nearestLocation=null,this._isGeolocationPromptDisabled=!1,this._phrases={},this._distanceUnitsType=\\\"auto\\\",this._privateApiTracked={},this._translations=Nearby._defaultTranslations(),this._setPhrases(e,this.language),this._textElement=e,this.initializeFont(),this._container=document.createElement(\\\"div\\\"),this._container.className=\\\"container\\\",e.appendChild(this._container),e},Nearby.prototype._appear=function(){this._updateMessage(),this._locateUser()},Nearby.prototype.redrawLayout=function(){this.applyTextSize(this._container)},Nearby.prototype._updateMessage=function(){if(this._container.innerHTML=\\\"\\\",this._nearestLocation){var e=metersToDistanceWithUnits(this._nearestLocation.userDistance,this.units,this._distanceUnitsType,!0),t=\\\"m\\\"===e.unit||\\\"ft\\\"===e.unit,s=e.distance.toFixed(t?0:2),i=this._getUnits(e.unit);this.template(\\\"message\\\",{message:this._phrases.message.replace(\\\"<distance>\\\",s).replace(\\\"<units>\\\",i),nearestLocation:this._nearestLocation},this._container)}else if(this._requestedLocation){this.template(\\\"fallbackMessage\\\",{},this._container)}else{this.template(\\\"loadingMessage\\\",{},this._container)}},Nearby.prototype._getUnits=function(e){switch(e){case\\\"mi\\\":return this._phrases.unitsImperial.split(\\\"\/\\\")[1];case\\\"km\\\":return this._phrases.unitsMetric.split(\\\"\/\\\")[1];case\\\"ft\\\":return this._phrases.unitsImperial.split(\\\"\/\\\")[0];case\\\"m\\\":return this._phrases.unitsMetric.split(\\\"\/\\\")[0]}},Nearby.prototype._getNearestLocation=function(){if(this.tableId&&this._userLocation){var e=\\\"loc=\\\"+this._userLocation.lat+\\\",\\\"+this._userLocation.lng+\\\"&limit=1\\\";loadJSONP((creative.secure?creative.geoUrl:creative.insecureGeoUrl)+\\\"locationTables\/\\\"+this.tableId+\\\"\/locations\/?\\\"+e,function(e){e&&1===e.length?(this._nearestLocation=sanitizeLocationsData(e)[0],this.emit(\\\"nearestlocationfound\\\",this._nearestLocation)):(this._nearestLocation=null,this.emit(\\\"nearestlocationnotfound\\\")),this._requestedLocation=!0,this._updateMessage()}.bind(this))}},Nearby.prototype._locateUser=function(){var e=function(e){this._userLocation=e,this._getNearestLocation(),this.emit(\\\"userlocationfound\\\",this._userLocation)}.bind(this),t=function(){this._requestedLocation=!0,this._updateMessage(),this.emit(\\\"userlocationnotfound\\\")}.bind(this),s={isGeolocationPromptDisabled:this._isGeolocationPromptDisabled};this.parentUnit.userLocation.getLocation(e,t,s)},Nearby.prototype.updateTextStyle=function(){this.applyTextStyle(this._textElement)},Nearby.prototype.resetAction=function(e,t,s){this.resetFont(),Nearby.uber.resetAction.call(this,e,t,noop),s()},Nearby.prototype._setPhrases=function(e,t,s){\\\"string\\\"==typeof t?this.language=t:\\\"object\\\"==typeof t&&null!==t&&(s=t),this._phrases=this._translations[this.language||\\\"english\\\"],\\\"arabic\\\"===this.language?addClass(e,\\\"arabic\\\"):removeClass(e,\\\"arabic\\\"),\\\"object\\\"==typeof s&&null!==s&&extend(this._phrases,s)},Nearby.prototype.displayDistanceInUnits=function(e){this._distanceUnitsType=e,this._updateMessage()},Nearby.prototype.disableGeolocationPrompt=function(){this._isGeolocationPromptDisabled=!0},Nearby.prototype.setPhrases=function(e,t){this._setPhrases(this.node,e,t),this._updateMessage()},Nearby.templates={message:'<div class=\\\"message\\\"><%= htmlentitize(message) %><\/div><% if (this.displayName && nearestLocation.name) { %><div class=\\\"locationName\\\"><%= nearestLocation.name %><\/div><% } %><% if (this.displayAddress) { %><div class=\\\"locationAddressContainer\\\">    <% if (nearestLocation.address) { %><div class=\\\"locationAddress1\\\"><%= nearestLocation.address %><\/div><% } %>    <% if (nearestLocation.city || nearestLocation.state || nearestLocation.zip) { %>    <div class=\\\"locationAddress2\\\">        <% if (nearestLocation.city)  { %><%= nearestLocation.city %><%= nearestLocation.state ? \\\", \\\" : \\\"\\\" %> <% } %>        <% if (nearestLocation.state) { %><%= nearestLocation.state %> <% } %>        <% if (nearestLocation.zip)   { %><%= nearestLocation.zip %><% } %>    <\/div>    <% } %><\/div><% } %><% if (this.displayPhone && nearestLocation.phone) { %><div class=\\\"locationPhone\\\"><%= nearestLocation.phone %><\/div><% } %><% if (this.displayHours && nearestLocation.openingHours) { %><div class=\\\"locationHours\\\"><%= nearestLocation.openingHours %><\/div><% } %>',fallbackMessage:'<div class=\\\"fallbackMessage\\\"><%= htmlentitize(this._phrases.fallbackMessage) %><\/div>',loadingMessage:'<div class=\\\"loadingMessage\\\"><%= htmlentitize(this._phrases.loadingMessage) %><\/div>'},Nearby._defaultTranslations=function(){return{english:{message:\\\"<distance> <units> to the nearest location\\\",fallbackMessage:\\\"Sorry, no location found\\\",loadingMessage:\\\"Searching...\\\",unitsImperial:\\\"ft\/mi\\\",unitsMetric:\\\"m\/km\\\"},french:{message:\\\"<distance> <units> au lieu le plus proche\\\",fallbackMessage:\\\"D\\u00e9sol\\u00e9, aucun lieu trouv\\u00e9\\\",loadingMessage:\\\"Recherche...\\\",unitsImperial:\\\"pieds\/miles\\\",unitsMetric:\\\"m\/km\\\"},german:{message:\\\"<distance> <units> zum n\\u00e4chstgelegenen\\\",fallbackMessage:\\\"Kein Ort gefunden\\\",loadingMessage:\\\"Suche...\\\",unitsImperial:\\\"Fu\\u00df\/Meilen\\\",unitsMetric:\\\"m\/km\\\"},russian:{message:\\\"<distance> <units> \\u0434\\u043e \\u0431\\u043b\\u0438\\u0436\\u0430\\u0439\\u0448\\u0435\\u0433\\u043e o\\u0431\\u044a\\u0435\\u043a\\u0442\\\",fallbackMessage:\\\"\\u041a \\u0441\\u043e\\u0436\\u0430\\u043b\\u0435\\u043d\\u0438\\u044e, \\u043e\\u0431\\u044a\\u0435\\u043a\\u0442 \\u043d\\u0435 \\u043d\\u0430\\u0439\\u0434\\u0435\\u043d\\\",loadingMessage:\\\"\\u043f\\u043e\\u0438\\u0441\\u043a \\u0438\\u0434\\u0435\\u0442...\\\",unitsImperial:\\\"\\u0424\\u0443\\u0442\\u044b\/\\u043c\\u0438\\u043b\\u0438\\\",unitsMetric:\\\"\\u043c\/\\u043a\\u043c\\\"},arabic:{message:\\\"<units> <distance> \\u0625\\u0644\\u0649 \\u0623\\u0642\\u0631\\u0628 \\u0627\\u0644\\u0645\\u0648\\u0642\\u0639\\\",fallbackMessage:\\\"\\u0639\\u0630\\u0631\\u0627\\u064b\\u060c \\u0644\\u0627 \\u0645\\u0648\\u0642\\u0639 \\u0645\\u0648\\u062c\\u0648\\u062f\\\",loadingMessage:\\\"\\u0627\\u0644\\u0628\\u062d\\u062b...\\\",unitsImperial:\\\"\\u0623\\u0642\\u062f\\u0627\\u0645\/\\u0623\\u0645\\u064a\\u0627\\u0644\\\",unitsMetric:\\\"\\u0623\\u0645\\u062a\\u0627\\u0631\/\\u0643\\u064a\\u0644\\u0648\\u0645\\u062a\\u0631\\u0627\\u062a\\\"},japanese:{message:\\\"\\u6700\\u5bc4\\u306e\\u5834\\u6240\\u307e\\u3067 <distance> <units>\\\",fallbackMessage:\\\"\\u5834\\u6240\\u304c\\u898b\\u3064\\u304b\\u308a\\u307e\\u305b\\u3093\\u3067\\u3057\\u305f\\\",loadingMessage:\\\"\\u691c\\u7d22\\u4e2d...\\\",unitsImperial:\\\"\\u30d5\\u30a3\\u30fc\\u30c8\/\\u30de\\u30a4\\u30eb\\\",unitsMetric:\\\"m\/km\\\"},chineseSimplified:{message:\\\"<distance> <units> \\u5230\\u8ddd\\u79bb\\u6700\\u8fd1\\u7684\\u5730\\u70b9\\\",fallbackMessage:\\\"\\u62b1\\u6b49\\uff0c\\u627e\\u4e0d\\u5230\\u8fd9\\u4e2a\\u5730\\u70b9\\\",loadingMessage:\\\"\\u641c\\u7d22\\u4e2d...\\\",unitsImperial:\\\"\\u82f1\\u5c3a\/\\u82f1\\u91cc\\\",unitsMetric:\\\"\\u7c73\/\\u516c\\u91cc\\\"},chineseTraditional:{message:\\\"<distance> <units> \\u5230\\u8ddd\\u96e2\\u6700\\u8fd1\\u7684\\u5730\\u9ede\\\",fallbackMessage:\\\"\\u62b1\\u6b49\\uff0c\\u627e\\u4e0d\\u5230\\u9019\\u500b\\u5730\\u9ede\\\",loadingMessage:\\\"\\u641c\\u5c0b\\u4e2d...\\\",unitsImperial:\\\"\\u82f1\\u5c3a\/\\u82f1\\u91cc\\\",unitsMetric:\\\"\\u516c\\u5c3a\/\\u516c\\u91cc\\\"},italian:{message:\\\"<distance> <units> dalla posizione pi\\u00f9 vicina\\\",fallbackMessage:\\\"Spiacente, nessun indirizzo trovato\\\",loadingMessage:\\\"Ricerca...\\\",unitsImperial:\\\"piedi\/miglia\\\",unitsMetric:\\\"m\/km\\\"},spanish:{message:\\\"<distance> <units> para llegar a la ubicaci\\u00f3n m\\u00e1s cercana\\\",fallbackMessage:\\\"Disculpe, no se ha encontrado la ubicaci\\u00f3n\\\",loadingMessage:\\\"Buscando...\\\",unitsImperial:\\\"pies\/millas\\\",unitsMetric:\\\"m\/km\\\"},turkish:{message:\\\"En yak\\u0131n konum <distance> <units>\\\",fallbackMessage:\\\"\\u00dczg\\u00fcn\\u00fcm, konum bulunamad\\u0131\\\",loadingMessage:\\\"Ar\\u0131yor...\\\",unitsImperial:\\\"fut\/mil\\\",unitsMetric:\\\"m\/km\\\"}}};;\\nfunction Shapey(){}inherit(Shapey,ScreenObject),Shapey.toString=function(){return\\\"[Clazz Shapey]\\\"},Shapey.prototype.toString=function(){return\\\"[Shapey \\\"+this.localId+\\\"]\\\"},Object.defineProperties(Shapey.prototype,{_borderRoundness:{get:function(){var e=0,t=0,r=0,a=this._defaultValues.roundness;if(\\\"number\\\"==typeof this.roundness&&(a=this.roundness),a>0){var o=Math.min(this.getNaturalSize().height,this.getNaturalSize().width),s=o\/2,i=Math.max(this.getNaturalSize().height,this.getNaturalSize().width),h=i\/2;if(50>a){var d=a\/50;e=s*d}else{var n=(a-50)\/50,l=(h-s)*n,p=s+l;t=this.getNaturalSize().width==o?s:p,r=this.getNaturalSize().height==o?s:p}}return this.shadow&&ios(\\\"8\\\")&&window.devicePixelRatio>=3&&(1>e&&(e=1),1>t&&(t=1),1>r&&(r=1)),50>a?e+\\\"px\\\":t+\\\"px \\\"+r+\\\"px\\\"}}}),Shapey.prototype.awake=function(){Shapey.uber.awake.call(this),this._defaultValues={backgroundColor:\\\"#365c99\\\",borderColor:\\\"#000000\\\",borderWidth:5,roundness:0,shadowAngle:0,shadowBlur:10,shadowColor:\\\"rgba(0,0,0,0.5)\\\",shadowDistance:0}},Shapey.prototype.createNode=function(){var e=Shapey.uber.createNode.call(this);this._privateApiTracked={},addClass(e,\\\"touchable\\\"),this._shapey=document.createElement(\\\"div\\\");var t=this._defaultValues.backgroundColor;if(\\\"string\\\"==typeof this.backgroundColorFeedFieldKey){FeedData.checkAndTrackValue(this.backgroundColorFeedFieldKey,this.backgroundColorFeedRowIndex,this.constructor.name,\\\"backgroundColorFeedFieldKey\\\");var r=FeedData.getFieldValueByKey(this.backgroundColorFeedFieldKey,this.backgroundColorFeedRowIndex);t=\\\"string\\\"==typeof r&&FeedData.isCorrectFieldType(this.backgroundColorFeedFieldKey,this.constructor.name,\\\"backgroundColorFeedFieldKey\\\")?r:\\\"transparent\\\"}else\\\"string\\\"==typeof this.backgroundColor&&(t=this.backgroundColor);if(Color.isGradient(t)){var a=Color.createGradientStyle(t);this.addStyle({\\\".gradient-shapey\\\":a}),addClass(this._shapey,\\\"gradient-shapey\\\")}else this._shapey.style.backgroundColor=t;if(this.border){var o=\\\"undefined\\\"!=typeof this.borderColor?this.borderColor:this._defaultValues.borderColor,s=\\\"number\\\"==typeof this.borderWidth?this.borderWidth:this._defaultValues.borderWidth;if(this._shapey.style.borderColor=o,this._shapey.style.borderStyle=\\\"solid\\\",this._shapey.style.borderWidth=s+\\\"px\\\",deviceInfo.browser.chrome()||deviceInfo.browser.samsung()){var i=\\\"1\\\";if(Color.isRgba(o)){var h=Color.patternRgba.exec(o);i=h[Color.matchRgbaAlpha]}\\\"1\\\"===i&&(this._shapey.style.backgroundClip=\\\"border-box\\\")}}if(this.shadow){var d=(\\\"number\\\"==typeof this.shadowAngle?this.shadowAngle:this._defaultValues.shadowAngle)*(Math.PI\/180),n=\\\"number\\\"==typeof this.shadowBlur?this.shadowBlur:this._defaultValues.shadowBlur,l=\\\"undefined\\\"!=typeof this.shadowColor?this.shadowColor:this._defaultValues.shadowColor,p=\\\"number\\\"==typeof this.shadowDistance?this.shadowDistance:this._defaultValues.shadowDistance,u=Math.round(p*Math.cos(d)),y=Math.round(p*Math.sin(d));celtra.styler.css(this._shapey,\\\"boxShadow\\\",u+\\\"px \\\"+y+\\\"px \\\"+n+\\\"px \\\"+l)}return e.appendChild(this._shapey),e},Shapey.prototype.redrawLayout=function(){if(this._shapey){var e=this._borderRoundness;parseInt(e,10)>0&&(this._shapey.style.borderTopLeftRadius=e,this._shapey.style.borderTopRightRadius=e,this._shapey.style.borderBottomLeftRadius=e,this._shapey.style.borderBottomRightRadius=e)}},Shapey.prototype._track=function(e){this._privateApiTracked[e]||(this._privateApiTracked[e]=!0,creative.track({name:\\\"retiredFeatureUsed\\\",featureType:\\\"apifunction\\\",featureName:e}))},Shapey.deprecatedPropertiesArray=[\\\"borderRoundness\\\",\\\"shapey\\\",\\\"defaultValues\\\"],Shapey.deprecatedPropertiesObject={},Shapey.deprecatedPropertiesArray.forEach(function(e){Shapey.deprecatedPropertiesObject[e]={get:function(){return this._track(\\\"Shapey.\\\"+e+\\\".getter\\\"),this[\\\"_\\\"+e]},set:function(t){this._track(\\\"Shapey.\\\"+e+\\\".setter\\\"),this[\\\"_\\\"+e]=t}}}),Object.defineProperties(Shapey.prototype,Shapey.deprecatedPropertiesObject);;\\nfunction DynamicContent(){}inherit(DynamicContent,ScreenObject),DynamicContent.toString=function(){return\\\"[Clazz DynamicContent]\\\"},DynamicContent.prototype.toString=function(){return\\\"[DynamicContent \\\"+this.localId+\\\"]\\\"},DynamicContent.prototype.createNode=function(){var t=DynamicContent.uber.createNode.call(this),e=this._getChosenContainer();return extend(e,SceneHost),this.parentScreen.nestedSceneHosts.push(e),e._appear=function(){this._experimentSignal.trackExposure()}.bind(this),e.redrawLayout=function(){this.node.style.width=\\\"0px\\\",this.node.style.height=\\\"0px\\\",this.node.style.left=\\\"0px\\\",this.node.style.top=\\\"0px\\\",this.node.style.overflow=\\\"visible\\\"},e.getActionsExecutedOnAppear=function(){return e.fireTriggersDryRun(\\\"conditionMet\\\",null,noop,new ActionContext(this))}.bind(this),this.incrementLoadingCount(),t.appendChild(e.getNode(this.decrementLoadingCount)),t},DynamicContent.prototype.redrawLayout=function(){this.node.style.width=\\\"0px\\\",this.node.style.height=\\\"0px\\\",this.node.style.left=\\\"0px\\\",this.node.style.top=\\\"0px\\\",this.node.style.overflow=\\\"visible\\\"},DynamicContent.prototype._getChosenContainer=function(){if(\\\"undefined\\\"!=typeof this._selectedContainer)return this._selectedContainer;var t=\\\"Creative\\\"+ucfirst(this.signalType);this._experimentSignal=creative.experiments.get(t,[creative.id,this.localId]);var e=this.content.filter(function(t){return t.reportingLabel==this._experimentSignal.chosenVariant}.bind(this))[0],n=this.content.filter(function(t){return\\\"default\\\"==t.signalType})[0];return this._selectedContainer=e?e:n,this._selectedContainer},DynamicContent.prototype.getNestedContainers=function(){return this.content},DynamicContent.prototype.getActiveContainers=function(){return[this._getChosenContainer()]},DynamicContent.prototype.positionUsingTransforms=retFalse,DynamicContent.prototype.sizeUsingTransforms=retFalse,DynamicContent.prototype.getNaturalSize=function(){return this.originalSize},DynamicContent.prototype._appear=function(){var t=this._getChosenContainer();t.appear();var e=new ActionContext(this);t.fireTriggers(\\\"conditionMet\\\",null,noop,e)},DynamicContent.prototype._disappear=function(){this._getChosenContainer().disappear()};;\\nvar DynamicFeed={};DynamicFeed.toString=function(){return\\\"[Clazz DynamicFeed]\\\"},DynamicFeed.checkChoiceFeedAction=function(e,d,i){FeedData.checkAndTrackValue(d.feedFieldKey,d.feedRowIndex,d.caller.method,\\\"feedFieldKey\\\");var a=FeedData.getFieldValueByKey(d.feedFieldKey,d.feedRowIndex);\\\"string\\\"==typeof a&&FeedData.isCorrectFieldType(d.feedFieldKey,d.caller.method,\\\"feedFieldKey\\\")&&d.outcomes.forEach(function(d){return\\\"string\\\"==typeof d.choice&&d.choice.toLowerCase()===a.toLowerCase()?(d.action||nullai)(e,i):void 0})},DynamicFeed.goToFeedURLAction=function(e,d,i){FeedData.checkAndTrackValue(d.feedFieldKey,d.feedRowIndex,d.caller.method,\\\"feedFieldKey\\\"),d.url=\\\"\\\";var a=FeedData.getFieldValueByKey(d.feedFieldKey,d.feedRowIndex);\\\"string\\\"==typeof a&&FeedData.isCorrectFieldType(d.feedFieldKey,d.caller.method,\\\"feedFieldKey\\\")&&(d.url=a),e.screen.parentUnit.goToURLAction(e,d,i)};;\\nfunction File(t){if(t){if(\\\"string\\\"==typeof t)return void(this.url=t);if(!t.url)throw\\\"Url parameter must be set.\\\";if(deep(this,t),0===this.url.indexOf(creative.cachedApiUrl)||0===this.url.indexOf(creative.insecureCachedApiUrl)){var i=this.url.split(\\\"\/\\\");\\\"undefined\\\"==typeof this.name&&(this.name=i[i.length-1]||\\\"unknown\\\"),\\\"undefined\\\"==typeof this.blobHash&&(this.blobHash=i[i.length-2]),\\\"undefined\\\"==typeof this.retinaScaleFactor&&(this.retinaScaleFactor=File.getRetinaScaleFactor(this.name)),\\\"undefined\\\"==typeof this.quality&&(this.quality=File.getDefaultQuality(this.name))}}}File.toString=function(){return\\\"[Clazz File]\\\"},File.prototype.toString=function(){return\\\"[File \\\"+this.localId+\\\"(\\\"+this.name+\\\"\/\\\"+this.url+\\\")]\\\"},File.prototype.getOriginalUrl=function(){if(this.url){if(-1!==this.url.indexOf(\\\":\/\/\\\"))return this.url;if(\\\"\/\\\"===this.url[0])throw\\\"An absolute path as URL?\\\";return creative.resourceUrl+this.url}if(this.blobHash)return(creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\\\"blobs\/\\\"+this.blobHash+\\\"\/\\\"+encodeURIComponent(this.name);throw\\\"Neither url nor blobHash set?\\\"},File.prototype.getUrl=function(t){var i=this.getOriginalUrl();return this.optimizable&&(i+=\\\"?transform=crush\\\",this.quality>-1&&(i+=\\\"&quality=\\\"+this.quality),t&&this.optimizedWidth(t)>0&&this.optimizedHeight(t)>0&&(i+=\\\"&resize=\\\"+this.optimizedWidth(t)+\\\"x\\\"+this.optimizedHeight(t)),this.dynamic&&\\\"string\\\"==typeof this.fitting&&this.fitting.length>0&&(i+=\\\"&fitting=\\\"+this.fitting)),i},File.prototype.getDataUri=function(t,i){t instanceof Function&&(i=t,t={});var e=!this.dynamic&&(\\\"undefined\\\"!=typeof this.blobHash||this.url.indexOf(\\\"api\/animateySprites\\\")>=0),n=creative.adapter.protoLoading.dataURIsSupported,r=creative.adapter.protoLoading.blobURIsSupported,a=\\\"treatment\\\"===(creative.experiments.get(\\\"UseDataURIsGlobally\\\")||{}).chosenVariant,h=1==creative.runtimeParams.dataURIsEnabled||1==creative.runtimeParams.turnOnBatching,o=(n||r)&&!creative.adapter.autoDecodesURLParams,s=(!!t.preferBatching||a||h)&&o&&e,l=this.getUrl(t.creativeUnitVariantId);\\\"undefined\\\"!=typeof this.dataUri?defer(function(){i(this.dataUri)}.bind(this),0,\\\"File.getDataUri defer callback, has dataUri\\\"):s?creative.batcher.getDataUri(l,i):defer(function(){i(l)},0,\\\"File.getDataUri defer callback, url\\\")},Object.defineProperties(File.prototype,{dynamic:{get:function(){return\\\"undefined\\\"!=typeof this._dynamic&&this._dynamic},set:function(t){this._dynamic=t},enumerable:!0,configurable:!1},optimizable:{get:function(){var t=this.getOriginalUrl(),i=0===t.indexOf(creative.cachedApiUrl)||0===t.indexOf(creative.insecureCachedApiUrl),e=creative.experiments?creative.experiments.get(\\\"FeedImageOptimization\\\")||{}:{},n=\\\"on\\\"===e.chosenVariant,r=i&&(!this.dynamic||n),a=!!String(this.name).match(\/\\\\.(gif|png|jpe?g)$\/i);return r&&a},enumerable:!0,configurable:!1},retina:{get:function(){return this.retinaScaleFactor>1},enumerable:!0,configurable:!1},width:{get:function(){return this.retina?Math.round(this.meta.width\/this.retinaScaleFactor):this.meta.width},enumerable:!0,configurable:!1},height:{get:function(){return this.retina?Math.round(this.meta.height\/this.retinaScaleFactor):this.meta.height},enumerable:!0,configurable:!1},optimizedWidth:{get:function(){return function(t){if(\\\"number\\\"!=typeof t||!this.optimizationSettings)return null;for(var i=null,e=0;e<this.optimizationSettings.length;e++){var n=this.optimizationSettings[e];if(n.creativeUnitVariantId===t&&n.optimizedWidth){i=n;break}}return i&&(i.optimizedWidth<this.meta.width||this.dynamic)?i.optimizedWidth:null}.bind(this)},enumerable:!0,configurable:!1},optimizedHeight:{get:function(){return function(t){if(\\\"number\\\"!=typeof t||!this.optimizationSettings)return null;for(var i=null,e=0;e<this.optimizationSettings.length;e++){var n=this.optimizationSettings[e];if(n.creativeUnitVariantId===t&&n.optimizedHeight){i=n;break}}return i&&(i.optimizedHeight<this.meta.height||this.dynamic)?i.optimizedHeight:null}.bind(this)},enumerable:!0,configurable:!1}}),File.MAXIMUM_SUPPORTED_RETINA_SCALE=4,File.getDefaultQuality=function(t){t=String(t);var i=\/\\\\.png$\/i.test(t),e=\/\\\\.jpe?g$\/i.test(t),n=\/\\\\.gif$\/i.test(t),r=File.getRetinaScaleFactor(t)>1,a=-1;return i?a=r?150:256:n?a=r?75:85:e&&(a=r?65:85),a},File.getRetinaScaleFactor=function(t){t=String(t);var i=new RegExp(\\\"^.*(@([2-\\\"+File.MAXIMUM_SUPPORTED_RETINA_SCALE+\\\"]+)x)\\\"),e=t.toLowerCase().match(i);return e&&e[2]?parseInt(e[2],10):1};;\\nfunction Font(){}inherit(Font,FontBase),Font.toString=function(){return\\\"[Clazz Font]\\\"},Font.prototype.toString=function(){return\\\"[Font \\\"+this.localId+\\\"]\\\"},Font.prototype.hasFeedFields=function(){return this.feedFields instanceof Array},Font.prototype.getSubsetString=function(){var t=Font.uber.getSubsetString.apply(this);if(!this.hasFeedFields())return t;if(\\\"string\\\"==typeof this.extendedSubsetString)return this.extendedSubsetString;var e=t||\\\"\\\";return this.feedFields.forEach(function(t){var n=FeedData.getFieldRowsByKey(t);n.forEach(function(t){\\\"string\\\"==typeof t.value&&(e+=t.value)})}),this.extendedSubsetString=e.replace(\/[\\\\r\\\\n\\\\t\\\\f\\\\v]\/g,\\\"\\\").split(\\\"\\\").filter(function(t,e,n){return n.indexOf(t)===e}).sort().join(\\\"\\\"),this.extendedSubsetString},Font.prototype.getUnicodeRange=function(){return this.hasFeedFields()?\\\"\\\":Font.uber.getUnicodeRange.apply(this)};;\\nvar Form={};Form.toString=function(){return\\\"[Clazz Form]\\\"},Form.submitAction=function(e,t,r){this.submitInProgress||(this.submitInProgress=!0,this.hasFailureCallback=t.onFailure?!1:!0,e.track({name:\\\"formSubmissionAttempted\\\",label:t.reportLabel}),Form.validateAction(e,{formElements:t.formElements,onSuccess:function(e,r){var n;if(\\\"table\\\"==t.submitTarget&&t.tableId)n=creative.apiUrl+\\\"formTables\/\\\"+t.tableId+\\\"\/rows\\\";else{if(\\\"url\\\"!=t.submitTarget||!t.url)return(t.onFailure||nullai)(e,r);n=t.url}var i={fields:{}};t.formElements.forEach(function(e){i.fields[e.fieldName]=e.getField()});var a=new XMLHttpRequest;a.open(\\\"POST\\\",n),a.setRequestHeader(\\\"Content-Type\\\",\\\"application\/json; charset=utf-8\\\"),a.onreadystatechange=function(){if(4===a.readyState){var n=200<=a.status&&a.status<300;n&&e.track({name:\\\"formSubmissionSucceeded\\\",label:t.reportLabel});var i=n?t.onSuccess:t.onFailure;(i||nullai)(e,r),this.submitInProgress=!1}}.bind(this),a.send(JSON.stringify(i))}.bind(this),onFailure:function(e,r){(t.onFailure||nullai)(e,r),this.submitInProgress=!1}.bind(this)},r))},Form.validateAction=function(e,t,r){function n(){s=[];for(var e in creative.units){var t=creative.units[e];if(t.isAppearing){var r=t.currentScreen,n=r.node.querySelectorAll(\\\"input, textarea\\\");if(n)for(var i=0;i<n.length;i++){var a=n[i],o={input:a,disabled:a.disabled};n[i].blur(),n[i].disabled=!0,s.push(o)}break}}}function i(){s.forEach(function(e){e.input.disabled=e.disabled})}function a(){android(\\\"4.1\\\")&&defer(i,450),r()}for(var o=0;o<t.formElements.length;o++){var u=t.formElements[o],l=(u.getField(),t.formElements[o].isValid());if(l!==!0)return this.hasFailureCallback||!t.onFailure?(android(\\\"4.1\\\")&&n(),u.parentUnit.alertAction(e,{text:l},function(){(t.onFailure||nullai)(e,a)})):(t.onFailure||nullai)(e,r),void(this.hasFailureCallback=null)}this.hasFailureCallback=null,(t.onSuccess||nullai)(e,r);var s=[]},Form.setValueAction=function(e,t,r){function n(e,t){switch(e.constructor.name){case\\\"CheckBox\\\":return\\\"boolean\\\"==typeof t;case\\\"Input\\\":return\\\"string\\\"==typeof t}return!1}function i(e,t){switch(e.constructor.name){case\\\"Input\\\":return e.setValue(t);case\\\"CheckBox\\\":return e.setCheck(t)}}if(!t.target)return defer(r);var a=t.target,o=t.value;defer(n(a,o)?function(){i(a,o),r()}:r)},Form.checkValueAction=function(e,t,r){if(!t.target)return r();var n=t.target,i=n.getField().value?\\\"Checked\\\":\\\"Not Checked\\\",a=t.outcomes.filter(function(e){return e.outcomeName===i?!0:!1})[0],o=a&&a.action;(o||nullai)(e,r)};;\\nvar SKStoreView=function(e){this._itunesId=this.getItunesId(e),this._skStoreLoaded=!1,this._inMobiNamespace=mraid};SKStoreView.prototype.getItunesId=function(e){return new RegExp(\\\"^\\\\\\\\d+$\\\").test(e)?e:e.indexOf(\\\"itunes.apple.com\\\")?e.match(\/id\\\\d+\/g)[0].match(\/\\\\d+\/g)[0]:null},SKStoreView.prototype.load=function(){this._itunesId&&(\\\"undefined\\\"!=typeof imraid&&\\\"function\\\"==typeof imraid.loadSKStore&&(this._inMobiNamespace=imraid),\\\"function\\\"==typeof this._inMobiNamespace.loadSKStore&&(this._inMobiNamespace.addEventListener(\\\"SKStoreContentLoaded\\\",function(){this._skStoreLoaded=!0}.bind(this)),this._inMobiNamespace.loadSKStore(this._itunesId),this._inMobiNamespace.addEventListener(\\\"SKStoreIsOpened\\\",function(){}.bind(this)),this._inMobiNamespace.addEventListener(\\\"SKStoreIsClosed\\\",function(){this._skStoreLoaded=!1,this._inMobiNamespace.loadSKStore(this._itunesId)}.bind(this))))},SKStoreView.prototype.show=function(e){var i=this.getItunesId(e)===this._itunesId;this._skStoreLoaded&&i?(this._inMobiNamespace.showSKStore(this._itunesId),this._skStoreLoaded=!1):\\\"undefined\\\"!=typeof _im_imai&&\\\"function\\\"==typeof _im_imai.openExternal?_im_imai.openExternal(e):\\\"function\\\"==typeof mraid.open?mraid.open(e):mraid.openExternal(e)};;\\n\";\n            head.appendChild(js);\n\n        \n\n                \n\n                \/\/ Run!\n                \/\/ Check for runtimeParams to prevent IE 10 from initializing the creative early when host page is refreshed\n                if (typeof runtimeParams === 'undefined') return;\n\n                Creative.init({\"id\":\"962250ad\",\"clazz\":\"Banner\",\"intendedDeviceType\":\"Tablet\",\"name\":\"12894_Toro_728x90_CrossDevice_R0\",\"units\":{\"banner\":{\"localId\":1,\"clazz\":\"CreativeUnit\",\"master\":{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"triggers\":[{\"localId\":8145,\"type\":\"firstAppear\",\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":8147,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":8146,\"name\":\"Nearby SpecialCharacter CharEntities TempFix\"},\"isAnimated\":false}]}}]}},\"isCustom\":false,\"isAnimated\":false}],\"scenes\":[],\"showOverflow\":false,\"title\":\"Master\",\"localId\":2,\"objects\":[{\"layoutSpecificValues\":[{\"position\":{\"top\":\"0px\",\"left\":\"0px\"},\"size\":{\"width\":\"100.00%\",\"height\":\"100.00%\"},\"rotation\":0,\"opacity\":1,\"hidden\":true}],\"triggers\":[{\"localId\":9376,\"type\":\"tap\",\"parameters\":{},\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":9378,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\".Click\/Exit URL (Primary)\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9380,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Legal Text Interaction]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9381,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"Twitter Share Button\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9382,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"Facebook Share Button\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9383,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Multipage Link Tap\/Click]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9384,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Video Replay]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9385,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Video Unmute]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9386,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Video Mute]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9387,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Video Tap\/Click]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9388,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Video Pause]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9389,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Video Start]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9390,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Video Complete]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9392,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"Inline Video URL\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9394,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Btn Previous Panel]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9395,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Btn Next Panel]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9401,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"Carousel URL 1\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9402,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"Carousel URL 2\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9403,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"Carousel URL 3\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9404,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"Carousel URL 4\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9405,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"Carousel URL 5\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9416,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"Carousel Video URL 1\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9417,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"Carousel Video URL 2\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9418,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"Carousel Video URL 3\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9419,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"Carousel Video URL 4\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9420,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"Carousel Video URL 5\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9426,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 1 Replay]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9427,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 2 Replay]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9428,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 3 Replay]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9429,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 4 Replay]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9430,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 5 Replay]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9431,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 1 Unmute]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9432,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 2 Unmute]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9433,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 3 Unmute]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9434,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 4 Unmute]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9435,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 5 Unmute]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9436,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 1 Mute]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9437,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 2 Mute]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9438,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 3 Mute]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9439,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 4 Mute]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9440,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 5 Mute]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9441,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 1 Tap\/Click]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9442,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 2 Tap\/Click]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9443,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 3 Tap\/Click]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9444,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 4 Tap\/Click]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9445,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 5 Tap\/Click]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9446,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 1 Start]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9447,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 2 Start]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9448,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 3 Start]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9449,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 4 Start]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9450,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 5 Start]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9451,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 1 Complete]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9452,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 2 Complete]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9453,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 3 Complete]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9454,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 4 Complete]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9455,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\"[Carousel Video 5 Complete]\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9377,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"goToURL\",\"isStatic\":false,\"args\":{\"name\":\"Open Website 31\",\"url\":\"#\",\"reportLabel\":\".Click\/Exit URL (Primary)\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9379,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"getApp\",\"isStatic\":false,\"args\":{\"appStoreUrl\":\"#\",\"androidMarketAppId\":\"#\",\"reportLabel\":\".Click\/Exit URL (Primary)\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9391,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"goToURL\",\"isStatic\":false,\"args\":{\"name\":\"Open Website 31\",\"url\":\"#\",\"reportLabel\":\"Inline Video URL\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9393,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"getApp\",\"isStatic\":false,\"args\":{\"appStoreUrl\":\"#\",\"androidMarketAppId\":\"#\",\"reportLabel\":\"Inline Video URL\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9396,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"goToURL\",\"isStatic\":false,\"args\":{\"name\":\"Open Website 98\",\"url\":\"#\",\"reportLabel\":\"Carousel URL 1\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9397,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"goToURL\",\"isStatic\":false,\"args\":{\"name\":\"Open Website 98\",\"url\":\"#\",\"reportLabel\":\"Carousel URL 2\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9398,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"goToURL\",\"isStatic\":false,\"args\":{\"name\":\"Open Website 98\",\"url\":\"#\",\"reportLabel\":\"Carousel URL 3\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9399,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"goToURL\",\"isStatic\":false,\"args\":{\"name\":\"Open Website 98\",\"url\":\"#\",\"reportLabel\":\"Carousel URL 4\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9400,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"goToURL\",\"isStatic\":false,\"args\":{\"name\":\"Open Website 98\",\"url\":\"#\",\"reportLabel\":\"Carousel URL 5\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9406,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"getApp\",\"isStatic\":false,\"args\":{\"appStoreUrl\":\"#\",\"androidMarketAppId\":\"#\",\"reportLabel\":\"Carousel URL 1\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9407,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"getApp\",\"isStatic\":false,\"args\":{\"appStoreUrl\":\"#\",\"androidMarketAppId\":\"#\",\"reportLabel\":\"Carousel URL 2\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9408,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"getApp\",\"isStatic\":false,\"args\":{\"appStoreUrl\":\"#\",\"androidMarketAppId\":\"#\",\"reportLabel\":\"Carousel URL 3\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9409,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"getApp\",\"isStatic\":false,\"args\":{\"appStoreUrl\":\"#\",\"androidMarketAppId\":\"#\",\"reportLabel\":\"Carousel URL 4\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9410,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"getApp\",\"isStatic\":false,\"args\":{\"appStoreUrl\":\"#\",\"androidMarketAppId\":\"#\",\"reportLabel\":\"Carousel URL 5\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9411,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"goToURL\",\"isStatic\":false,\"args\":{\"name\":\"Open Website 31\",\"url\":\"#\",\"reportLabel\":\"Carousel Video URL 1\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9412,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"goToURL\",\"isStatic\":false,\"args\":{\"name\":\"Open Website 31\",\"url\":\"#\",\"reportLabel\":\"Carousel Video URL 2\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9413,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"goToURL\",\"isStatic\":false,\"args\":{\"name\":\"Open Website 31\",\"url\":\"#\",\"reportLabel\":\"Carousel Video URL 3\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9414,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"goToURL\",\"isStatic\":false,\"args\":{\"name\":\"Open Website 31\",\"url\":\"#\",\"reportLabel\":\"Carousel Video URL 4\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9415,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"goToURL\",\"isStatic\":false,\"args\":{\"name\":\"Open Website 31\",\"url\":\"#\",\"reportLabel\":\"Carousel Video URL 5\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9421,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"getApp\",\"isStatic\":false,\"args\":{\"appStoreUrl\":\"#\",\"androidMarketAppId\":\"#\",\"reportLabel\":\"Carousel Video URL 1\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9422,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"getApp\",\"isStatic\":false,\"args\":{\"appStoreUrl\":\"#\",\"androidMarketAppId\":\"#\",\"reportLabel\":\"Carousel Video URL 2\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9423,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"getApp\",\"isStatic\":false,\"args\":{\"appStoreUrl\":\"#\",\"androidMarketAppId\":\"#\",\"reportLabel\":\"Carousel Video URL 3\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9424,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"getApp\",\"isStatic\":false,\"args\":{\"appStoreUrl\":\"#\",\"androidMarketAppId\":\"#\",\"reportLabel\":\"Carousel Video URL 4\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":9425,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"getApp\",\"isStatic\":false,\"args\":{\"appStoreUrl\":\"#\",\"androidMarketAppId\":\"#\",\"reportLabel\":\"Carousel Video URL 5\"},\"isAnimated\":false}]}}]}},\"isCustom\":false,\"isAnimated\":false}],\"name\":\"Hotspot Banner (All Functions)\",\"aspectRatioLocked\":false,\"zIndex\":1,\"hiddenInBuilder\":true,\"lockedInBuilder\":false,\"clazz\":\"Hotspot\",\"localId\":9456,\"fieldName\":\"Hotspot Banner (All Functions)\",\"isAnimated\":false}],\"clazz\":\"Screen\",\"guidelines\":[],\"isAnimated\":false,\"immediatelyPlayedScenes\":{\"appear\":{\"scenesLocalIds\":[]},\"firstAppear\":{\"scenesLocalIds\":[]}},\"reachableScreensLocalIds\":[],\"dynamicReachableScreenConditions\":{}},\"screens\":[{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"triggers\":[{\"localId\":17,\"type\":\"appear\",\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":18,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":495,\"name\":\"(Start) Nearby | Dynamic Address Text Shortening JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":19,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":496,\"name\":\"(Start) Nearby | Dynamic Distance Text Shortening JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":20,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":497,\"name\":\"(Start) Locator | Initialize LocatorMap JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":21,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":498,\"name\":\"(Start) Locator | PE Team Pixel Tracking\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":22,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":499,\"name\":\"(Start) Countdown | Custom Formatting JS\"},\"isAnimated\":false}]}}]}},\"isCustom\":false,\"isAnimated\":false},{\"localId\":23,\"type\":\"beforeAppear\",\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":24,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":500,\"name\":\"(Start) Nearby | Initialize Nearby_DynamicAddress JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":25,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":501,\"name\":\"(Start) Nearby | Initialize Nearby_DynamicDistanceAway JS\"},\"isAnimated\":false}]}}]}},\"isCustom\":false,\"isAnimated\":false}],\"scenes\":[],\"showOverflow\":true,\"title\":\"Start\",\"localId\":26,\"objects\":[{\"layoutSpecificValues\":[{\"position\":{\"left\":\"0%\",\"top\":\"0%\"},\"size\":{\"width\":\"100%\",\"height\":\"100%\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"triggers\":[],\"name\":\"Creative Relevancy Group\",\"aspectRatioLocked\":false,\"zIndex\":1,\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"signalType\":\"time\",\"clazz\":\"DynamicContent\",\"localId\":27,\"fieldName\":\"Creative Relevancy Group\",\"content\":[{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"triggers\":[],\"name\":\"Default\",\"layoutSpecificValues\":[{\"size\":{\"width\":\"100%\",\"height\":\"100%\"}}],\"aspectRatioLocked\":false,\"scenes\":[],\"signalType\":\"default\",\"conditionType\":\"default\",\"conditions\":[],\"localId\":31,\"objects\":[{\"layoutSpecificValues\":[{\"position\":{\"left\":\"0px\",\"top\":\"0px\"},\"size\":{\"width\":\"100.00%\",\"height\":\"100.00%\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"triggers\":[],\"name\":\"BG Shape\",\"aspectRatioLocked\":true,\"zIndex\":2,\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"backgroundColorFeedFieldKey\":null,\"backgroundColor\":\"rgba(255,255,255,1)\",\"border\":false,\"borderWidth\":5,\"borderColor\":\"#000000\",\"roundness\":0,\"shadow\":false,\"shadowDistance\":0,\"shadowBlur\":10,\"shadowAngle\":0,\"shadowColor\":\"rgba(0,0,0,0.5)\",\"clazz\":\"Shapey\",\"localId\":52,\"fieldName\":\"BG Shape\",\"isAnimated\":false},{\"layoutSpecificValues\":[{\"position\":{\"left\":\"0px\",\"top\":\"0px\"},\"size\":{\"width\":\"100.00%\",\"height\":\"100.00%\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"triggers\":[],\"name\":\"Hotspot URL\",\"aspectRatioLocked\":false,\"zIndex\":13,\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"clazz\":\"Group\",\"localId\":53,\"fieldName\":\"Hotspot URL\",\"content\":{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"triggers\":[],\"name\":\"Container\",\"layoutSpecificValues\":[{\"size\":{\"width\":\"100%\",\"height\":\"100%\"}}],\"aspectRatioLocked\":false,\"localId\":54,\"objects\":[{\"layoutSpecificValues\":[{\"position\":{\"top\":\"0px\",\"left\":\"0px\"},\"size\":{\"width\":\"100.00%\",\"height\":\"100.00%\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"triggers\":[],\"name\":\"Hotspot (Landing Page w\/Feed)\",\"aspectRatioLocked\":false,\"zIndex\":8,\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"clazz\":\"Fallback\",\"localId\":62,\"fieldName\":\"Hotspot (Landing Page w\/Feed)\",\"availableContent\":{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"triggers\":[],\"name\":\"Available\",\"layoutSpecificValues\":[{\"size\":{\"width\":\"100%\",\"height\":\"100%\"}}],\"aspectRatioLocked\":false,\"scenes\":[],\"localId\":63,\"objects\":[{\"layoutSpecificValues\":[{\"position\":{\"top\":\"0px\",\"left\":\"0px\"},\"size\":{\"width\":\"100.00%\",\"height\":\"100.00%\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"triggers\":[{\"localId\":64,\"type\":\"tap\",\"parameters\":{},\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":65,\"disabled\":false,\"actionClazz\":\"Creative\",\"instanceLocalId\":null,\"method\":\"trackCustomEvent\",\"isStatic\":true,\"args\":{\"name\":\".Click\/Exit URL (Primary)\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":66,\"disabled\":false,\"actionClazz\":\"DynamicFeed\",\"instanceLocalId\":null,\"method\":\"goToFeedURL\",\"isStatic\":true,\"args\":{\"name\":\"Open Website (from Feed) 32\",\"feedFieldKey\":\"LocationTableImplicitField\/79536890\/website\",\"reportLabel\":\"12894_Toro_nearby-locatorFeed_data_R0 - Website\"},\"isAnimated\":false}]}}]}},\"isCustom\":false,\"isAnimated\":false}],\"name\":\"Hotspot (Landing Page w\/Feed)\",\"aspectRatioLocked\":false,\"zIndex\":1,\"hiddenInBuilder\":true,\"lockedInBuilder\":false,\"clazz\":\"Hotspot\",\"localId\":67,\"fieldName\":\"Hotspot (Landing Page w\/Feed)\",\"isAnimated\":false}],\"clazz\":\"NestedContainer\",\"isAnimated\":false},\"notAvailableContent\":{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"triggers\":[],\"name\":\"Not Available\",\"layoutSpecificValues\":[{\"size\":{\"width\":\"100%\",\"height\":\"100%\"}}],\"aspectRatioLocked\":false,\"scenes\":[],\"localId\":68,\"objects\":[{\"layoutSpecificValues\":[{\"position\":{\"top\":\"0px\",\"left\":\"0px\"},\"size\":{\"width\":\"100.00%\",\"height\":\"100.00%\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"triggers\":[{\"localId\":69,\"type\":\"tap\",\"parameters\":{},\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":70,\"disabled\":false,\"actionClazz\":\"CreativeUnit\",\"instanceLocalId\":1,\"method\":\"goToURL\",\"isStatic\":false,\"args\":{\"name\":\"Open Website 33\",\"url\":\"https:\/\/www.toro.com\/en\",\"reportLabel\":\".Click\/Exit URL (Primary)\"},\"isAnimated\":false}]}}]}},\"isCustom\":false,\"isAnimated\":false}],\"name\":\"*Fallback* Hotspot (Landing Page w\/Feed)\",\"aspectRatioLocked\":false,\"zIndex\":1,\"hiddenInBuilder\":true,\"lockedInBuilder\":false,\"clazz\":\"Hotspot\",\"localId\":71,\"fieldName\":\"*Fallback* Hotspot (Landing Page w\/Feed)\",\"isAnimated\":false}],\"clazz\":\"NestedContainer\",\"isAnimated\":false},\"isAnimated\":false,\"contentFields\":[{\"feedFieldKey\":\"LocationTableImplicitField\/79536890\/website\",\"initiator\":\"goToFeedURL\",\"property\":\"feedFieldKey\",\"requestedRows\":1}]}],\"clazz\":\"NestedContainer\",\"isAnimated\":false},\"isAnimated\":false},{\"layoutSpecificValues\":[{\"position\":{\"left\":\"524px\",\"top\":\"0px\"},\"size\":{\"width\":\"197px\",\"height\":\"56px\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"triggers\":[],\"name\":\"Nearby Text Options\",\"aspectRatioLocked\":false,\"zIndex\":9,\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"clazz\":\"Group\",\"localId\":470,\"fieldName\":\"Nearby Text Options\",\"content\":{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"triggers\":[],\"name\":\"Container\",\"layoutSpecificValues\":[{\"size\":{\"width\":\"100%\",\"height\":\"100%\"}}],\"aspectRatioLocked\":false,\"localId\":471,\"objects\":[{\"layoutSpecificValues\":[{\"position\":{\"left\":\"0px\",\"top\":\"0px\"},\"size\":{\"width\":\"196px\",\"height\":\"54px\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"triggers\":[],\"name\":\"Nearby_DynamicAddress\",\"aspectRatioLocked\":false,\"zIndex\":2,\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"fontLocalId\":492,\"fontSize\":9,\"scaleFont\":true,\"scaleBaseWidth\":196,\"scaleBaseHeight\":54,\"textColor\":\"rgba(255,255,255,1)\",\"textAlign\":\"right\",\"textDecoration\":\"\",\"letterSpacing\":\"0px\",\"lineSpacing\":\"1px\",\"textShadow\":false,\"textShadowDistance\":1,\"textShadowBlur\":0,\"textShadowAngle\":0,\"textShadowColor\":\"#ffffff\",\"tableId\":\"79536890\",\"displayName\":true,\"displayAddress\":true,\"displayPhone\":false,\"displayHours\":false,\"language\":\"english\",\"units\":\"imperial\",\"clazz\":\"Nearby\",\"localId\":472,\"fieldName\":\"Nearby_DynamicAddress\",\"isAnimated\":false},{\"layoutSpecificValues\":[{\"position\":{\"left\":\"0px\",\"top\":\"34px\"},\"size\":{\"width\":\"160px\",\"height\":\"30px\"},\"rotation\":0,\"opacity\":1,\"hidden\":true}],\"triggers\":[],\"name\":\"Nearby_DynamicDistance Away *Hidden unless enabled in \\\"Properties\\\"*\",\"aspectRatioLocked\":false,\"zIndex\":1,\"hiddenInBuilder\":true,\"lockedInBuilder\":false,\"clazz\":\"Group\",\"localId\":473,\"fieldName\":\"Nearby_DynamicDistance Away *Hidden unless enabled in \\\"Properties\\\"*\",\"content\":{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"triggers\":[],\"name\":\"Container\",\"layoutSpecificValues\":[{\"size\":{\"width\":\"100%\",\"height\":\"100%\"}}],\"aspectRatioLocked\":false,\"localId\":474,\"objects\":[{\"layoutSpecificValues\":[{\"position\":{\"left\":\"0px\",\"top\":\"0px\"},\"size\":{\"width\":\"160px\",\"height\":\"30px\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"triggers\":[],\"name\":\"Nearby_DynamicDistanceAway\",\"aspectRatioLocked\":false,\"zIndex\":1,\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"fontLocalId\":493,\"fontSize\":9,\"scaleFont\":false,\"scaleBaseWidth\":0,\"scaleBaseHeight\":0,\"textColor\":\"rgba(153,153,153,1)\",\"textAlign\":\"right\",\"textDecoration\":\"underline\",\"letterSpacing\":\"0px\",\"lineSpacing\":\"4px\",\"textShadow\":false,\"textShadowDistance\":1,\"textShadowBlur\":0,\"textShadowAngle\":0,\"textShadowColor\":\"#ffffff\",\"tableId\":\"8a6268af\",\"displayName\":false,\"displayAddress\":false,\"displayPhone\":false,\"displayHours\":false,\"language\":\"english\",\"units\":\"imperial\",\"clazz\":\"Nearby\",\"localId\":475,\"fieldName\":\"Nearby_DynamicDistanceAway\",\"isAnimated\":false}],\"clazz\":\"NestedContainer\",\"isAnimated\":false},\"isAnimated\":false}],\"clazz\":\"NestedContainer\",\"isAnimated\":false},\"isAnimated\":false},{\"layoutSpecificValues\":[{\"position\":{\"left\":\"0px\",\"top\":\"0px\"},\"size\":{\"width\":\"100.00%\",\"height\":\"100.00%\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"triggers\":[],\"name\":\"Dynamic Image\",\"aspectRatioLocked\":false,\"zIndex\":7,\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"clazz\":\"Fallback\",\"localId\":476,\"fieldName\":\"Dynamic Image\",\"availableContent\":{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"triggers\":[],\"name\":\"Available\",\"layoutSpecificValues\":[{\"size\":{\"width\":\"100%\",\"height\":\"100%\"}}],\"aspectRatioLocked\":false,\"scenes\":[],\"localId\":477,\"objects\":[{\"layoutSpecificValues\":[{\"position\":{\"left\":\"0px\",\"top\":\"0px\"},\"size\":{\"width\":\"100.00%\",\"height\":\"100.00%\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"triggers\":[],\"name\":\"Dynamic Image\",\"aspectRatioLocked\":false,\"zIndex\":1,\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"imageSourceFeedFieldKey\":\"CustomFeedField\/3767a0b9\",\"fileLocalId\":2234,\"fittingSize\":\"fit\",\"imagePosition\":\"center\",\"importedFromLayoutFile\":false,\"clazz\":\"Picture\",\"localId\":478,\"isAnimated\":false}],\"clazz\":\"NestedContainer\",\"isAnimated\":false},\"notAvailableContent\":{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"triggers\":[],\"name\":\"Not Available\",\"layoutSpecificValues\":[{\"size\":{\"width\":\"100%\",\"height\":\"100%\"}}],\"aspectRatioLocked\":false,\"scenes\":[],\"localId\":479,\"objects\":[{\"layoutSpecificValues\":[{\"position\":{\"left\":\"0px\",\"top\":\"0px\"},\"size\":{\"width\":\"100.00%\",\"height\":\"100.00%\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"triggers\":[],\"name\":\"Fallback Image\",\"aspectRatioLocked\":false,\"zIndex\":1,\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"imageSourceFeedFieldKey\":null,\"fileLocalId\":10045,\"fittingSize\":\"fit\",\"imagePosition\":\"center\",\"importedFromLayoutFile\":false,\"clazz\":\"Picture\",\"localId\":480,\"isAnimated\":false}],\"clazz\":\"NestedContainer\",\"isAnimated\":false},\"isAnimated\":false,\"contentFields\":[{\"feedFieldKey\":\"CustomFeedField\/3767a0b9\",\"initiator\":\"Picture\",\"property\":\"imageSourceFeedFieldKey\",\"requestedRows\":1}]},{\"layoutSpecificValues\":[{\"position\":{\"left\":\"0px\",\"top\":\"0px\"},\"size\":{\"width\":\"100.00%\",\"height\":\"100.00%\"},\"rotation\":0,\"opacity\":1,\"hidden\":true}],\"triggers\":[],\"name\":\"... Additional Valassis Feature Components\",\"aspectRatioLocked\":false,\"zIndex\":1,\"hiddenInBuilder\":false,\"lockedInBuilder\":true,\"clazz\":\"Group\",\"localId\":1722,\"fieldName\":\"... Additional Valassis Feature Components\",\"content\":{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"triggers\":[],\"name\":\"Container\",\"layoutSpecificValues\":[{\"size\":{\"width\":\"100%\",\"height\":\"100%\"}}],\"aspectRatioLocked\":false,\"localId\":1723,\"objects\":[{\"layoutSpecificValues\":[{\"position\":{\"left\":\"0px\",\"top\":\"0px\"},\"size\":{\"width\":\"100.00%\",\"height\":\"100.00%\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"triggers\":[],\"name\":\"Legacy Border (Usage: remove from group and place at top level))\",\"aspectRatioLocked\":false,\"zIndex\":16,\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"clazz\":\"Group\",\"localId\":1575,\"fieldName\":\"Legacy Border (Usage: remove from group and place at top level))\",\"content\":{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"triggers\":[],\"name\":\"Container\",\"layoutSpecificValues\":[{\"size\":{\"width\":\"100%\",\"height\":\"100%\"}}],\"aspectRatioLocked\":false,\"localId\":1576,\"objects\":[{\"layoutSpecificValues\":[{\"position\":{\"left\":\"0px\",\"top\":\"0px\"},\"size\":{\"width\":\"100.00%\",\"height\":\"1px\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"triggers\":[],\"name\":\"border (top)\",\"aspectRatioLocked\":false,\"zIndex\":19,\"hiddenInBuilder\":false,\"lockedInBuilder\":true,\"backgroundColorFeedFieldKey\":null,\"backgroundColor\":\"rgba(204,204,204,1)\",\"border\":false,\"borderWidth\":5,\"borderColor\":\"#000000\",\"roundness\":0,\"shadow\":false,\"shadowDistance\":0,\"shadowBlur\":10,\"shadowAngle\":0,\"shadowColor\":\"rgba(0,0,0,0.5)\",\"clazz\":\"Shapey\",\"localId\":51,\"fieldName\":\"border (top)\",\"isAnimated\":false},{\"layoutSpecificValues\":[{\"position\":{\"left\":\"727px\",\"top\":\"0px\"},\"size\":{\"width\":\"1px\",\"height\":\"100.00%\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"triggers\":[],\"name\":\"border (right)\",\"aspectRatioLocked\":false,\"zIndex\":18,\"hiddenInBuilder\":false,\"lockedInBuilder\":true,\"backgroundColorFeedFieldKey\":null,\"backgroundColor\":\"rgba(204,204,204,1)\",\"border\":false,\"borderWidth\":5,\"borderColor\":\"#000000\",\"roundness\":0,\"shadow\":false,\"shadowDistance\":0,\"shadowBlur\":10,\"shadowAngle\":0,\"shadowColor\":\"rgba(0,0,0,0.5)\",\"clazz\":\"Shapey\",\"localId\":50,\"fieldName\":\"border (right)\",\"isAnimated\":false},{\"layoutSpecificValues\":[{\"position\":{\"left\":\"0px\",\"top\":\"89px\"},\"size\":{\"width\":\"100.00%\",\"height\":\"1px\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"triggers\":[],\"name\":\"border (bottom)\",\"aspectRatioLocked\":false,\"zIndex\":17,\"hiddenInBuilder\":false,\"lockedInBuilder\":true,\"backgroundColorFeedFieldKey\":null,\"backgroundColor\":\"rgba(204,204,204,1)\",\"border\":false,\"borderWidth\":5,\"borderColor\":\"#000000\",\"roundness\":0,\"shadow\":false,\"shadowDistance\":0,\"shadowBlur\":10,\"shadowAngle\":0,\"shadowColor\":\"rgba(0,0,0,0.5)\",\"clazz\":\"Shapey\",\"localId\":49,\"fieldName\":\"border (bottom)\",\"isAnimated\":false},{\"layoutSpecificValues\":[{\"position\":{\"left\":\"0px\",\"top\":\"0px\"},\"size\":{\"width\":\"1px\",\"height\":\"100.00%\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"triggers\":[],\"name\":\"border (left)\",\"aspectRatioLocked\":false,\"zIndex\":16,\"hiddenInBuilder\":false,\"lockedInBuilder\":true,\"backgroundColorFeedFieldKey\":null,\"backgroundColor\":\"rgba(204,204,204,1)\",\"border\":false,\"borderWidth\":5,\"borderColor\":\"#000000\",\"roundness\":0,\"shadow\":false,\"shadowDistance\":0,\"shadowBlur\":10,\"shadowAngle\":0,\"shadowColor\":\"rgba(0,0,0,0.5)\",\"clazz\":\"Shapey\",\"localId\":48,\"fieldName\":\"border (left)\",\"isAnimated\":false}],\"clazz\":\"NestedContainer\",\"isAnimated\":false},\"isAnimated\":false}],\"clazz\":\"NestedContainer\",\"isAnimated\":false},\"isAnimated\":false}],\"clazz\":\"NestedContainer\",\"reportingLabel\":\"Default\",\"isAnimated\":false,\"immediatelyPlayedScenes\":{\"conditionMet\":{\"scenesLocalIds\":[]}}}],\"isAnimated\":false},{\"layoutSpecificValues\":[{\"position\":{\"left\":\"-2px\",\"top\":\"-65px\"},\"size\":{\"width\":\"153px\",\"height\":\"57px\"},\"rotation\":0,\"opacity\":1,\"hidden\":false}],\"triggers\":[],\"name\":\"[Feed Report Enabler] DO NOT REMOVE\",\"aspectRatioLocked\":false,\"zIndex\":2,\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"fontLocalId\":491,\"fontSize\":12,\"scaleFont\":false,\"scaleBaseWidth\":0,\"scaleBaseHeight\":0,\"textColor\":\"rgba(255,255,255,1)\",\"textDirection\":\"ltr\",\"textAlign\":\"left\",\"textDecoration\":\"\",\"letterSpacing\":\"0px\",\"lineSpacing\":\"0px\",\"textShadow\":false,\"textShadowDistance\":1,\"textShadowBlur\":0,\"textShadowAngle\":0,\"textShadowColor\":\"#999999\",\"textPaddingLocked\":true,\"textPaddingTop\":2,\"textPaddingRight\":2,\"textPaddingBottom\":2,\"textPaddingLeft\":2,\"textContentFeedFieldKey\":\"CustomFeedField\/7200d581\",\"textFontFeedFieldKey\":null,\"textColorFeedFieldKey\":null,\"text\":\"***Please enable the ReportLabelRequiredText for your feed\/location table!!!\",\"responsiveFont\":false,\"responsiveFontFactor\":0.5,\"textWhiteSpace\":\"pre-wrap\",\"textAlignVertical\":0,\"scrollable\":false,\"scrollbarPosition\":\"\",\"scrollbarColor\":\"#000000\",\"autoscrollEnabled\":false,\"autoscrollDelay\":1000,\"autoscrollDuration\":3000,\"autoscrollConclusion\":\"\",\"isLineWrapAuto\":false,\"usePadding\":true,\"useFontScaleFactorForPadding\":false,\"lineBreakOptimizationStrategy\":\"none\",\"shortestLineToLongestLineMinRatio\":0.25,\"maxPaddingToSizeRatio\":0.25,\"clazz\":\"Texty\",\"localId\":481,\"fieldName\":\"[Feed Report Enabler] DO NOT REMOVE\",\"isAnimated\":false}],\"clazz\":\"Screen\",\"guidelines\":[],\"isAnimated\":false,\"immediatelyPlayedScenes\":{\"appear\":{\"scenesLocalIds\":[]},\"firstAppear\":{\"scenesLocalIds\":[]}},\"reachableScreensLocalIds\":[],\"dynamicReachableScreenConditions\":{}},{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"triggers\":[{\"localId\":882,\"type\":\"appear\",\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":883,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":892,\"name\":\"(Variant 1) Nearby | Dynamic Address Text Shortening JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":884,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":893,\"name\":\"(Variant 1) Nearby | Dynamic Distance Text Shortening JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":885,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":894,\"name\":\"(Variant 1) Locator | Initialize LocatorMap JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":886,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":895,\"name\":\"(Variant 1) Locator | PE Team Pixel Tracking\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":887,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":896,\"name\":\"(Variant 1) Countdown | Custom Formatting JS\"},\"isAnimated\":false}]}}]}},\"isCustom\":false,\"isAnimated\":false},{\"localId\":888,\"type\":\"beforeAppear\",\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":889,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":897,\"name\":\"(Variant 1) Nearby | Initialize Nearby_DynamicAddress JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":890,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":898,\"name\":\"(Variant 1) Nearby | Initialize Nearby_DynamicDistanceAway JS\"},\"isAnimated\":false}]}}]}},\"isCustom\":false,\"isAnimated\":false}],\"scenes\":[],\"showOverflow\":false,\"title\":\"Variant 1\",\"localId\":891,\"objects\":[],\"clazz\":\"Screen\",\"guidelines\":[],\"isAnimated\":false,\"immediatelyPlayedScenes\":{\"appear\":{\"scenesLocalIds\":[]},\"firstAppear\":{\"scenesLocalIds\":[]}},\"reachableScreensLocalIds\":[],\"dynamicReachableScreenConditions\":{}},{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"triggers\":[{\"localId\":905,\"type\":\"appear\",\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":906,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":915,\"name\":\"(Variant 2) Nearby | Dynamic Address Text Shortening JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":907,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":916,\"name\":\"(Variant 2) Nearby | Dynamic Distance Text Shortening JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":908,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":917,\"name\":\"(Variant 2) Locator | Initialize LocatorMap + Texty JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":909,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":918,\"name\":\"(Variant 2) Locator | PE Team Pixel Tracking\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":910,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":919,\"name\":\"(Variant 2) Countdown | Custom Formatting JS\"},\"isAnimated\":false}]}}]}},\"isCustom\":false,\"isAnimated\":false},{\"localId\":911,\"type\":\"beforeAppear\",\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":912,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":920,\"name\":\"(Variant 2) Nearby | Initialize Nearby_DynamicAddress JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":913,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":921,\"name\":\"(Variant 2) Nearby | Initialize Nearby_DynamicDistanceAway JS\"},\"isAnimated\":false}]}}]}},\"isCustom\":false,\"isAnimated\":false}],\"scenes\":[],\"showOverflow\":false,\"title\":\"Variant 2\",\"localId\":914,\"objects\":[],\"clazz\":\"Screen\",\"guidelines\":[],\"isAnimated\":false,\"immediatelyPlayedScenes\":{\"appear\":{\"scenesLocalIds\":[]},\"firstAppear\":{\"scenesLocalIds\":[]}},\"reachableScreensLocalIds\":[],\"dynamicReachableScreenConditions\":{}},{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"triggers\":[{\"localId\":928,\"type\":\"appear\",\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":929,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":938,\"name\":\"(Variant 3) Nearby | Dynamic Address Text Shortening JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":930,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":939,\"name\":\"(Variant 3) Nearby | Dynamic Distance Text Shortening JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":931,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":940,\"name\":\"(Variant 3) Locator | Initialize LocatorMap JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":932,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":941,\"name\":\"(Variant 3) Locator | PE Team Pixel Tracking\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":933,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":942,\"name\":\"(Variant 3) Countdown | Custom Formatting JS\"},\"isAnimated\":false}]}}]}},\"isCustom\":false,\"isAnimated\":false},{\"localId\":934,\"type\":\"beforeAppear\",\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":935,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":943,\"name\":\"(Variant 3) Nearby | Initialize Nearby_DynamicAddress JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":936,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":944,\"name\":\"(Variant 3) Nearby | Initialize Nearby_DynamicDistanceAway JS\"},\"isAnimated\":false}]}}]}},\"isCustom\":false,\"isAnimated\":false}],\"scenes\":[],\"showOverflow\":true,\"title\":\"Variant 3\",\"localId\":937,\"objects\":[],\"clazz\":\"Screen\",\"guidelines\":[],\"isAnimated\":false,\"immediatelyPlayedScenes\":{\"appear\":{\"scenesLocalIds\":[]},\"firstAppear\":{\"scenesLocalIds\":[]}},\"reachableScreensLocalIds\":[],\"dynamicReachableScreenConditions\":{}},{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"triggers\":[{\"localId\":951,\"type\":\"appear\",\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":952,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":961,\"name\":\"(Variant 4) Nearby | Dynamic Address Text Shortening JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":953,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":962,\"name\":\"(Variant 4) Nearby | Dynamic Distance Text Shortening JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":954,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":963,\"name\":\"(Variant 4) Locator | Initialize LocatorMap JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":955,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":964,\"name\":\"(Variant 4) Locator | PE Team Pixel Tracking\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":956,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":965,\"name\":\"(Variant 4) Countdown | Custom Formatting JS\"},\"isAnimated\":false}]}}]}},\"isCustom\":false,\"isAnimated\":false},{\"localId\":957,\"type\":\"beforeAppear\",\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":958,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":966,\"name\":\"(Variant 4) Nearby | Initialize Nearby_DynamicAddress JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":959,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":967,\"name\":\"(Variant 4) Nearby | Initialize Nearby_DynamicDistanceAway JS\"},\"isAnimated\":false}]}}]}},\"isCustom\":false,\"isAnimated\":false}],\"scenes\":[],\"showOverflow\":true,\"title\":\"Variant 4\",\"localId\":960,\"objects\":[],\"clazz\":\"Screen\",\"guidelines\":[],\"isAnimated\":false,\"immediatelyPlayedScenes\":{\"appear\":{\"scenesLocalIds\":[]},\"firstAppear\":{\"scenesLocalIds\":[]}},\"reachableScreensLocalIds\":[],\"dynamicReachableScreenConditions\":{}},{\"hiddenInBuilder\":false,\"lockedInBuilder\":false,\"triggers\":[{\"localId\":974,\"type\":\"appear\",\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":975,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":984,\"name\":\"(Variant 5) Nearby | Dynamic Address Text Shortening JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":976,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":985,\"name\":\"(Variant 5) Nearby | Dynamic Distance Text Shortening JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":977,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":986,\"name\":\"(Variant 5) Locator | Initialize LocatorMap JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":978,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":987,\"name\":\"(Variant 5) Locator | PE Team Pixel Tracking\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":979,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":988,\"name\":\"(Variant 5) Countdown | Custom Formatting JS\"},\"isAnimated\":false}]}}]}},\"isCustom\":false,\"isAnimated\":false},{\"localId\":980,\"type\":\"beforeAppear\",\"onFire\":{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInSequence\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"runInParallel\",\"isStatic\":true,\"args\":{\"actions\":[{\"clazz\":\"ActionInvocation\",\"localId\":981,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":989,\"name\":\"(Variant 5) Nearby | Initialize Nearby_DynamicAddress JS\"},\"isAnimated\":false},{\"clazz\":\"ActionInvocation\",\"localId\":982,\"disabled\":false,\"actionClazz\":\"Kernel\",\"instanceLocalId\":null,\"method\":\"executeJavascript\",\"isStatic\":true,\"args\":{\"scriptLocalId\":990,\"name\":\"(Variant 5) Nearby | Initialize Nearby_DynamicDistanceAway JS\"},\"isAnimated\":false}]}}]}},\"isCustom\":false,\"isAnimated\":false}],\"scenes\":[],\"showOverflow\":true,\"title\":\"Variant 5\",\"localId\":983,\"objects\":[],\"clazz\":\"Screen\",\"guidelines\":[],\"isAnimated\":false,\"immediatelyPlayedScenes\":{\"appear\":{\"scenesLocalIds\":[]},\"firstAppear\":{\"scenesLocalIds\":[]}},\"reachableScreensLocalIds\":[],\"dynamicReachableScreenConditions\":{}}],\"backgroundColor\":\"rgba(255,255,255,1)\",\"borderColor\":\"rgba(204,204,204,1)\",\"borderSize\":1,\"scale\":1,\"sizing\":\"fixed\",\"defaultUnits\":\"px\",\"layoutAspectRatiosLocked\":{\"independent\":false},\"layoutCustomUnitSizes\":{\"independent\":true},\"orientation\":\"independent\",\"layouts\":[{\"orientation\":\"independent\",\"minSize\":{\"width\":0,\"height\":0},\"unitSize\":{\"width\":728,\"height\":90},\"designTimeSize\":{\"width\":728,\"height\":90},\"unitAlignment\":{\"horizontal\":\"center\",\"vertical\":\"center\"}}],\"layoutsLocked\":{\"portrait\":true,\"landscape\":true,\"independent\":true},\"feedImageOptimizationSettings\":[],\"isAnimated\":false}},\"unitSizes\":{\"banner\":{\"width\":728,\"height\":90}},\"files\":[{\"clazz\":\"File\",\"retina\":false,\"retinaScaleFactor\":1,\"localId\":2234,\"name\":\"img_1x1placeholder_transparent.png\",\"blobHash\":\"60e9fc549e389925e2440971e2d6d11a0b06edfb89d21516113b9c00b9b8d615\",\"quality\":256,\"autoResize\":false,\"optimizationSettings\":[{\"creativeUnitVariantId\":\"default\",\"optimizedSize\":95}],\"isAsset\":true,\"meta\":{\"size\":927,\"contentType\":\"image\/png\",\"width\":1,\"height\":1}},{\"clazz\":\"File\",\"retina\":false,\"retinaScaleFactor\":1,\"localId\":10044,\"name\":\"12894_Toro_RES_728x90_R1.png\",\"blobHash\":\"687746b3bdab51f2833f6dcdd2c8e613cfc115273744c565f51855551b529f46\",\"quality\":256,\"autoResize\":false,\"optimizationSettings\":[{\"creativeUnitVariantId\":\"default\",\"optimizedSize\":16416}],\"isAsset\":true,\"meta\":{\"size\":16416,\"contentType\":\"image\/png\",\"width\":728,\"height\":90}},{\"clazz\":\"File\",\"retina\":false,\"retinaScaleFactor\":1,\"localId\":10045,\"name\":\"12894_Toro_LEC_728x90_R1.png\",\"blobHash\":\"a490973d0897adf49d7757151674f32e60570eaf15778709c56fd53e175bef98\",\"quality\":256,\"autoResize\":false,\"optimizationSettings\":[{\"creativeUnitVariantId\":\"default\",\"optimizedSize\":15120}],\"isAsset\":true,\"meta\":{\"size\":15120,\"contentType\":\"image\/png\",\"width\":728,\"height\":90}}],\"fonts\":[{\"clazz\":\"Font\",\"localId\":491,\"typefaceId\":\"system_arial400n\",\"provider\":\"system\",\"family\":\"Arial\",\"name\":\"Normal\",\"style\":\"normal\",\"weight\":400},{\"clazz\":\"Font\",\"localId\":492,\"typefaceId\":\"google_opensans400n\",\"provider\":\"google\",\"family\":\"Open Sans\",\"name\":\"Normal\",\"style\":\"normal\",\"weight\":400},{\"clazz\":\"Font\",\"localId\":493,\"typefaceId\":\"google_opensans700n\",\"provider\":\"google\",\"family\":\"Open Sans\",\"name\":\"Bold\",\"style\":\"normal\",\"weight\":700}],\"scripts\":[{\"localId\":495,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/* === This code modifies the Nearby component in these templates to display a plain address\\nwithout Celtra's default \\\"x.xx mi to th nearest location\\\" text*\/\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicAddress');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nvar nearbyInstance = screen.findAll('Nearby_DynamicAddress')[0];\\n\\nnearbyInstance.setPhrases('english', {\\n    message: ' ',\\n    fallbackMessage: \\\"No nearby stores\\\"\\n});\\n\\n\\nc();\"},{\"localId\":496,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/* === This code modifies the Nearby component in these templates to display as \\\"x.xx miles away\\\" in distance*\/\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicDistanceAway');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nvar nearbyInstance2 = screen.findAll('Nearby_DynamicDistanceAway')[0];\\n\\nnearbyInstance2.setPhrases('english', {\\n    message: '<distance> <units> away',\\n    fallbackMessage: \\\"No nearby stores\\\"\\n});\\n\\n\\nc();\"},{\"localId\":497,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Call 'c' when the action is considered \\\"completed\\\".\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('locator');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nwindow.celtraCustomLocation = {};\\n\\nfunction saveCurrentLocationData(nearestLocations) {\\n    var userLocation    = locator.getUserLocation(),\\n        currentLocation = nearestLocations[0];\\n\\n    window.celtraCustomLocation.phone = currentLocation.phone;\\n    window.celtraCustomLocation.name = currentLocation.name;\\n    window.celtraCustomLocation.directions = 'https:\/\/maps.google.com?saddr=' + userLocation.lat + ',' + userLocation.lng + '&daddr=' + currentLocation.lat + ',' + currentLocation.lng + '&directionsmode=driving';\\n\\n}\\n\\nvar locator = screen.find('locator');\\nvar nearestLocations = [];\\nvar nearestLocationsFilled = false;\\n\\nlocator.getButton('refocus') && locator.getButton('refocus').setVisibility(false);\\nlocator.getButton('zoomIn') && locator.getButton('zoomIn').setVisibility(false);\\nlocator.getButton('zoomOut') && locator.getButton('zoomOut').setVisibility(false);\\n\\nlocator.on('locationsaddedtomap', function() {\\n    if (!nearestLocationsFilled) {\\n        saveCurrentLocationData(nearestLocations);\\n        nearestLocationsFilled = true;\\n    }\\n})\\n\\nlocator.on('locationsloaded', function(locations) {\\n    nearestLocations = [];\\n    \\n    for (var i = 0; i < locations.length; i++) {\\n        if (nearestLocations.length === 1) {\\n            return;\\n        }\\n        \\n        var currentLocation = locations[i];\\n        if (currentLocation.locations) { \/\/ cluster marker\\n            var markerArray = currentLocation.locations;\\n            for (var j = 0; j < markerArray.length; j++) {\\n                if (nearestLocations.length === 1) {\\n                    return;\\n                }\\n                nearestLocations.push(markerArray[j]);\\n            }\\n        } else {\\n            nearestLocations.push(currentLocation);\\n        }\\n    }\\n});\\n\\nc();\"},{\"localId\":498,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Adds PE Team's external impression pixel tracking to user engagements with the Locator component map\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('locator');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nvar locator = screen.find('locator');\\n\\nlocator.once('directionstapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('maptapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('locationmarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('clustermarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('mapdragged', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\n\\n\\n\/\/ Exposes PE Team's custom tags in the Celtra Tag Generator as fields\\nlocator.once('directionstapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapDirectionsTapped }, noop);\\n});\\n\\nlocator.once('maptapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapTapped }, noop);\\n});\\n\\nlocator.once('locationmarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapMarkerTapped }, noop);\\n});\\n\\nlocator.once('clustermarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapClusterMarkerTapped }, noop);\\n});\\n\\nlocator.once('mapdragged', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapDragged }, noop);\\n});\\n\\n\\nc();\\n\"},{\"localId\":499,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ The countdown component can be positioned offscreen or hidden. We are using it just to get the time value.\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Countdown (Source)');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container goup verification\\n\\nvar countdown = screen.find('Countdown (Source)');\\n\\n\/\/ Reference the texty components that will be used to show the values\\nvar secondsTexty = screen.find('secondsTexty');\\nvar minutesTexty = screen.find('minutesTexty');\\nvar hoursTexty = screen.find('hoursTexty');\\nvar daysTexty = screen.find('daysTexty');\\n\\nvar secondsTexty2 = screen.find('secondsTexty2');\\nvar minutesTexty2 = screen.find('minutesTexty2');\\nvar hoursTexty2 = screen.find('hoursTexty2');\\nvar daysTexty2 = screen.find('daysTexty2');\\n\\nfunction updateTexties() {\\n    \/\/ Get the time from the countdown componentt using its JS API method and\\n    \/\/ split the values into and array (seconds -> minutes -> hours -> etc ..)\\n    var formattedTime = countdown.getCurrentTime().formatted.split(':').reverse();\\n    \\n    \/\/ Static Countdown | With leading zero\\n    secondsTexty.setTextAction(ctx, { text: formattedTime[0] || 0 }, noop);\\n    minutesTexty.setTextAction(ctx, { text: formattedTime[1] || 0 }, noop);\\n    hoursTexty.setTextAction(ctx, { text: formattedTime[2] || 0 }, noop);\\n    daysTexty.setTextAction(ctx, { text: formattedTime[3] || 0 }, noop);\\n    \\n    \/\/ Static Countdown | Without leading zero, uncomment if you want to use it\\n    \/\/ secondsTexty.setTextAction(ctx, { text: parseInt(formattedTime[0], 10) || 0 }, noop);\\n    \/\/ minutesTexty.setTextAction(ctx, { text: parseInt(formattedTime[1], 10) || 0 }, noop);\\n    \/\/ hoursTexty.setTextAction(ctx, { text: parseInt(formattedTime[2], 10) || 0 }, noop);\\n    \/\/ daysTexty.setTextAction(ctx, { text: parseInt(formattedTime[3], 10) || 0 }, noop);\\n    \\n    \/\/ Responsive Countdown | With leading zero\\n    secondsTexty2.setTextAction(ctx, { text: formattedTime[0] || 0 }, noop);\\n    minutesTexty2.setTextAction(ctx, { text: formattedTime[1] || 0 }, noop);\\n    hoursTexty2.setTextAction(ctx, { text: formattedTime[2] || 0 }, noop);\\n    daysTexty2.setTextAction(ctx, { text: formattedTime[3] || 0 }, noop);\\n    \\n    \/\/ Responsive Countdown | Without leading zero, uncomment if you want to use it\\n    \/\/ secondsTexty2.setTextAction(ctx, { text: parseInt(formattedTime[0], 10) || 0 }, noop);\\n    \/\/ minutesTexty2.setTextAction(ctx, { text: parseInt(formattedTime[1], 10) || 0 }, noop);\\n    \/\/ hoursTexty2.setTextAction(ctx, { text: parseInt(formattedTime[2], 10) || 0 }, noop);\\n    \/\/ daysTexty2.setTextAction(ctx, { text: parseInt(formattedTime[3], 10) || 0 }, noop);\\n}\\n\\n\/\/ Update the texties every second\\nsetInterval(updateTexties, 100);\\n\\nc();\"},{\"localId\":500,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Call 'c' when the action is considered \\\"completed\\\".\\n\/* This code enables use of the locator component linked feed\/location table to populate the\\n\\\"Get Directions\\\" and \\\"Call\\\" hotspot functions within the template*\/\\n\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicAddress');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nwindow.celtraCustomLocations_Nearby  = [];\\n\\nfunction saveCurrentLocationData_viaNearby(nearestLocations, userLocation) {\\n    var currentGroupUnique1Line    = screen.find('Nearby_DynamicAddress'),\\n        currentLocation = nearestLocations[0],\\n        directionsUrl   = 'https:\/\/maps.google.com?saddr=' + userLocation.lat + ',' + userLocation.lng + '&daddr=' + currentLocation.lat + ',' + currentLocation.lng + '&directionsmode=driving';\\n\\n    window.celtraCustomLocations_Nearby.push({\\n        name: currentLocation.name,\\n        directions: directionsUrl,\\n        phone: currentLocation.phone\\n    });\\n}\\n\\nvar nearbyAddress1 = screen.find('Nearby_DynamicAddress');\\nvar nearestLocations = null;\\nvar userLocation = null;\\n\\nnearbyAddress1.on('userlocationfound', function(location) {\\n    userLocation = location;\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nnearbyAddress1.on('nearestlocationfound', function(location) {\\n    nearestLocations = [location];\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nc();\"},{\"localId\":501,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Call 'c' when the action is considered \\\"completed\\\".\\n\/* This code enables use of the locator component linked feed\/location table to populate the\\n\\\"Get Directions\\\" and \\\"Call\\\" hotspot functions within the template*\/\\n\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicDistanceAway');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nwindow.celtraCustomLocations_Nearby  = [];\\n\\nfunction saveCurrentLocationData_viaNearby(nearestLocations, userLocation) {\\n    var currentGroupUnique1Line    = screen.find('Nearby_DynamicDistanceAway'),\\n        currentLocation = nearestLocations[0],\\n        directionsUrl   = 'https:\/\/maps.google.com?saddr=' + userLocation.lat + ',' + userLocation.lng + '&daddr=' + currentLocation.lat + ',' + currentLocation.lng + '&directionsmode=driving';\\n\\n    window.celtraCustomLocations_Nearby.push({\\n        name: currentLocation.name,\\n        directions: directionsUrl,\\n        phone: currentLocation.phone\\n    });\\n}\\n\\nvar nearbyAddress1 = screen.find('Nearby_DynamicDistanceAway');\\nvar nearestLocations = null;\\nvar userLocation = null;\\n\\nnearbyAddress1.on('userlocationfound', function(location) {\\n    userLocation = location;\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nnearbyAddress1.on('nearestlocationfound', function(location) {\\n    nearestLocations = [location];\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nc();\"},{\"localId\":892,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/* === This code modifies the Nearby component in these templates to display a plain address\\nwithout Celtra's default \\\"x.xx mi to th nearest location\\\" text*\/\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicAddress');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nvar nearbyInstance = screen.findAll('Nearby_DynamicAddress')[0];\\n\\nnearbyInstance.setPhrases('english', {\\n    message: ' ',\\n    fallbackMessage: \\\"No nearby stores\\\"\\n});\\n\\n\\nc();\"},{\"localId\":893,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/* === This code modifies the Nearby component in these templates to display as \\\"x.xx miles away\\\" in distance*\/\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicDistanceAway');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nvar nearbyInstance2 = screen.findAll('Nearby_DynamicDistanceAway')[0];\\n\\nnearbyInstance2.setPhrases('english', {\\n    message: '<distance> <units> away',\\n    fallbackMessage: \\\"No nearby stores\\\"\\n});\\n\\n\\nc();\"},{\"localId\":894,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Call 'c' when the action is considered \\\"completed\\\".\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('locator');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nwindow.celtraCustomLocation = {};\\n\\nfunction saveCurrentLocationData(nearestLocations) {\\n    var userLocation    = locator.getUserLocation(),\\n        currentLocation = nearestLocations[0];\\n\\n    window.celtraCustomLocation.phone = currentLocation.phone;\\n    window.celtraCustomLocation.name = currentLocation.name;\\n    window.celtraCustomLocation.directions = 'https:\/\/maps.google.com?saddr=' + userLocation.lat + ',' + userLocation.lng + '&daddr=' + currentLocation.lat + ',' + currentLocation.lng + '&directionsmode=driving';\\n\\n}\\n\\nvar locator = screen.find('locator');\\nvar nearestLocations = [];\\nvar nearestLocationsFilled = false;\\n\\nlocator.getButton('refocus') && locator.getButton('refocus').setVisibility(false);\\nlocator.getButton('zoomIn') && locator.getButton('zoomIn').setVisibility(false);\\nlocator.getButton('zoomOut') && locator.getButton('zoomOut').setVisibility(false);\\n\\nlocator.on('locationsaddedtomap', function() {\\n    if (!nearestLocationsFilled) {\\n        saveCurrentLocationData(nearestLocations);\\n        nearestLocationsFilled = true;\\n    }\\n})\\n\\nlocator.on('locationsloaded', function(locations) {\\n    nearestLocations = [];\\n    \\n    for (var i = 0; i < locations.length; i++) {\\n        if (nearestLocations.length === 1) {\\n            return;\\n        }\\n        \\n        var currentLocation = locations[i];\\n        if (currentLocation.locations) { \/\/ cluster marker\\n            var markerArray = currentLocation.locations;\\n            for (var j = 0; j < markerArray.length; j++) {\\n                if (nearestLocations.length === 1) {\\n                    return;\\n                }\\n                nearestLocations.push(markerArray[j]);\\n            }\\n        } else {\\n            nearestLocations.push(currentLocation);\\n        }\\n    }\\n});\\n\\nc();\"},{\"localId\":895,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Adds PE Team's external impression pixel tracking to user engagements with the Locator component map\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('locator');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nvar locator = screen.find('locator');\\n\\nlocator.once('directionstapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('maptapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('locationmarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('clustermarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('mapdragged', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\n\\n\\n\/\/ Exposes PE Team's custom tags in the Celtra Tag Generator as fields\\nlocator.once('directionstapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapDirectionsTapped }, noop);\\n});\\n\\nlocator.once('maptapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapTapped }, noop);\\n});\\n\\nlocator.once('locationmarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapMarkerTapped }, noop);\\n});\\n\\nlocator.once('clustermarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapClusterMarkerTapped }, noop);\\n});\\n\\nlocator.once('mapdragged', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapDragged }, noop);\\n});\\n\\n\\nc();\\n\"},{\"localId\":896,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ The countdown component can be positioned offscreen or hidden. We are using it just to get the time value.\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Countdown (Source)');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container goup verification\\n\\nvar countdown = screen.find('Countdown (Source)');\\n\\n\/\/ Reference the texty components that will be used to show the values\\nvar secondsTexty = screen.find('secondsTexty');\\nvar minutesTexty = screen.find('minutesTexty');\\nvar hoursTexty = screen.find('hoursTexty');\\nvar daysTexty = screen.find('daysTexty');\\n\\nvar secondsTexty2 = screen.find('secondsTexty2');\\nvar minutesTexty2 = screen.find('minutesTexty2');\\nvar hoursTexty2 = screen.find('hoursTexty2');\\nvar daysTexty2 = screen.find('daysTexty2');\\n\\nfunction updateTexties() {\\n    \/\/ Get the time from the countdown componentt using its JS API method and\\n    \/\/ split the values into and array (seconds -> minutes -> hours -> etc ..)\\n    var formattedTime = countdown.getCurrentTime().formatted.split(':').reverse();\\n    \\n    \/\/ Static Countdown | With leading zero\\n    secondsTexty.setTextAction(ctx, { text: formattedTime[0] || 0 }, noop);\\n    minutesTexty.setTextAction(ctx, { text: formattedTime[1] || 0 }, noop);\\n    hoursTexty.setTextAction(ctx, { text: formattedTime[2] || 0 }, noop);\\n    daysTexty.setTextAction(ctx, { text: formattedTime[3] || 0 }, noop);\\n    \\n    \/\/ Static Countdown | Without leading zero, uncomment if you want to use it\\n    \/\/ secondsTexty.setTextAction(ctx, { text: parseInt(formattedTime[0], 10) || 0 }, noop);\\n    \/\/ minutesTexty.setTextAction(ctx, { text: parseInt(formattedTime[1], 10) || 0 }, noop);\\n    \/\/ hoursTexty.setTextAction(ctx, { text: parseInt(formattedTime[2], 10) || 0 }, noop);\\n    \/\/ daysTexty.setTextAction(ctx, { text: parseInt(formattedTime[3], 10) || 0 }, noop);\\n    \\n    \/\/ Responsive Countdown | With leading zero\\n    secondsTexty2.setTextAction(ctx, { text: formattedTime[0] || 0 }, noop);\\n    minutesTexty2.setTextAction(ctx, { text: formattedTime[1] || 0 }, noop);\\n    hoursTexty2.setTextAction(ctx, { text: formattedTime[2] || 0 }, noop);\\n    daysTexty2.setTextAction(ctx, { text: formattedTime[3] || 0 }, noop);\\n    \\n    \/\/ Responsive Countdown | Without leading zero, uncomment if you want to use it\\n    \/\/ secondsTexty2.setTextAction(ctx, { text: parseInt(formattedTime[0], 10) || 0 }, noop);\\n    \/\/ minutesTexty2.setTextAction(ctx, { text: parseInt(formattedTime[1], 10) || 0 }, noop);\\n    \/\/ hoursTexty2.setTextAction(ctx, { text: parseInt(formattedTime[2], 10) || 0 }, noop);\\n    \/\/ daysTexty2.setTextAction(ctx, { text: parseInt(formattedTime[3], 10) || 0 }, noop);\\n}\\n\\n\/\/ Update the texties every second\\nsetInterval(updateTexties, 100);\\n\\nc();\"},{\"localId\":897,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Call 'c' when the action is considered \\\"completed\\\".\\n\/* This code enables use of the locator component linked feed\/location table to populate the\\n\\\"Get Directions\\\" and \\\"Call\\\" hotspot functions within the template*\/\\n\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicAddress');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nwindow.celtraCustomLocations_Nearby  = [];\\n\\nfunction saveCurrentLocationData_viaNearby(nearestLocations, userLocation) {\\n    var currentGroupUnique1Line    = screen.find('Nearby_DynamicAddress'),\\n        currentLocation = nearestLocations[0],\\n        directionsUrl   = 'https:\/\/maps.google.com?saddr=' + userLocation.lat + ',' + userLocation.lng + '&daddr=' + currentLocation.lat + ',' + currentLocation.lng + '&directionsmode=driving';\\n\\n    window.celtraCustomLocations_Nearby.push({\\n        name: currentLocation.name,\\n        directions: directionsUrl,\\n        phone: currentLocation.phone\\n    });\\n}\\n\\nvar nearbyAddress1 = screen.find('Nearby_DynamicAddress');\\nvar nearestLocations = null;\\nvar userLocation = null;\\n\\nnearbyAddress1.on('userlocationfound', function(location) {\\n    userLocation = location;\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nnearbyAddress1.on('nearestlocationfound', function(location) {\\n    nearestLocations = [location];\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nc();\"},{\"localId\":898,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Call 'c' when the action is considered \\\"completed\\\".\\n\/* This code enables use of the locator component linked feed\/location table to populate the\\n\\\"Get Directions\\\" and \\\"Call\\\" hotspot functions within the template*\/\\n\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicDistanceAway');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nwindow.celtraCustomLocations_Nearby  = [];\\n\\nfunction saveCurrentLocationData_viaNearby(nearestLocations, userLocation) {\\n    var currentGroupUnique1Line    = screen.find('Nearby_DynamicDistanceAway'),\\n        currentLocation = nearestLocations[0],\\n        directionsUrl   = 'https:\/\/maps.google.com?saddr=' + userLocation.lat + ',' + userLocation.lng + '&daddr=' + currentLocation.lat + ',' + currentLocation.lng + '&directionsmode=driving';\\n\\n    window.celtraCustomLocations_Nearby.push({\\n        name: currentLocation.name,\\n        directions: directionsUrl,\\n        phone: currentLocation.phone\\n    });\\n}\\n\\nvar nearbyAddress1 = screen.find('Nearby_DynamicDistanceAway');\\nvar nearestLocations = null;\\nvar userLocation = null;\\n\\nnearbyAddress1.on('userlocationfound', function(location) {\\n    userLocation = location;\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nnearbyAddress1.on('nearestlocationfound', function(location) {\\n    nearestLocations = [location];\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nc();\"},{\"localId\":915,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/* === This code modifies the Nearby component in these templates to display a plain address\\nwithout Celtra's default \\\"x.xx mi to th nearest location\\\" text*\/\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicAddress');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nvar nearbyInstance = screen.findAll('Nearby_DynamicAddress')[0];\\n\\nnearbyInstance.setPhrases('english', {\\n    message: ' ',\\n    fallbackMessage: \\\"No nearby stores\\\"\\n});\\n\\n\\nc();\"},{\"localId\":916,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/* === This code modifies the Nearby component in these templates to display as \\\"x.xx miles away\\\" in distance*\/\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicDistanceAway');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nvar nearbyInstance2 = screen.findAll('Nearby_DynamicDistanceAway')[0];\\n\\nnearbyInstance2.setPhrases('english', {\\n    message: '<distance> <units> away',\\n    fallbackMessage: \\\"No nearby stores\\\"\\n});\\n\\n\\nc();\"},{\"localId\":917,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Call 'c' when the action is considered \\\"completed\\\".\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('locator');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nwindow.celtraCustomLocation = {};\\n\\nfunction saveCurrentLocationData(nearestLocations) {\\n    var userLocation    = locator.getUserLocation(),\\n        currentLocation = nearestLocations[0];\\n\\n    window.celtraCustomLocation.phone = currentLocation.phone;\\n    window.celtraCustomLocation.name = currentLocation.name;\\n    window.celtraCustomLocation.directions = 'https:\/\/maps.google.com?saddr=' + userLocation.lat + ',' + userLocation.lng + '&daddr=' + currentLocation.lat + ',' + currentLocation.lng + '&directionsmode=driving';\\n\\n}\\n\\nvar locator = screen.find('locator');\\nvar nearestLocations = [];\\nvar nearestLocationsFilled = false;\\n\\nlocator.getButton('refocus') && locator.getButton('refocus').setVisibility(false);\\nlocator.getButton('zoomIn') && locator.getButton('zoomIn').setVisibility(false);\\nlocator.getButton('zoomOut') && locator.getButton('zoomOut').setVisibility(false);\\n\\nlocator.on('locationsaddedtomap', function() {\\n    if (!nearestLocationsFilled) {\\n        saveCurrentLocationData(nearestLocations);\\n        nearestLocationsFilled = true;\\n    }\\n})\\n\\nlocator.on('locationsloaded', function(locations) {\\n    nearestLocations = [];\\n    \\n    for (var i = 0; i < locations.length; i++) {\\n        if (nearestLocations.length === 1) {\\n            return;\\n        }\\n        \\n        var currentLocation = locations[i];\\n        if (currentLocation.locations) { \/\/ cluster marker\\n            var markerArray = currentLocation.locations;\\n            for (var j = 0; j < markerArray.length; j++) {\\n                if (nearestLocations.length === 1) {\\n                    return;\\n                }\\n                nearestLocations.push(markerArray[j]);\\n            }\\n        } else {\\n            nearestLocations.push(currentLocation);\\n        }\\n    }\\n});\\n\\nc();\"},{\"localId\":918,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Adds PE Team's external impression pixel tracking to user engagements with the Locator component map\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('locator');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nvar locator = screen.find('locator');\\n\\nlocator.once('directionstapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('maptapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('locationmarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('clustermarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('mapdragged', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\n\\n\\n\/\/ Exposes PE Team's custom tags in the Celtra Tag Generator as fields\\nlocator.once('directionstapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapDirectionsTapped }, noop);\\n});\\n\\nlocator.once('maptapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapTapped }, noop);\\n});\\n\\nlocator.once('locationmarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapMarkerTapped }, noop);\\n});\\n\\nlocator.once('clustermarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapClusterMarkerTapped }, noop);\\n});\\n\\nlocator.once('mapdragged', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapDragged }, noop);\\n});\\n\\n\\nc();\\n\"},{\"localId\":919,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ The countdown component can be positioned offscreen or hidden. We are using it just to get the time value.\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Countdown (Source)');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container goup verification\\n\\nvar countdown = screen.find('Countdown (Source)');\\n\\n\/\/ Reference the texty components that will be used to show the values\\nvar secondsTexty = screen.find('secondsTexty');\\nvar minutesTexty = screen.find('minutesTexty');\\nvar hoursTexty = screen.find('hoursTexty');\\nvar daysTexty = screen.find('daysTexty');\\n\\nvar secondsTexty2 = screen.find('secondsTexty2');\\nvar minutesTexty2 = screen.find('minutesTexty2');\\nvar hoursTexty2 = screen.find('hoursTexty2');\\nvar daysTexty2 = screen.find('daysTexty2');\\n\\nfunction updateTexties() {\\n    \/\/ Get the time from the countdown componentt using its JS API method and\\n    \/\/ split the values into and array (seconds -> minutes -> hours -> etc ..)\\n    var formattedTime = countdown.getCurrentTime().formatted.split(':').reverse();\\n    \\n    \/\/ Static Countdown | With leading zero\\n    secondsTexty.setTextAction(ctx, { text: formattedTime[0] || 0 }, noop);\\n    minutesTexty.setTextAction(ctx, { text: formattedTime[1] || 0 }, noop);\\n    hoursTexty.setTextAction(ctx, { text: formattedTime[2] || 0 }, noop);\\n    daysTexty.setTextAction(ctx, { text: formattedTime[3] || 0 }, noop);\\n    \\n    \/\/ Static Countdown | Without leading zero, uncomment if you want to use it\\n    \/\/ secondsTexty.setTextAction(ctx, { text: parseInt(formattedTime[0], 10) || 0 }, noop);\\n    \/\/ minutesTexty.setTextAction(ctx, { text: parseInt(formattedTime[1], 10) || 0 }, noop);\\n    \/\/ hoursTexty.setTextAction(ctx, { text: parseInt(formattedTime[2], 10) || 0 }, noop);\\n    \/\/ daysTexty.setTextAction(ctx, { text: parseInt(formattedTime[3], 10) || 0 }, noop);\\n    \\n    \/\/ Responsive Countdown | With leading zero\\n    secondsTexty2.setTextAction(ctx, { text: formattedTime[0] || 0 }, noop);\\n    minutesTexty2.setTextAction(ctx, { text: formattedTime[1] || 0 }, noop);\\n    hoursTexty2.setTextAction(ctx, { text: formattedTime[2] || 0 }, noop);\\n    daysTexty2.setTextAction(ctx, { text: formattedTime[3] || 0 }, noop);\\n    \\n    \/\/ Responsive Countdown | Without leading zero, uncomment if you want to use it\\n    \/\/ secondsTexty2.setTextAction(ctx, { text: parseInt(formattedTime[0], 10) || 0 }, noop);\\n    \/\/ minutesTexty2.setTextAction(ctx, { text: parseInt(formattedTime[1], 10) || 0 }, noop);\\n    \/\/ hoursTexty2.setTextAction(ctx, { text: parseInt(formattedTime[2], 10) || 0 }, noop);\\n    \/\/ daysTexty2.setTextAction(ctx, { text: parseInt(formattedTime[3], 10) || 0 }, noop);\\n}\\n\\n\/\/ Update the texties every second\\nsetInterval(updateTexties, 100);\\n\\nc();\"},{\"localId\":920,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Call 'c' when the action is considered \\\"completed\\\".\\n\/* This code enables use of the locator component linked feed\/location table to populate the\\n\\\"Get Directions\\\" and \\\"Call\\\" hotspot functions within the template*\/\\n\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicAddress');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nwindow.celtraCustomLocations_Nearby  = [];\\n\\nfunction saveCurrentLocationData_viaNearby(nearestLocations, userLocation) {\\n    var currentGroupUnique1Line    = screen.find('Nearby_DynamicAddress'),\\n        currentLocation = nearestLocations[0],\\n        directionsUrl   = 'https:\/\/maps.google.com?saddr=' + userLocation.lat + ',' + userLocation.lng + '&daddr=' + currentLocation.lat + ',' + currentLocation.lng + '&directionsmode=driving';\\n\\n    window.celtraCustomLocations_Nearby.push({\\n        name: currentLocation.name,\\n        directions: directionsUrl,\\n        phone: currentLocation.phone\\n    });\\n}\\n\\nvar nearbyAddress1 = screen.find('Nearby_DynamicAddress');\\nvar nearestLocations = null;\\nvar userLocation = null;\\n\\nnearbyAddress1.on('userlocationfound', function(location) {\\n    userLocation = location;\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nnearbyAddress1.on('nearestlocationfound', function(location) {\\n    nearestLocations = [location];\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nc();\"},{\"localId\":921,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Call 'c' when the action is considered \\\"completed\\\".\\n\/* This code enables use of the locator component linked feed\/location table to populate the\\n\\\"Get Directions\\\" and \\\"Call\\\" hotspot functions within the template*\/\\n\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicDistanceAway');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nwindow.celtraCustomLocations_Nearby  = [];\\n\\nfunction saveCurrentLocationData_viaNearby(nearestLocations, userLocation) {\\n    var currentGroupUnique1Line    = screen.find('Nearby_DynamicDistanceAway'),\\n        currentLocation = nearestLocations[0],\\n        directionsUrl   = 'https:\/\/maps.google.com?saddr=' + userLocation.lat + ',' + userLocation.lng + '&daddr=' + currentLocation.lat + ',' + currentLocation.lng + '&directionsmode=driving';\\n\\n    window.celtraCustomLocations_Nearby.push({\\n        name: currentLocation.name,\\n        directions: directionsUrl,\\n        phone: currentLocation.phone\\n    });\\n}\\n\\nvar nearbyAddress1 = screen.find('Nearby_DynamicDistanceAway');\\nvar nearestLocations = null;\\nvar userLocation = null;\\n\\nnearbyAddress1.on('userlocationfound', function(location) {\\n    userLocation = location;\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nnearbyAddress1.on('nearestlocationfound', function(location) {\\n    nearestLocations = [location];\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nc();\"},{\"localId\":938,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/* === This code modifies the Nearby component in these templates to display a plain address\\nwithout Celtra's default \\\"x.xx mi to th nearest location\\\" text*\/\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicAddress');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nvar nearbyInstance = screen.findAll('Nearby_DynamicAddress')[0];\\n\\nnearbyInstance.setPhrases('english', {\\n    message: ' ',\\n    fallbackMessage: \\\"No nearby stores\\\"\\n});\\n\\n\\nc();\"},{\"localId\":939,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/* === This code modifies the Nearby component in these templates to display as \\\"x.xx miles away\\\" in distance*\/\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicDistanceAway');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nvar nearbyInstance2 = screen.findAll('Nearby_DynamicDistanceAway')[0];\\n\\nnearbyInstance2.setPhrases('english', {\\n    message: '<distance> <units> away',\\n    fallbackMessage: \\\"No nearby stores\\\"\\n});\\n\\n\\nc();\"},{\"localId\":940,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Call 'c' when the action is considered \\\"completed\\\".\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('locator');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nwindow.celtraCustomLocation = {};\\n\\nfunction saveCurrentLocationData(nearestLocations) {\\n    var userLocation    = locator.getUserLocation(),\\n        currentLocation = nearestLocations[0];\\n\\n    window.celtraCustomLocation.phone = currentLocation.phone;\\n    window.celtraCustomLocation.name = currentLocation.name;\\n    window.celtraCustomLocation.directions = 'https:\/\/maps.google.com?saddr=' + userLocation.lat + ',' + userLocation.lng + '&daddr=' + currentLocation.lat + ',' + currentLocation.lng + '&directionsmode=driving';\\n\\n}\\n\\nvar locator = screen.find('locator');\\nvar nearestLocations = [];\\nvar nearestLocationsFilled = false;\\n\\nlocator.getButton('refocus') && locator.getButton('refocus').setVisibility(false);\\nlocator.getButton('zoomIn') && locator.getButton('zoomIn').setVisibility(false);\\nlocator.getButton('zoomOut') && locator.getButton('zoomOut').setVisibility(false);\\n\\nlocator.on('locationsaddedtomap', function() {\\n    if (!nearestLocationsFilled) {\\n        saveCurrentLocationData(nearestLocations);\\n        nearestLocationsFilled = true;\\n    }\\n})\\n\\nlocator.on('locationsloaded', function(locations) {\\n    nearestLocations = [];\\n    \\n    for (var i = 0; i < locations.length; i++) {\\n        if (nearestLocations.length === 1) {\\n            return;\\n        }\\n        \\n        var currentLocation = locations[i];\\n        if (currentLocation.locations) { \/\/ cluster marker\\n            var markerArray = currentLocation.locations;\\n            for (var j = 0; j < markerArray.length; j++) {\\n                if (nearestLocations.length === 1) {\\n                    return;\\n                }\\n                nearestLocations.push(markerArray[j]);\\n            }\\n        } else {\\n            nearestLocations.push(currentLocation);\\n        }\\n    }\\n});\\n\\nc();\"},{\"localId\":941,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Adds PE Team's external impression pixel tracking to user engagements with the Locator component map\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('locator');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nvar locator = screen.find('locator');\\n\\nlocator.once('directionstapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('maptapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('locationmarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('clustermarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('mapdragged', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\n\\n\\n\/\/ Exposes PE Team's custom tags in the Celtra Tag Generator as fields\\nlocator.once('directionstapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapDirectionsTapped }, noop);\\n});\\n\\nlocator.once('maptapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapTapped }, noop);\\n});\\n\\nlocator.once('locationmarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapMarkerTapped }, noop);\\n});\\n\\nlocator.once('clustermarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapClusterMarkerTapped }, noop);\\n});\\n\\nlocator.once('mapdragged', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapDragged }, noop);\\n});\\n\\n\\nc();\\n\"},{\"localId\":942,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ The countdown component can be positioned offscreen or hidden. We are using it just to get the time value.\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Countdown (Source)');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container goup verification\\n\\nvar countdown = screen.find('Countdown (Source)');\\n\\n\/\/ Reference the texty components that will be used to show the values\\nvar secondsTexty = screen.find('secondsTexty');\\nvar minutesTexty = screen.find('minutesTexty');\\nvar hoursTexty = screen.find('hoursTexty');\\nvar daysTexty = screen.find('daysTexty');\\n\\nvar secondsTexty2 = screen.find('secondsTexty2');\\nvar minutesTexty2 = screen.find('minutesTexty2');\\nvar hoursTexty2 = screen.find('hoursTexty2');\\nvar daysTexty2 = screen.find('daysTexty2');\\n\\nfunction updateTexties() {\\n    \/\/ Get the time from the countdown componentt using its JS API method and\\n    \/\/ split the values into and array (seconds -> minutes -> hours -> etc ..)\\n    var formattedTime = countdown.getCurrentTime().formatted.split(':').reverse();\\n    \\n    \/\/ Static Countdown | With leading zero\\n    secondsTexty.setTextAction(ctx, { text: formattedTime[0] || 0 }, noop);\\n    minutesTexty.setTextAction(ctx, { text: formattedTime[1] || 0 }, noop);\\n    hoursTexty.setTextAction(ctx, { text: formattedTime[2] || 0 }, noop);\\n    daysTexty.setTextAction(ctx, { text: formattedTime[3] || 0 }, noop);\\n    \\n    \/\/ Static Countdown | Without leading zero, uncomment if you want to use it\\n    \/\/ secondsTexty.setTextAction(ctx, { text: parseInt(formattedTime[0], 10) || 0 }, noop);\\n    \/\/ minutesTexty.setTextAction(ctx, { text: parseInt(formattedTime[1], 10) || 0 }, noop);\\n    \/\/ hoursTexty.setTextAction(ctx, { text: parseInt(formattedTime[2], 10) || 0 }, noop);\\n    \/\/ daysTexty.setTextAction(ctx, { text: parseInt(formattedTime[3], 10) || 0 }, noop);\\n    \\n    \/\/ Responsive Countdown | With leading zero\\n    secondsTexty2.setTextAction(ctx, { text: formattedTime[0] || 0 }, noop);\\n    minutesTexty2.setTextAction(ctx, { text: formattedTime[1] || 0 }, noop);\\n    hoursTexty2.setTextAction(ctx, { text: formattedTime[2] || 0 }, noop);\\n    daysTexty2.setTextAction(ctx, { text: formattedTime[3] || 0 }, noop);\\n    \\n    \/\/ Responsive Countdown | Without leading zero, uncomment if you want to use it\\n    \/\/ secondsTexty2.setTextAction(ctx, { text: parseInt(formattedTime[0], 10) || 0 }, noop);\\n    \/\/ minutesTexty2.setTextAction(ctx, { text: parseInt(formattedTime[1], 10) || 0 }, noop);\\n    \/\/ hoursTexty2.setTextAction(ctx, { text: parseInt(formattedTime[2], 10) || 0 }, noop);\\n    \/\/ daysTexty2.setTextAction(ctx, { text: parseInt(formattedTime[3], 10) || 0 }, noop);\\n}\\n\\n\/\/ Update the texties every second\\nsetInterval(updateTexties, 100);\\n\\nc();\"},{\"localId\":943,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Call 'c' when the action is considered \\\"completed\\\".\\n\/* This code enables use of the locator component linked feed\/location table to populate the\\n\\\"Get Directions\\\" and \\\"Call\\\" hotspot functions within the template*\/\\n\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicAddress');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nwindow.celtraCustomLocations_Nearby  = [];\\n\\nfunction saveCurrentLocationData_viaNearby(nearestLocations, userLocation) {\\n    var currentGroupUnique1Line    = screen.find('Nearby_DynamicAddress'),\\n        currentLocation = nearestLocations[0],\\n        directionsUrl   = 'https:\/\/maps.google.com?saddr=' + userLocation.lat + ',' + userLocation.lng + '&daddr=' + currentLocation.lat + ',' + currentLocation.lng + '&directionsmode=driving';\\n\\n    window.celtraCustomLocations_Nearby.push({\\n        name: currentLocation.name,\\n        directions: directionsUrl,\\n        phone: currentLocation.phone\\n    });\\n}\\n\\nvar nearbyAddress1 = screen.find('Nearby_DynamicAddress');\\nvar nearestLocations = null;\\nvar userLocation = null;\\n\\nnearbyAddress1.on('userlocationfound', function(location) {\\n    userLocation = location;\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nnearbyAddress1.on('nearestlocationfound', function(location) {\\n    nearestLocations = [location];\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nc();\"},{\"localId\":944,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Call 'c' when the action is considered \\\"completed\\\".\\n\/* This code enables use of the locator component linked feed\/location table to populate the\\n\\\"Get Directions\\\" and \\\"Call\\\" hotspot functions within the template*\/\\n\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicDistanceAway');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nwindow.celtraCustomLocations_Nearby  = [];\\n\\nfunction saveCurrentLocationData_viaNearby(nearestLocations, userLocation) {\\n    var currentGroupUnique1Line    = screen.find('Nearby_DynamicDistanceAway'),\\n        currentLocation = nearestLocations[0],\\n        directionsUrl   = 'https:\/\/maps.google.com?saddr=' + userLocation.lat + ',' + userLocation.lng + '&daddr=' + currentLocation.lat + ',' + currentLocation.lng + '&directionsmode=driving';\\n\\n    window.celtraCustomLocations_Nearby.push({\\n        name: currentLocation.name,\\n        directions: directionsUrl,\\n        phone: currentLocation.phone\\n    });\\n}\\n\\nvar nearbyAddress1 = screen.find('Nearby_DynamicDistanceAway');\\nvar nearestLocations = null;\\nvar userLocation = null;\\n\\nnearbyAddress1.on('userlocationfound', function(location) {\\n    userLocation = location;\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nnearbyAddress1.on('nearestlocationfound', function(location) {\\n    nearestLocations = [location];\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nc();\"},{\"localId\":961,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/* === This code modifies the Nearby component in these templates to display a plain address\\nwithout Celtra's default \\\"x.xx mi to th nearest location\\\" text*\/\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicAddress');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nvar nearbyInstance = screen.findAll('Nearby_DynamicAddress')[0];\\n\\nnearbyInstance.setPhrases('english', {\\n    message: ' ',\\n    fallbackMessage: \\\"No nearby stores\\\"\\n});\\n\\n\\nc();\"},{\"localId\":962,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/* === This code modifies the Nearby component in these templates to display as \\\"x.xx miles away\\\" in distance*\/\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicDistanceAway');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nvar nearbyInstance2 = screen.findAll('Nearby_DynamicDistanceAway')[0];\\n\\nnearbyInstance2.setPhrases('english', {\\n    message: '<distance> <units> away',\\n    fallbackMessage: \\\"No nearby stores\\\"\\n});\\n\\n\\nc();\"},{\"localId\":963,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Call 'c' when the action is considered \\\"completed\\\".\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('locator');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nwindow.celtraCustomLocation = {};\\n\\nfunction saveCurrentLocationData(nearestLocations) {\\n    var userLocation    = locator.getUserLocation(),\\n        currentLocation = nearestLocations[0];\\n\\n    window.celtraCustomLocation.phone = currentLocation.phone;\\n    window.celtraCustomLocation.name = currentLocation.name;\\n    window.celtraCustomLocation.directions = 'https:\/\/maps.google.com?saddr=' + userLocation.lat + ',' + userLocation.lng + '&daddr=' + currentLocation.lat + ',' + currentLocation.lng + '&directionsmode=driving';\\n\\n}\\n\\nvar locator = screen.find('locator');\\nvar nearestLocations = [];\\nvar nearestLocationsFilled = false;\\n\\nlocator.getButton('refocus') && locator.getButton('refocus').setVisibility(false);\\nlocator.getButton('zoomIn') && locator.getButton('zoomIn').setVisibility(false);\\nlocator.getButton('zoomOut') && locator.getButton('zoomOut').setVisibility(false);\\n\\nlocator.on('locationsaddedtomap', function() {\\n    if (!nearestLocationsFilled) {\\n        saveCurrentLocationData(nearestLocations);\\n        nearestLocationsFilled = true;\\n    }\\n})\\n\\nlocator.on('locationsloaded', function(locations) {\\n    nearestLocations = [];\\n    \\n    for (var i = 0; i < locations.length; i++) {\\n        if (nearestLocations.length === 1) {\\n            return;\\n        }\\n        \\n        var currentLocation = locations[i];\\n        if (currentLocation.locations) { \/\/ cluster marker\\n            var markerArray = currentLocation.locations;\\n            for (var j = 0; j < markerArray.length; j++) {\\n                if (nearestLocations.length === 1) {\\n                    return;\\n                }\\n                nearestLocations.push(markerArray[j]);\\n            }\\n        } else {\\n            nearestLocations.push(currentLocation);\\n        }\\n    }\\n});\\n\\nc();\"},{\"localId\":964,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Adds PE Team's external impression pixel tracking to user engagements with the Locator component map\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('locator');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nvar locator = screen.find('locator');\\n\\nlocator.once('directionstapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('maptapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('locationmarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('clustermarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('mapdragged', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\n\\n\\n\/\/ Exposes PE Team's custom tags in the Celtra Tag Generator as fields\\nlocator.once('directionstapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapDirectionsTapped }, noop);\\n});\\n\\nlocator.once('maptapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapTapped }, noop);\\n});\\n\\nlocator.once('locationmarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapMarkerTapped }, noop);\\n});\\n\\nlocator.once('clustermarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapClusterMarkerTapped }, noop);\\n});\\n\\nlocator.once('mapdragged', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapDragged }, noop);\\n});\\n\\n\\nc();\\n\"},{\"localId\":965,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ The countdown component can be positioned offscreen or hidden. We are using it just to get the time value.\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Countdown (Source)');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container goup verification\\n\\nvar countdown = screen.find('Countdown (Source)');\\n\\n\/\/ Reference the texty components that will be used to show the values\\nvar secondsTexty = screen.find('secondsTexty');\\nvar minutesTexty = screen.find('minutesTexty');\\nvar hoursTexty = screen.find('hoursTexty');\\nvar daysTexty = screen.find('daysTexty');\\n\\nvar secondsTexty2 = screen.find('secondsTexty2');\\nvar minutesTexty2 = screen.find('minutesTexty2');\\nvar hoursTexty2 = screen.find('hoursTexty2');\\nvar daysTexty2 = screen.find('daysTexty2');\\n\\nfunction updateTexties() {\\n    \/\/ Get the time from the countdown componentt using its JS API method and\\n    \/\/ split the values into and array (seconds -> minutes -> hours -> etc ..)\\n    var formattedTime = countdown.getCurrentTime().formatted.split(':').reverse();\\n    \\n    \/\/ Static Countdown | With leading zero\\n    secondsTexty.setTextAction(ctx, { text: formattedTime[0] || 0 }, noop);\\n    minutesTexty.setTextAction(ctx, { text: formattedTime[1] || 0 }, noop);\\n    hoursTexty.setTextAction(ctx, { text: formattedTime[2] || 0 }, noop);\\n    daysTexty.setTextAction(ctx, { text: formattedTime[3] || 0 }, noop);\\n    \\n    \/\/ Static Countdown | Without leading zero, uncomment if you want to use it\\n    \/\/ secondsTexty.setTextAction(ctx, { text: parseInt(formattedTime[0], 10) || 0 }, noop);\\n    \/\/ minutesTexty.setTextAction(ctx, { text: parseInt(formattedTime[1], 10) || 0 }, noop);\\n    \/\/ hoursTexty.setTextAction(ctx, { text: parseInt(formattedTime[2], 10) || 0 }, noop);\\n    \/\/ daysTexty.setTextAction(ctx, { text: parseInt(formattedTime[3], 10) || 0 }, noop);\\n    \\n    \/\/ Responsive Countdown | With leading zero\\n    secondsTexty2.setTextAction(ctx, { text: formattedTime[0] || 0 }, noop);\\n    minutesTexty2.setTextAction(ctx, { text: formattedTime[1] || 0 }, noop);\\n    hoursTexty2.setTextAction(ctx, { text: formattedTime[2] || 0 }, noop);\\n    daysTexty2.setTextAction(ctx, { text: formattedTime[3] || 0 }, noop);\\n    \\n    \/\/ Responsive Countdown | Without leading zero, uncomment if you want to use it\\n    \/\/ secondsTexty2.setTextAction(ctx, { text: parseInt(formattedTime[0], 10) || 0 }, noop);\\n    \/\/ minutesTexty2.setTextAction(ctx, { text: parseInt(formattedTime[1], 10) || 0 }, noop);\\n    \/\/ hoursTexty2.setTextAction(ctx, { text: parseInt(formattedTime[2], 10) || 0 }, noop);\\n    \/\/ daysTexty2.setTextAction(ctx, { text: parseInt(formattedTime[3], 10) || 0 }, noop);\\n}\\n\\n\/\/ Update the texties every second\\nsetInterval(updateTexties, 100);\\n\\nc();\"},{\"localId\":966,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Call 'c' when the action is considered \\\"completed\\\".\\n\/* This code enables use of the locator component linked feed\/location table to populate the\\n\\\"Get Directions\\\" and \\\"Call\\\" hotspot functions within the template*\/\\n\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicAddress');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nwindow.celtraCustomLocations_Nearby  = [];\\n\\nfunction saveCurrentLocationData_viaNearby(nearestLocations, userLocation) {\\n    var currentGroupUnique1Line    = screen.find('Nearby_DynamicAddress'),\\n        currentLocation = nearestLocations[0],\\n        directionsUrl   = 'https:\/\/maps.google.com?saddr=' + userLocation.lat + ',' + userLocation.lng + '&daddr=' + currentLocation.lat + ',' + currentLocation.lng + '&directionsmode=driving';\\n\\n    window.celtraCustomLocations_Nearby.push({\\n        name: currentLocation.name,\\n        directions: directionsUrl,\\n        phone: currentLocation.phone\\n    });\\n}\\n\\nvar nearbyAddress1 = screen.find('Nearby_DynamicAddress');\\nvar nearestLocations = null;\\nvar userLocation = null;\\n\\nnearbyAddress1.on('userlocationfound', function(location) {\\n    userLocation = location;\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nnearbyAddress1.on('nearestlocationfound', function(location) {\\n    nearestLocations = [location];\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nc();\"},{\"localId\":967,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Call 'c' when the action is considered \\\"completed\\\".\\n\/* This code enables use of the locator component linked feed\/location table to populate the\\n\\\"Get Directions\\\" and \\\"Call\\\" hotspot functions within the template*\/\\n\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicDistanceAway');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nwindow.celtraCustomLocations_Nearby  = [];\\n\\nfunction saveCurrentLocationData_viaNearby(nearestLocations, userLocation) {\\n    var currentGroupUnique1Line    = screen.find('Nearby_DynamicDistanceAway'),\\n        currentLocation = nearestLocations[0],\\n        directionsUrl   = 'https:\/\/maps.google.com?saddr=' + userLocation.lat + ',' + userLocation.lng + '&daddr=' + currentLocation.lat + ',' + currentLocation.lng + '&directionsmode=driving';\\n\\n    window.celtraCustomLocations_Nearby.push({\\n        name: currentLocation.name,\\n        directions: directionsUrl,\\n        phone: currentLocation.phone\\n    });\\n}\\n\\nvar nearbyAddress1 = screen.find('Nearby_DynamicDistanceAway');\\nvar nearestLocations = null;\\nvar userLocation = null;\\n\\nnearbyAddress1.on('userlocationfound', function(location) {\\n    userLocation = location;\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nnearbyAddress1.on('nearestlocationfound', function(location) {\\n    nearestLocations = [location];\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nc();\"},{\"localId\":984,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/* === This code modifies the Nearby component in these templates to display a plain address\\nwithout Celtra's default \\\"x.xx mi to th nearest location\\\" text*\/\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicAddress');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nvar nearbyInstance = screen.findAll('Nearby_DynamicAddress')[0];\\n\\nnearbyInstance.setPhrases('english', {\\n    message: ' ',\\n    fallbackMessage: \\\"No nearby stores\\\"\\n});\\n\\n\\nc();\"},{\"localId\":985,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/* === This code modifies the Nearby component in these templates to display as \\\"x.xx miles away\\\" in distance*\/\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicDistanceAway');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nvar nearbyInstance2 = screen.findAll('Nearby_DynamicDistanceAway')[0];\\n\\nnearbyInstance2.setPhrases('english', {\\n    message: '<distance> <units> away',\\n    fallbackMessage: \\\"No nearby stores\\\"\\n});\\n\\n\\nc();\"},{\"localId\":986,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Call 'c' when the action is considered \\\"completed\\\".\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('locator');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nwindow.celtraCustomLocation = {};\\n\\nfunction saveCurrentLocationData(nearestLocations) {\\n    var userLocation    = locator.getUserLocation(),\\n        currentLocation = nearestLocations[0];\\n\\n    window.celtraCustomLocation.phone = currentLocation.phone;\\n    window.celtraCustomLocation.name = currentLocation.name;\\n    window.celtraCustomLocation.directions = 'https:\/\/maps.google.com?saddr=' + userLocation.lat + ',' + userLocation.lng + '&daddr=' + currentLocation.lat + ',' + currentLocation.lng + '&directionsmode=driving';\\n\\n}\\n\\nvar locator = screen.find('locator');\\nvar nearestLocations = [];\\nvar nearestLocationsFilled = false;\\n\\nlocator.getButton('refocus') && locator.getButton('refocus').setVisibility(false);\\nlocator.getButton('zoomIn') && locator.getButton('zoomIn').setVisibility(false);\\nlocator.getButton('zoomOut') && locator.getButton('zoomOut').setVisibility(false);\\n\\nlocator.on('locationsaddedtomap', function() {\\n    if (!nearestLocationsFilled) {\\n        saveCurrentLocationData(nearestLocations);\\n        nearestLocationsFilled = true;\\n    }\\n})\\n\\nlocator.on('locationsloaded', function(locations) {\\n    nearestLocations = [];\\n    \\n    for (var i = 0; i < locations.length; i++) {\\n        if (nearestLocations.length === 1) {\\n            return;\\n        }\\n        \\n        var currentLocation = locations[i];\\n        if (currentLocation.locations) { \/\/ cluster marker\\n            var markerArray = currentLocation.locations;\\n            for (var j = 0; j < markerArray.length; j++) {\\n                if (nearestLocations.length === 1) {\\n                    return;\\n                }\\n                nearestLocations.push(markerArray[j]);\\n            }\\n        } else {\\n            nearestLocations.push(currentLocation);\\n        }\\n    }\\n});\\n\\nc();\"},{\"localId\":987,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Adds PE Team's external impression pixel tracking to user engagements with the Locator component map\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('locator');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nvar locator = screen.find('locator');\\n\\nlocator.once('directionstapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('maptapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('locationmarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('clustermarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\nlocator.once('mapdragged', function(position) {\\n    unit.callURLAction(ctx, { url: 'https:\/\/mpp.mxptint.net\/2\/32524\/?rnd=%n&site=' }, noop);\\n});\\n\\n\\n\\n\/\/ Exposes PE Team's custom tags in the Celtra Tag Generator as fields\\nlocator.once('directionstapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapDirectionsTapped }, noop);\\n});\\n\\nlocator.once('maptapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapTapped }, noop);\\n});\\n\\nlocator.once('locationmarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapMarkerTapped }, noop);\\n});\\n\\nlocator.once('clustermarkertapped', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapClusterMarkerTapped }, noop);\\n});\\n\\nlocator.once('mapdragged', function(position) {\\n    unit.callURLAction(ctx, { url: creative.userParams.MapDragged }, noop);\\n});\\n\\n\\nc();\\n\"},{\"localId\":988,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ The countdown component can be positioned offscreen or hidden. We are using it just to get the time value.\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Countdown (Source)');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container goup verification\\n\\nvar countdown = screen.find('Countdown (Source)');\\n\\n\/\/ Reference the texty components that will be used to show the values\\nvar secondsTexty = screen.find('secondsTexty');\\nvar minutesTexty = screen.find('minutesTexty');\\nvar hoursTexty = screen.find('hoursTexty');\\nvar daysTexty = screen.find('daysTexty');\\n\\nvar secondsTexty2 = screen.find('secondsTexty2');\\nvar minutesTexty2 = screen.find('minutesTexty2');\\nvar hoursTexty2 = screen.find('hoursTexty2');\\nvar daysTexty2 = screen.find('daysTexty2');\\n\\nfunction updateTexties() {\\n    \/\/ Get the time from the countdown componentt using its JS API method and\\n    \/\/ split the values into and array (seconds -> minutes -> hours -> etc ..)\\n    var formattedTime = countdown.getCurrentTime().formatted.split(':').reverse();\\n    \\n    \/\/ Static Countdown | With leading zero\\n    secondsTexty.setTextAction(ctx, { text: formattedTime[0] || 0 }, noop);\\n    minutesTexty.setTextAction(ctx, { text: formattedTime[1] || 0 }, noop);\\n    hoursTexty.setTextAction(ctx, { text: formattedTime[2] || 0 }, noop);\\n    daysTexty.setTextAction(ctx, { text: formattedTime[3] || 0 }, noop);\\n    \\n    \/\/ Static Countdown | Without leading zero, uncomment if you want to use it\\n    \/\/ secondsTexty.setTextAction(ctx, { text: parseInt(formattedTime[0], 10) || 0 }, noop);\\n    \/\/ minutesTexty.setTextAction(ctx, { text: parseInt(formattedTime[1], 10) || 0 }, noop);\\n    \/\/ hoursTexty.setTextAction(ctx, { text: parseInt(formattedTime[2], 10) || 0 }, noop);\\n    \/\/ daysTexty.setTextAction(ctx, { text: parseInt(formattedTime[3], 10) || 0 }, noop);\\n    \\n    \/\/ Responsive Countdown | With leading zero\\n    secondsTexty2.setTextAction(ctx, { text: formattedTime[0] || 0 }, noop);\\n    minutesTexty2.setTextAction(ctx, { text: formattedTime[1] || 0 }, noop);\\n    hoursTexty2.setTextAction(ctx, { text: formattedTime[2] || 0 }, noop);\\n    daysTexty2.setTextAction(ctx, { text: formattedTime[3] || 0 }, noop);\\n    \\n    \/\/ Responsive Countdown | Without leading zero, uncomment if you want to use it\\n    \/\/ secondsTexty2.setTextAction(ctx, { text: parseInt(formattedTime[0], 10) || 0 }, noop);\\n    \/\/ minutesTexty2.setTextAction(ctx, { text: parseInt(formattedTime[1], 10) || 0 }, noop);\\n    \/\/ hoursTexty2.setTextAction(ctx, { text: parseInt(formattedTime[2], 10) || 0 }, noop);\\n    \/\/ daysTexty2.setTextAction(ctx, { text: parseInt(formattedTime[3], 10) || 0 }, noop);\\n}\\n\\n\/\/ Update the texties every second\\nsetInterval(updateTexties, 100);\\n\\nc();\"},{\"localId\":989,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Call 'c' when the action is considered \\\"completed\\\".\\n\/* This code enables use of the locator component linked feed\/location table to populate the\\n\\\"Get Directions\\\" and \\\"Call\\\" hotspot functions within the template*\/\\n\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicAddress');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nwindow.celtraCustomLocations_Nearby  = [];\\n\\nfunction saveCurrentLocationData_viaNearby(nearestLocations, userLocation) {\\n    var currentGroupUnique1Line    = screen.find('Nearby_DynamicAddress'),\\n        currentLocation = nearestLocations[0],\\n        directionsUrl   = 'https:\/\/maps.google.com?saddr=' + userLocation.lat + ',' + userLocation.lng + '&daddr=' + currentLocation.lat + ',' + currentLocation.lng + '&directionsmode=driving';\\n\\n    window.celtraCustomLocations_Nearby.push({\\n        name: currentLocation.name,\\n        directions: directionsUrl,\\n        phone: currentLocation.phone\\n    });\\n}\\n\\nvar nearbyAddress1 = screen.find('Nearby_DynamicAddress');\\nvar nearestLocations = null;\\nvar userLocation = null;\\n\\nnearbyAddress1.on('userlocationfound', function(location) {\\n    userLocation = location;\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nnearbyAddress1.on('nearestlocationfound', function(location) {\\n    nearestLocations = [location];\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nc();\"},{\"localId\":990,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"\/\/ Call 'c' when the action is considered \\\"completed\\\".\\n\/* This code enables use of the locator component linked feed\/location table to populate the\\n\\\"Get Directions\\\" and \\\"Call\\\" hotspot functions within the template*\/\\n\\n\\n\/* Verifies whether the object this code targets exists. If it does not, the function stops to prevent error.\\n   This should be at the top of container specific ExecuteJS actions*\/\\nvar containerGroupVerification = screen.find('Nearby_DynamicDistanceAway');\\n\\n\/\/ Stop executing if container isn't present\\nif (!containerGroupVerification) {\\n    c();\\n    return;\\n} \/\/end container group verification\\n\\nwindow.celtraCustomLocations_Nearby  = [];\\n\\nfunction saveCurrentLocationData_viaNearby(nearestLocations, userLocation) {\\n    var currentGroupUnique1Line    = screen.find('Nearby_DynamicDistanceAway'),\\n        currentLocation = nearestLocations[0],\\n        directionsUrl   = 'https:\/\/maps.google.com?saddr=' + userLocation.lat + ',' + userLocation.lng + '&daddr=' + currentLocation.lat + ',' + currentLocation.lng + '&directionsmode=driving';\\n\\n    window.celtraCustomLocations_Nearby.push({\\n        name: currentLocation.name,\\n        directions: directionsUrl,\\n        phone: currentLocation.phone\\n    });\\n}\\n\\nvar nearbyAddress1 = screen.find('Nearby_DynamicDistanceAway');\\nvar nearestLocations = null;\\nvar userLocation = null;\\n\\nnearbyAddress1.on('userlocationfound', function(location) {\\n    userLocation = location;\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nnearbyAddress1.on('nearestlocationfound', function(location) {\\n    nearestLocations = [location];\\n\\n    if (userLocation && nearestLocations) {\\n        saveCurrentLocationData_viaNearby(nearestLocations, userLocation)\\n    }\\n});\\n\\nc();\"},{\"localId\":8146,\"language\":\"javascript\",\"lockedInBuilder\":false,\"code\":\"Nearby.prototype._getNearestLocation = function() {\\n    if (!this.tableId || !this._userLocation) {\\n        return;\\n    }\\n\\n    var params = 'loc=' + this._userLocation.lat + ',' + this._userLocation.lng + '&limit=1';\\n\\n    loadJSONP((creative.secure ? creative.geoUrl : creative.insecureGeoUrl) + 'locationTables\/' + this.tableId + '\/locations\/?' + params, function(locations) {\\n        if (locations && locations.length === 1) {\\n            var htmlentitizeCount = (this.templates.message.toString().match(\/htmlentitize\/g) || []).length;\\n            var isTemplateFixed = htmlentitizeCount < 3; \\n            if (isTemplateFixed) {\\n                this._nearestLocation = sanitizeLocationsData(locations)[0];\\n            } else {\\n                this._nearestLocation = locations[0];\\n            }\\n            this.emit('nearestlocationfound', this._nearestLocation);\\n        } else {\\n            this._nearestLocation = null;\\n            this.emit('nearestlocationnotfound');\\n        }\\n        this._requestedLocation = true;\\n        this._updateMessage();\\n    }.bind(this));\\n};\\n\\nc();\"}],\"version\":1,\"hostedFiles\":null,\"googleMapsJavaScriptVersion\":\"3.43\",\"shareFacebookAppId\":\"1764042083689024\",\"videoStreamAlgoVersions\":{\"mpeg1LQVideo\":1,\"mpeg1SHQVideo\":1,\"mpeg1InstaVideo\":1,\"aacAudio\":1,\"mpeg4HQ\":3,\"mpeg4HQPlus\":1,\"mpeg4HD\":1,\"webmHQ\":1,\"webmHD\":1,\"mpeg4InstaVideo\":2,\"vp9_1080p\":1,\"x264_1080p\":1,\"vp9_720p\":1,\"x264_videoAsset\":1,\"x264_inline480p\":1,\"x264_inline720p\":1,\"vp9_inline720p\":1,\"custom\":1},\"isMoatVideoEnabled\":false,\"firstAppStoreUrlForInmobi\":\"#\"}, runtimeParams, trackingCenter, aggregatorTracking, experiments, adapter, urls, urlOpenedOverrideUrls, storeOpenedOverrideUrls, macros, urlOpenedUrlAppendage, clickThroughDestinationUrl, perf);\n            })();\n        ";

                var sc = iframe.contentDocument.createElement('script');
                sc.textContent = "function inherit(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber:{get:function(){return t.prototype},enumerable:!1,configurable:!1},uberConstructor:{get:function(){return t},enumerable:!1,configurable:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n]):e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n||(n=setTimeout(function(){n=null,e()},t))}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return\"undefined\"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||\"undefined\"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return\"url('\"+e.replace(\/'\/g,\"\\\\'\")+\"')\"}function camelize(e){return e.replace(\/-([a-z])\/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);var n=Math.max(0,t-(\"\"+e).length),r=(\"\"+Math.pow(10,n)).slice(1);return r+e}function htmlentitize(e){return e.replace(\/&\/g,\"&amp;\").replace(\/\"\/g,\"&quot;\").replace(\/'\/g,\"&#39;\").replace(\/<\/g,\"&lt;\").replace(\/>\/g,\"&gt;\")}function removeHtmlTags(e){var t,n=\"(?:[^\\\"'>]|\\\"[^\\\"]*\\\"|'[^']*')*\",r=new RegExp(\"<(?:!--(?:(?:-*[^->])*--+|-?)|script\\\\b\"+n+\">[\\\\s\\\\S]*?<\/script\\\\s*|style\\\\b\"+n+\">[\\\\s\\\\S]*?<\/style\\\\s*|\/?[a-z]\"+n+\")>\",\"gi\");do t=e,e=e.replace(r,\"\");while(e!==t);return e.replace(\/<\/g,\"&lt;\")}function trim(e){return e.replace(\/^\\s+|\\s+$\/g,\"\")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return e=String(e).charCodeAt(0),e&&(e>=1424&&1535>=e||e>=1536&&1791>=e||e>=1792&&1871>=e||e>=1872&&1919>=e||e>=2144&&2159>=e||e>=2208&&2303>=e||e>=64288&&64335>=e||e>=64336&&65023>=e||e>=65136&&65279>=e||8207===e||8235===e||8238===e)?!0:!1}function isLTRChar(e){return e=String(e).charCodeAt(0),e&&(e>=65&&90>=e||e>=97&&122>=e||e>=192&&214>=e||e>=216&&246>=e||e>=248&&696>=e||e>=768&&1424>=e||e>=2048&&8191>=e||e>=11264&&64284>=e||e>=65022&&65135>=e||e>=65277&&65535>=e||8206===e||8234===e||8237===e)?!0:!1}function guessWritingDirection(e){for(var t=25,n=Math.min(t,e.length),r=0;n>r;r++){var o=e.charAt(r);if(isLTRChar(o))return\"ltr\";if(isRTLChar(o))return\"rtl\"}return null}function randInt(){return(Math.random()+\"\").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if(\"undefined\"==typeof t[e]){t[e]=!1;try{window.addEventListener(\"listener-test\",null,Object.defineProperty({},e,{get:function(){t[e]=!0}}))}catch(n){}}return t[e]}function _buildNativeListenerOptions(e){if(\"object\"!=typeof e)return!!e;if(!_isListenerOptionSupported(\"capture\"))return!!e.capture;var t={capture:!!e.capture};return _isListenerOptionSupported(\"passive\")&&(t.passive=!!e.passive),t}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return\"y\"===e.validAxis?t=r>e.minDistanceForSwipe:\"x\"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal:n>r,isConsideredSwipe:t}}function attach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.addEventListener(o,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){var o=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(o,n,_buildNativeListenerOptions(r))}function once(e,t,n,r){attach(e,t,function o(){detach(e,t,o,r),n.apply(this,arguments)},r)}function trigger(e,t,n,r){var o=document.createEvent(\"HTMLEvents\");o.initEvent(t,n,r);var i=\"on\"+ucfirst(t);return\"function\"==typeof e[i]&&e[i](),e.dispatchEvent(o)}function fakeclick(e,t){t=t||window;var n=t.document.createElement(\"a\");n.cssText=\"visibility: hidden\",n.addEventListener(\"click\",function(t){e(),t.preventDefault(),t.stopPropagation(),n.parentNode.removeChild(n)},!0),t.document.body.appendChild(n);var r=document.createEvent(\"MouseEvents\");r.initEvent(\"click\",!0,!0),n.dispatchEvent(r)}function fakeClickAhrefBlank(e,t,n){t=t||noop,n=n||window;var r=n.document.createElement(\"a\");r.style.cssText=\"visibility: hidden\",r.setAttribute(\"href\",e),r.setAttribute(\"target\",\"_blank\"),r.addEventListener(\"click\",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r);var o=n.document.createEvent(\"MouseEvents\");o.initEvent(\"click\",!0,!0),r.dispatchEvent(o)}function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement(\"style\");r.textContent=e+\" {\"+t+\"}\",n?n.document.getElementsByTagName(\"head\")[0].appendChild(r):document.getElementsByTagName(\"head\")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement(\"style\");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return e=e.replace(\/\\&$\/,\"\").replace(\/\\+\/g,\"%20\"),e.split(\"&\").forEach(function(e){var n=e.split(\"=\").map(decodeURIComponent);t[n[0]]=n[1]}),t}function buildQuery(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+\"=\"+encodeURIComponent(e[n]));return t.join(\"&\")}function postBlob(e,t){var n=new XMLHttpRequest;n.open(\"POST\",creative.apiUrl+\"blobs?base64=1\"),n.setRequestHeader(\"Content-Type\",\"application\/octet-stream\"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){function n(e){return\"  p.push('\"+e.replace(\/'\/g,\"\\\\'\").split(\/\\r?\\n\/g).join(\"\\\\n');\\n  p.push('\")+\"');\\n\"}if(!e)return\"\";var r;if(-1==e.indexOf(\"<%\"))r=function(){return e};else{var o=e.split(\/<%\\s*|\\s*%>\/g),i=\"var p = []; with(o) {\\n\",a=!1;o.forEach(function(e){a?i+=\"=\"==e[0]?\"  p.push(\"+e.replace(\/^=\\s*|\\s*$\/g,\"\")+\");\\n\":\"  \"+e+\"\\n\":e&&(i+=n(e)),a=!a}),i+='} return p.join(\"\");';try{r=new Function(\"o\",i)}catch(c){var u=new Error(\"Cannot parse template! (see `template` property)\");throw u.template=i,u}}return t?r(t):r}function flash(){var e=document.createElement(\"div\");e.style.background=\"white\",e.style.opacity=.005,e.style.position=\"absolute\",e.style.top=0,e.style.left=0,e.style.width=\"100%\",e.style.height=\"100%\",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){\"use strict\";var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599];for(n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return\"[object Array]\"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp(\"([?|&])\"+t+\"=.*?(&|$)\",\"i\");return separator=-1!==e.indexOf(\"?\")?\"&\":\"?\",e.match(r)?e.replace(r,\"$1\"+t+\"=\"+n+\"$2\"):e+separator+t+\"=\"+n}function fetchShortenedUrl(e,t,n){function r(t,n){i[e].forEach(function(e){e[t](n)}),delete i[e]}n=n||noop;var o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;if(\"http\"==!e.slice(0,4))return void n();if(a[e])return void defer(function(){t(a[e])},0,\"fetchShortenedUrl defer success callback\");if(i[e]||(i[e]=[],o=!0),i[e].push({success:t,error:n}),o){var c=(creative.runtimeParams.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\"shortenedUrls\/\",u={url:e,fields:\"shortUrlKey\"},s=btoa(to_utf8(e));s=s.replace(\/\\\/\/g,\"$\").replace(\/\\+\/g,\"_\").replace(\/=\/g,\"\");var d={cbName:\"shortener_\"+s};loadJSONP(c+\"?\"+buildQuery(u),d,function(t){var n=creative.shareUrl+t.shortUrlKey;a[e]=n,r(\"success\",n)},function(){requestCreateShortenedUrl(e,r)})}}function requestCreateShortenedUrl(e,t){var n=(creative.runtimeParams.secure?creative.apiUrl:creative.insecureApiUrl)+\"shortenedUrls\/\",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open(\"POST\",n),o.setRequestHeader(\"Content-Type\",\"application\/json; charset=utf-8\"),o.onreadystatechange=function(){if(4===o.readyState)if(201===o.status){var n=JSON.parse(o.responseText),i=creative.shareUrl+n.shortUrlKey;r[e]=i,t(\"success\",i)}else t(\"error\")},o.send(JSON.stringify({url:e}))}function isMediaPlaying(e){try{return e.currentTime>0&&!e.paused&&!e.ended}catch(t){return!1}}function merge(){var e,t,n={};for(t=0;t<arguments.length;t+=1)if(e=arguments[t],null!==e&&void 0!==e)for(var r in e)n[r]=e[r];return n}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)\/(t-e)*(r-n)+n}function step(e,t){return e>t?0:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){var r=clamp(0,1,(n-e)\/(t-e));return r*r*r*((6*r-15)*r+10)}function bump(e,t,n){var r=clamp(0,1,(n-e)\/(t-e));return(Math.cos(Math.PI*r)+1)\/2}function getWindowNesting(e){var t={iframe:e!==e.top,friendlyIframe:!1,iabFriendlyIframe:!1,hostileIframe:!1,iframeDepth:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&\"undefined\"!=typeof e.inDapIF&&e.inDapIF;\"undefined\"!=typeof n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;\"undefined\"==typeof e.top.document&&(t.hostileIframe=!0)}catch(r){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return\"function\"==typeof e&&e.toString().indexOf(\"[native code]\")>-1}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&\"BackCompat\"!=e.document.compatMode,r=deviceInfo.os.ios(\"9\",null),o=\"win\"!==t&&(n||r||\"doc\"===t),i=\"win\"!==t&&(n||\"doc\"===t),a=e.document.documentElement||{};return{width:o?a.clientWidth:e.innerWidth,height:i?a.clientHeight:e.innerHeight,left:e.scrollX||a.scrollLeft||0,top:e.scrollY||a.scrollTop||0}}!function(e){if(!this.defer){try{for(;\"undefined\"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}var n=function(){function t(){return 9007199254740991===s?0:++s}var n,r,o,i,a=e,c=\"function\"==typeof a.setImmediate;if(a.MutationObserver)return function(e){n=document.createElement(\"div\"),new MutationObserver(function(){e(),n=null}).observe(n,{attributes:!0}),n.setAttribute(\"i\",\"1\")};if(!c&&a.postMessage&&!a.importScripts&&a.addEventListener){var u=\"com.setImmediate\"+Math.random(),s=0;i={};var d=function(e){if(e.source===a&&0===e.data.indexOf(u)){var t=e.data.split(\":\")[1];i[t](),delete i[t]}};return a.addEventListener(\"message\",d,!1),function(e){var n=t();i[n]=e,a.postMessage(u+\":\"+n,\"*\")}}return!c&&a.document&&\"onreadystatechange\"in document.createElement(\"script\")?function(e){r=document.createElement(\"script\"),r.onreadystatechange=function(){r.onreadystatechange=null,r.parentNode.removeChild(r),r=null,e()},document.body.appendChild(r)}:(o=c&&setImmediate||setTimeout,function(e){o(e)})}();this.defer=function(t,r,o,i){var a,c=0|r;if(o){var u;\"undefined\"!=typeof defer.perf?u=defer.perf:\"undefined\"!=typeof creative?u=creative.perf:\"undefined\"!=typeof perf&&(u=perf),u&&(u._stopTrackingDefers||(a=u.start(\"defer\",{deferId:o,delay:c})))}if(t){var s=function(){a&&a.end(),t()};i?n(s):e.setTimeout(s,c)}}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,\"bind\",{value:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(e){e.getEventNames=function(){var t={};return\"WebKitAnimationEvent\"in e&&(t.animationstart=\"webkitAnimationStart\",t.animationiteration=\"webkitAnimationIteration\",t.animationend=\"webkitAnimationEnd\"),\"WebKitTransitionEvent\"in e&&(t.transitionend=\"webkitTransitionEnd\"),t}}(window),_isListenerOptionSupported.opts={};var getTimestamp=function(){return void 0===window.performance||void 0===window.performance.now?Date.now:window.performance.now.bind(window.performance)}();Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,\"waitForEach\",{value:function(e,t,n){var r=this.length;r?this.forEach(function(o,i,a){var c=!1;e.call(n,o,function(){if(c)throw\"Called `done` multiple times for element \"+i;c=!0,--r||t()},i,a)},n):t()}}),function(e){e.loadJS=function(t,n,r,o){var i=e.loadJS.externals,a={success:n||noop,error:r||noop};if(!\/^[A-Za-z0-9]*:\\\/\\\/|^\\\/\\\/\/.test(t)){var c=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if(\"undefined\"==typeof c)return console.warn('Hosted file \"'+t+'\" was not found.'),void a.error();if(c.loaded!==!1)return console.warn('Hosted file \"'+t+'\" is already loaded.'),void setTimeout(a.success,0);c.loaded=!0,t=creative.cachedApiUrl+\"hostedFiles\/\"+creative.id+\"\/\"+creative.version+\"\/\"+t}if(t in i&&!o)i[t].loaded?setTimeout(a.success,0):i[t].cbs.push(a);else{i[t]={cbs:[a]};var u=document.createElement(\"script\");u.type=\"text\/javascript\",u.onload=function(){i[t].loaded=!0,i[t].cbs.forEach(function(e){e.success()}),i[t].cbs=[]},u.onerror=function(){i[t].cbs.forEach(function(e){e.error()}),i[t].cbs=[],delete i[t]},u.src=t,e.loadJS.appendToRoot(u)}},e.loadJS.externals={},e.loadJS.appendToRoot=function(e){return document.querySelector(\"head\").appendChild(e)},e.loadJSONP=function(t,n,r,o){\"function\"==typeof n&&(o=r,r=n,n={});var i=n.cbName||\"__jsonp\"+randInt();t+=(-1==t.indexOf(\"?\")?\"?\":\"&\")+(n.paramName||\"jsonp\")+\"=\"+i,e[i]=function(t){r(t),delete e[i]},loadJS(t,noop,o,!0)}}(window),\"undefined\"==typeof Function.prototype.name&&!function(){var e=\/^function\\s+(\\w+?)\\s*?\\(\/;Object.defineProperty(Function.prototype,\"name\",{get:function(){var t=this.constructor.prototype.toString.call(this);return e.test(t)?t.match(e)[1]:\"\"}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;\nfunction CTickerQueue(){this._queue=[],this._i=this.length}Object.defineProperty(CTickerQueue.prototype,\"length\",{get:function(){return this._queue.length}}),CTickerQueue.filterNulls=function(e){return null!==e},CTickerQueue.prototype._removeNulls=function(){this._queue=this._queue.filter(CTickerQueue.filterNulls)},CTickerQueue.prototype.process=function(e){if(this.length){for(this._i=0;this._i<this.length;this._i++)this._queue[this._i]&&this._queue[this._i](e);this._removeNulls()}},CTickerQueue.prototype.add=function(e){this._queue.indexOf(e)<0&&this._queue.push(e)},CTickerQueue.prototype.remove=function(e){var t=this._queue.indexOf(e);~t&&(this._queue[t]=null)},CTickerQueue.prototype.empty=function(){this.length&&(this._queue.length=0)};;\nfunction CTicker(e,t){this._win=t||window,this.raf=e.environment&&e.isNative&&!e.isRequestAnimationFrameBroken&&!this._isDeviceUserAgentBlacklisted?e.environment:e.polyfill,this._queues={update:new CTickerQueue,nextUpdate:new CTickerQueue,render:new CTickerQueue,nextRender:new CTickerQueue,next:new CTickerQueue},this._tick=this._tick.bind(this),this.raf.nextFrame(this._tick)}Object.defineProperty(CTicker.prototype,\"_isDeviceUserAgentBlacklisted\",{get:function(){var e=this._win.navigator.userAgent,t=[\"RAZR HD\",\"SOL23\",\"LG-D855\",\"LG-D851\",\"LG-D850\",\"LG-D852\",\"LGLS990\",\"LGUS990\",\"VS985 4G\"];return t.some(function(t){return e.indexOf(t)>-1})}}),CTicker.prototype.stop=function(){try{this._queues.update.empty(),this._queues.render.empty()}finally{this.raf.cancelFrame(this._tick)}},CTicker.prototype._tick=function(e){try{this._queues.update.process(e),this._queues.nextUpdate.process(e),this._queues.render.process(e),this._queues.nextRender.process(e),this._queues.next.process(e),this._queues.next.empty(),this._queues.nextRender.empty(),this._queues.nextUpdate.empty()}finally{this.raf.nextFrame(this._tick)}},CTicker.prototype.frame=function(e,t){t=t||\"render\",this._queues[t].add(e)},CTicker.prototype.removeFrame=function(e,t){t=t||\"render\",this._queues[t].remove(e)};;\nfunction RequestAnimationFrameWrapper(e){this._lastTime=0,this._win=e,this._createRAFWrapper=this._createRAFWrapper.bind(this),this._createCAFWrapper=this._createCAFWrapper.bind(this);var t=this._extractFromWindow(this._win),r=this._createPolyfill();this.environment=this._wrapRafAndCaf(t),this.polyfill=this._wrapRafAndCaf(r),this.isNative=!!t&&this._isNative(t.nextFrame)}Object.defineProperty(RequestAnimationFrameWrapper.prototype,\"isRequestAnimationFrameBroken\",{get:function(){var e=getWindowNesting(this._win);return deviceInfo.browser.firefox()&&e.hostileIframe?!0:!1}}),RequestAnimationFrameWrapper.prototype._extractFromWindow=function(e){var t=e.requestAnimationFrame||null,r=e.cancelAnimationFrame||null;return[\"ms\",\"moz\",\"webkit\",\"o\"].forEach(function(n){t=t||e[n+\"RequestAnimationFrame\"]||null,r=r||e[n+\"CancelAnimationFrame\"]||e[n+\"CancelRequestAnimationFrame\"]||null}),{nextFrame:t,cancelFrame:r}},RequestAnimationFrameWrapper.prototype._createPolyfill=function(){var e=this,t=function(t){var r=getTimestamp(),n=Math.max(0,16-(r-e._lastTime)),i=e._win.setTimeout(function(){t(r+n)},n);return e._lastTime=r+n,i},r=function(t){e._win.clearTimeout(t)};return{nextFrame:t,cancelFrame:r}},RequestAnimationFrameWrapper.prototype._isNative=function(e){return!!(e&&Function.prototype.toString.call(e).indexOf(\"[native code]\")>-1)},RequestAnimationFrameWrapper.prototype._wrapRafAndCaf=function(e){return e&&e.nextFrame&&e.cancelFrame?{nextFrame:this._createRAFWrapper(e.nextFrame),cancelFrame:this._createCAFWrapper(e.cancelFrame)}:null},RequestAnimationFrameWrapper.prototype._createRAFWrapper=function(e){return function(t){return e.call(this._win,t)}.bind(this)},RequestAnimationFrameWrapper.prototype._createCAFWrapper=function(e){return function(t){e.call(this._win,t)}.bind(this)};;\nfunction CPoint(t,i){this.x=1*t||0,this.y=1*i||0}function CRect(t,i,e,o){this.left=1*t||0,this.top=1*i||0,this.width=1*e||0,this.height=1*o||0}CPoint.offset=function(t){var i=offset(t);return new CPoint(i.left,i.top)},CPoint.convertPointFromNodeToPage=function(t,i){if(!t||\"undefined\"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x:0)+(e?e.x:0),(i?i.y:0)+(e?e.y:0))},CPoint.convertPointFromPageToNode=function(t,i){if(!t||\"undefined\"!=typeof t.x)return null;var e=CPoint.offset(t);return new CPoint((i?i.x:0)-(e?e.x:0),(i?i.y:0)-(e?e.y:0))},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i\/t.height)),n=Math.floor(Math.sqrt(t.height*i\/t.width)),h=t.width\/o,r=t.height\/n,s=0;n>s;s++)for(var f=0;o>f;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right:{get:function(){return this.left+this.width},set:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable:!0},bottom:{get:function(){return this.top+this.height},set:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable:!0},tl:{get:function(){return new CPoint(this.left,this.top)}},tr:{get:function(){return new CPoint(this.right,this.top)}},bl:{get:function(){return new CPoint(this.left,this.bottom)}},br:{get:function(){return new CPoint(this.right,this.bottom)}},area:{get:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){if(!t)return!1;var i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right),n=Math.min(this.bottom,t.bottom),h=o-i,r=n-e;return 0>h||0>r?CRect.ZERO:new CRect(i,e,h,r)},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom:void 0},CRect.prototype.map=function(t,i){var e=i.width\/t.width,o=i.height\/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return\"CRect: \"+JSON.stringify(this)};;\nwindow.CeltraDeviceInfo={},function(e){function n(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new o(e.deviceType,e.mobileDevice),this.vendor=e.vendor||\"\",this.model=e.model||\"\",this.userAgent=n}function t(e,n){this.name=e||\"\",this.version=n||\"0\"}function r(e,n,t){this.name=e||\"\",this.version=n||\"0\",this.userAgent=t}function i(e,n){this.name=e||\"\",this.version=n||\"0\"}function o(e,n){this.hardwareType=e||\"\",this.mobile=n||\"\"}function s(e,n){function t(e){return parseInt(e.replace(\/\\D\/g,\"\"),10)}function r(e,n){var t;for(t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,o,s;if(!e)return!0;if(0===n.length)o=null,s=null;else if(1===n.length)o=n[0],s=n[0];else{if(2!==n.length)throw\"Invalid number of arguments\";o=n[0],s=n[1]}for(e=e.split(\".\").map(t),o=o?o.split(\".\").map(t):[],s=s?s.split(\".\").map(t):[],i=Math.max(o.length,s.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,o)||1===r(e,s))}function a(e,n){if(-1===e.indexOf(\"Playstation\")){var t=e.match(\/\\bSilk\\\/([0-9._-]+)\\b\/);t&&(n.browserName=\"Amazon Silk\",n.browserVersion=t[1])}n.browserName&&n.browserVersion&&(0===n.browserName.indexOf(\"Chrome\")&&s(n.browserVersion,[\"28\",null])||0===n.browserName.indexOf(\"Opera\")&&s(n.browserVersion,[\"15\",null]))&&(n.browserRenderingEngine=\"Blink\"),n.browserRenderingEngineVersion||(n.browserRenderingEngineVersion=function(){var n;return(n=e.match(\/Trident\\\/([0-9.]+)\/))?n[1]:(n=e.match(\/Presto\\\/([0-9.]+)\/))?n[1]:(n=e.match(\/AppleWebKit\\\/*([0-9.]+)\/i))?n[1]:(n=e.match(\/Gecko\\\/*([0-9.]+)\/),n?n[1]:\"\")}())}t.prototype.android=function(){return\"Android\"===this.name&&s(this.version,arguments)},t.prototype.osx=function(){return\"OSX\"===this.name&&s(this.version,arguments)},t.prototype.ios=function(){return\"IOS\"===this.name&&s(this.version,arguments)},t.prototype.windows=function(){return\"Windows\"===this.name&&s(this.version,arguments)},t.prototype.windowsPhone=function(){return\"WindowsPhone\"===this.name&&s(this.version,arguments)},t.prototype.linux=function(){return\"Linux\"===this.name},r.prototype.safari=function(){return\"Safari\"===this.name&&s(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf(\"Chrom\")&&s(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf(\"Internet Explorer\")&&s(this.version,arguments)},r.prototype.android=function(){return\"Android Browser\"===this.name&&s(this.version,arguments)},r.prototype.samsung=function(){return\"Samsung Browser\"===this.name&&s(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf(\"Opera\")&&s(this.version,arguments)},r.prototype.silk=function(){return\"Amazon Silk\"===this.name&&s(this.version,arguments)},r.prototype.firefox=function(){return\"Firefox\"===this.name&&s(this.version,arguments)},r.prototype.edge=function(){return\"Edge\"===this.name&&s(this.version,arguments)},r.prototype.miui=function(){return\"MIUI Browser\"===this.name&&s(this.version,arguments)},r.prototype.webView=function(){var n=null,t=\"iP\"===(e.navigator.platform||\"\").substr(0,2);if(t){var r=this.userAgent,i=-1!==r.indexOf(\"Safari\")&&-1!==r.indexOf(\"Version\"),o=!\/constructor\/i.test(e.HTMLElement);i&&!e.navigator.standalone?n=\"iOS Safari or Safari Controller\":(o||e.indexedDB)&&e.statusbar.visible?(e.webkit&&e.webkit.messageHandlers||o||e.indexedDB)&&(n=\"WKWebView\"):n=\"UIWebView\"}else\/^.*\\\/\\d\\.\\d \\(.*wv\\).*\/.test(this.userAgent)&&(n=\"AndroidWebView\");return n},r.prototype.facebookApp=function(){var e=this.userAgent;return e.indexOf(\"FBAN\")>-1||e.indexOf(\"FBAV\")>-1},i.prototype.webkit=function(){return\"WebKit\"===this.name&&s(this.version,arguments)},i.prototype.gecko=function(){return\"Gecko\"===this.name&&s(this.version,arguments)},i.prototype.trident=function(){return\"Trident\"===this.name&&s(this.version,arguments)},i.prototype.presto=function(){return\"Presto\"===this.name&&s(this.version,arguments)},i.prototype.blink=function(){return\"Blink\"===this.name&&s(this.version,arguments)},o.prototype.phone=function(){return\"Phone\"===this.hardwareType},o.prototype.tablet=function(){return\"Tablet\"===this.hardwareType},o.prototype.desktop=function(){return\"Desktop\"===this.hardwareType},o.prototype.mobileDevice=function(){return this.mobile===!0},e.CeltraDeviceInfo.create=function(t,r){return t=t||e.navigator.userAgent||\"\",r=r||{},a(t,r),new n(r,t)}}(window);;\nwindow.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;\n!function(e){function n(){var e=p().match(\/iP(ad|hone|od).*OS ([0-9_]+)\/);return!!e&&s(e[2].replace(\/_\/g,\".\"),arguments)}function t(){var e=p().match(\/Android ([0-9.]+)\/),n=p().match(\/Windows Phone\/);return!n&&!!e&&s(e[1],arguments)}function r(){var e=p().match(\/Windows Phone ([0-9.]+)\/);return!!e&&s(e[1],arguments)}function i(){var e=p().match(\/AppleWebKit\\\/*([0-9.]+)\/i);return!!e&&s(e[1],arguments)}function a(){var e=p().match(\/Gecko\\\/*([0-9.]+)\/i);return!!e&&s(e[1],arguments)}function o(){var e=p().match(\/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv:([0-9]{1,}[.0-9]{0,})\/i);return!!e&&s(e[1]||e[2],arguments)}function u(){var e=p().match(\/Silk\\\/([0-9.]+)\/);return!!e&&s(e[1],arguments)}function f(){var e=p().toLowerCase();return\/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur\/.test(e)?s(\"2\",arguments):!1}function d(){return\"undefined\"!=typeof offsetWidthOverride?offsetWidthOverride:(document.body.offsetWidth,Math.min(innerWidth,innerHeight))}function c(){return\/iPad\/.test(p())||d()>550}function m(){return!(t()||n()||r())}function s(e,n){function t(e){return parseInt(e.replace(\/\\D\/g,\"\"),10)}function r(e,n){for(var t=0;t<v.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}var i,a,o;if(!e)return!0;if(0===n.length)a=null,o=null;else if(1===n.length)a=n[0],o=n[0];else{if(2!==n.length)throw\"Invalid number of arguments\";a=n[0],o=n[1]}e=e.split(\".\").map(t),a=a?a.split(\".\").map(t):[],o=o?o.split(\".\").map(t):[];for(var i=v.max(a.length,o.length)-e.length;i>=0;i--)e.push(0);return!(-1===r(e,a)||1===r(e,o))}function h(){return v.top!==e}function l(){if(!(n()||window.chrome&&\"Google Inc.\"===window.navigator.vendor))return!1;var e;return e=p().match(n()?\/CriOS\\\/([0-9]+.)\/:\/Chrome\\\/([0-9]+.)\/),!!e&&s(e[1],arguments)}function g(){var e=\"(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3\/2),(min-resolution: 1.5dppx)\";return window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(e).matches}e.celtra=e.celtra||{};var w={};w.ios=n,w.android=t,w.webkit=i,w.windowsPhone=r,w.gecko=a,w.windows=o,w.kindleSilk=u,w.kindle=f,w.iframe=h,w.desktop=m,w.tablet=c,w.chromeBased=l,w.isHighDensityDisplay=g,extend(e.celtra,w),delete w.webkit,extend(e,w);var v={max:e.Math.max,min:e.Math.min,userAgent:e.navigator.userAgent,top:e.top},p=function(){return\"undefined\"!=typeof e.userAgentOverride?e.userAgentOverride:v.userAgent}}(window);;\n!function(e){function t(){var t=e;try{for(;\"undefined\"!=typeof t.parent.location.href&&t.parent.document!==t.document;)t=t.parent}catch(n){}return t}function n(){return s.getComputedStyle(s.document.body,null)}function i(e,t,n){if(!e)throw new Error(\"No element specified!\");if(a(t)){if(!(t in e.style)&&i.BREAK_ON_ERROR)throw new Error(\"Invalid CSS attribute \"+t);if(\"undefined\"==typeof n)return e.style[t];e.style[t]=n}else{if(-1==w.indexOf(t)&&o(t),\"undefined\"==typeof n)return e.style[y[t]];e.style[y[t]]=n}}function r(e,t){if(!e)throw new Error(\"No element specified!\");var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if(R&&v.indexOf(t)>-1&&(t=\"webkit\"+u(t)),!n||\"none\"==n.display||!f())return null;if(!(t in n)&&i.BREAK_ON_ERROR)throw new Error(\"Invalid CSS attribute \"+t);return a(t)?n[t]:(-1==w.indexOf(t)&&o(t),n[y[t]])}function o(e){S=S||n();var t=E+u(e);if(R&&v.indexOf(e)>-1)y[e]=t;else if(S&&e in S)y[e]=e;else if(S&&t in S)y[e]=t;else if(!S&&deviceInfo.browser.firefox)y[e]=e;else if(i.BREAK_ON_ERROR)throw new Error(\"Invalid CSS attribute \"+e+' or iframe still display \"none\" in FF');w.push(e)}function a(e){return p.test(e)}function f(){if(e===s)return!0;var t=e.frameElement.ownerDocument.defaultView.getComputedStyle(e.frameElement,null);return t&&\"none\"!=t.display}function u(e){return e+=\"\",e?e[0].toUpperCase()+e.slice(1):\"\"}var l=e.navigator.userAgent,s=t(),c=\/rv:.*Gecko\\\/\/.test(l),d=\/MSIE|Trident\\\/\/.test(l),m=\/WebKit\/.test(l),p=\/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?\/,y={},w=[],E=function(){return m?\"webkit\":d?\"ms\":c?\"Moz\":\"\"}(),R=function(){var e=l.match(\/AppleWebKit\\\/(\\d+)\/);return e&&~~e[1]<540}(),v=[\"transform\",\"transform-origin\",\"transform-style\",\"transition\",\"transition-delay\",\"transition-duration\",\"transition-property\",\"transition-timing-function\",\"animation\",\"animation-delay\",\"animation-direction\",\"animation-duration\",\"animation-fill-mode\",\"animation-iteration-count\",\"animation-name\",\"animation-play-state\",\"animation-timing-function\",\"appearance\",\"backface-visibility\",\"perspective\",\"perspective-origin\"],S=n();i.BREAK_ON_ERROR=!1,e.celtra=e.celtra||{},e.celtra.styler={css:i,computedCSS:r,isWebkit:m,isGecko:c,isIE:d},e.css=i,e.computedCSS=r}(window);;\nfunction PerformanceTracker(t,e){this.trackingCenter=t,this.trackingEnabled=e.get(\"PerformanceTiming\")||e.get(\"MonotypeOffloadFonts\"),this._id=0}PerformanceTracker.prototype.start=function(t,e){var r=this,i={name:t,type:\"interval\",id:this._id++,startTime:Date.now(),args:e||[]};return i.end=function(){this.endTime=Date.now();var t=this.endTime-this.startTime;Logger(\"perf\").log(this.name+\"(#\"+this.id+\") \"+t),r.collect(this)}.bind(i),i},PerformanceTracker.prototype.collect=function(t){if(this.trackingEnabled){var e={name:\"perfTiming\",section:t.name,type:t.type,perfId:t.id,startTime:t.startTime,endTime:t.endTime,args:t.args};this.trackingCenter.trackNoLaterThan(e,1e3)}},PerformanceTracker.prototype.mark=function(t){var e=this.start(t);e.type=\"mark\",e.endTime=e.startTime,this.collect(e)},PerformanceTracker.prototype.marks=function(t){return function(){this.mark(t)}.bind(this)};;\nvar EventEmitter={emit:function(t){var e=this._listeners;if(e&&e[t]){var n=[].slice.call(arguments,1);e[t].forEach(function(t){t.apply(window,n)})}},emits:function(){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener:function(t,e){var n=this._listeners;n||(n=this._listeners={}),n[t]||(n[t]=[]),n[t].push(e)},removeListener:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once:function(t,e){var n=this;n.on(t,function i(){n.off(t,i),e.apply(this,arguments)})},onAll:function(t,e){t.split(\" \").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,\"undefined\"!=typeof module&&null!==module&&(module.exports=EventEmitter);;\nfunction TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var t,e=this;return t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),{run:function(n){t.waitForEach(function(t,n){e.hub.once(t,n)},n)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;\nfunction TrackingCenter(e,t,n,i,s,r){this._sessionId=e,this._accountId=t,this._trackingUrl=i,this._trackers=s,this._purpose=n,this._flushCycle=null,this._flushCycleLength=1e4,this._useBatching=r,this._usePixel=!0,this.windowForPixels=window,this._instantiation=randInt(),this._eventIndex=0,this._pendingEvents=[],this._eventsInProgress=[],this._pendingPixels=[],this._waitingTrackingRequests=0,this._isBeaconSupported=this.windowForPixels.navigator&&this.windowForPixels.navigator.sendBeacon,this._decrementWaiting=this._decrementWaiting.bind(this),this.flush=this.flush.bind(this),this.batchFlush=this.batchFlush.bind(this),this._flushPixels=this._flushPixels.bind(this)}extend(TrackingCenter.prototype,EventEmitter),TrackingCenter.eventCountLimit=1e3,TrackingCenter.prototype.setExperimentStatus=function(e){if(e&&e.get){var t=e.get(\"BatchTrackingRequests\");this._useBatching=t?\"control\"!==t.chosenVariant.slice(0,7):this._useBatching;var n=t&&\"Beacon\"===t.chosenVariant.slice(-6),i=e.get(\"TrackWithBeaconAPI\")||n;this._useBeacon=i&&this._isBeaconSupported,this._usePixel=!(n&&this._useBeacon)}},TrackingCenter.prototype.batchFlush=function(){this._useBatching?this.flush():noop()},TrackingCenter.prototype.startBatchFlushCycle=function(e){this._useBatching&&(this.windowForPixels.setTimeout(this.flush,e),this._flushCycle=this.windowForPixels.setTimeout(this.flush,this._flushCycleLength))},TrackingCenter.prototype.isTrackingLimitReached=function(){return this._eventIndex>=TrackingCenter.eventCountLimit},TrackingCenter.prototype._createTrackingEvent=function(e){return e=JSON.parse(JSON.stringify(e)),extend({sessionId:this._sessionId,accountId:this._accountId,stream:\"adEvents\",instantiation:this._instantiation,index:this._eventIndex++,clientTimestamp:new Date\/1e3},e)},TrackingCenter.prototype._addEventPendingToQueues=function(e){var t=this._resolvePixelsAndEventsForQueue([e]);this.isTrackingLimitReached()&&t.events.push(this._createTrackingEvent({name:\"eventLimitReached\"})),t.events.forEach(function(e){Logger(\"tracking\").log(\"Queuing event \"+JSON.stringify(e))}),t.pixels.forEach(function(e){Logger(\"tracking\").log(\"Queuing pixel \"+JSON.stringify(e))}),this._pendingEvents=this._pendingEvents.concat(t.events),this._pendingPixels=this._pendingPixels.concat(t.pixels)},TrackingCenter.prototype.track=function(e,t){this.trackNoLaterThan(e,0,t)},TrackingCenter.prototype.trackNoLaterThan=function(e,t,n){function i(e){return parseInt(e,10)===e}if(this.isTrackingLimitReached())return void console.warn(\"Tracking limit reached: \"+TrackingCenter.eventCountLimit+\" events.\");if(i(t)?0>t&&(t=0):t=1500,n=n||noop,\"live\"!==this._purpose){var s=this._createTrackingEvent(e);return Logger(\"tracking\").log(\"Ignoring non-live event \"+JSON.stringify(s)),void defer(n)}var r=null;this._addEventPendingToQueues(e);var o=this.windowForPixels;this.once(\"trackingQueueEmptied\",function(){r&&(o.clearTimeout(r),r=null),n()}.bind(this)),r=this._useBatching?o.setTimeout(this._flushPixels,t):o.setTimeout(this.flush,t)},TrackingCenter.prototype._resolvePixelsAndEventsForQueue=function(e){function t(e,i,s){if(0==e.length)return{events:i,pixels:s};var r=e[0],o=n._createTrackingEvent(r),c=n._trackers.urlsAndEventsFor(o);return t(e.slice(1).concat(c.events||[]),i.concat(o),s.concat(c.urls||[]))}var n=this;return t(e,[],[])},TrackingCenter.prototype._fireBeacon=function(e,t){this.windowForPixels.navigator.sendBeacon(e),t()},TrackingCenter.prototype._firePixel=function(e,t){function n(){i.onload=i.onerror=null,t()}var i=this.windowForPixels.document.createElement(\"img\");i.onload=i.onerror=n;try{i.src=e}catch(s){n()}},TrackingCenter.prototype._decrementWaiting=function(){this._waitingTrackingRequests>0&&(--this._waitingTrackingRequests||this.emit(\"trackingQueueEmptied\"))},TrackingCenter.prototype.flush=function(e,t,n){var i=this,s=e||noop;t=\"undefined\"==typeof t?this._usePixel:t,n=\"undefined\"==typeof n?this._useBeacon:n;var r=i._pendingEvents;if(i._pendingEvents=[],i._eventsInProgress=i._eventsInProgress.concat(r),r.length){i._waitingTrackingRequests++,this._useBatching&&(this.windowForPixels.clearTimeout(this._flushCycle),s=function(){i._flushCycle=i.windowForPixels.setTimeout(i.flush,i._flushCycleLength),(e||noop)()});var o=function(){i._eventsInProgress=i._eventsInProgress.filter(function(e){return-1===r.indexOf(e)}),i._decrementWaiting()};n&&i._fireBeacon(i._getTrackerBeaconUrl(r),o),t&&i._firePixel(i._getTrackerPixelUrl(r),o)}i._flushPixels(),0===i._waitingTrackingRequests?this.windowForPixels.setTimeout(s,0):this.once(\"trackingQueueEmptied\",s)},TrackingCenter.prototype.flushWithBeacon=function(e){return this._isBeaconSupported?void this.flush(e,!1,!0):void this.flush(e)},TrackingCenter.prototype._flushPixels=function(){var e=this;e._pendingPixels.forEach(function(t){e._waitingTrackingRequests++,e._firePixel(t,e._decrementWaiting)}),e._pendingPixels=[]},TrackingCenter.prototype._getTrackerUrl=function(e){return base64json=this.windowForPixels.btoa(to_utf8(JSON.stringify(e))),this._trackingUrl+\"json\/\"+base64json+\"?crc32c=\"+crc32(base64json)},TrackingCenter.prototype._getTrackerPixelUrl=function(e){return this._getTrackerUrl({events:e})},TrackingCenter.prototype._getTrackerBeaconUrl=function(e){return this._getTrackerUrl({events:e.map(function(e){var t=JSON.parse(JSON.stringify(e));return t.beacon=!0,t})})},TrackingCenter.prototype._getTrackerRedirectUrl=function(e,t,n,i){i=i||{};var s={events:e,pixels:t,dest:n};return i.jsRedirectFunc&&(s.redirectFunc=i.jsRedirectFunc),this._getTrackerUrl(s)},TrackingCenter.prototype.wrapRedirectPageUrl=function(e,t){var n=this._getTrackerRedirectUrl(this._pendingEvents.concat(this._eventsInProgress),this._pendingPixels,e,t);return this._useBeacon?this.flush(void 0,!1):(this._pendingEvents=[],this._pendingPixels=[]),n};;\nfunction Experiments(t,e){this._instances={};for(var n in t)this._instances[n]=new Experiment(n,t[n],e);e.setExperimentStatus(this)}function Experiment(t,e,n){this.key=t,this.chosenVariant=e,this._trackingCenter=n,this._variantExposedTracked=!1,this._variantSucceededTracked=!1,this.trackExposure=function(){this._track(\"variantExposed\")}.bind(this),this.trackSuccess=function(){this._track(\"variantSucceeded\")}.bind(this)}Experiments.prototype.get=function(t,e){var n=[t].concat(e||[]).map(function(t){return t=encodeURIComponent(t),t.replace(\/'\/g,\"%27\").replace(\/\\(\/g,\"%28\").replace(\/\\)\/g,\"%29\").replace(\/!\/g,\"%21\").replace(\/~\/g,\"%7E\")}).join(\"\/\");return this._instances[n]||null},Experiment.prototype._track=function(t){this[\"_\"+t+\"Tracked\"]||(this[\"_\"+t+\"Tracked\"]=!0,this._trackingCenter.track({name:t,experimentKey:this.key,variant:this.chosenVariant}))};;\nfunction TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument?t.ownerDocument:t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){return this._initialised?void(\"function\"==typeof Logger&&Logger(\"TouchEventSimulator\").warn(\"Touch event simulator already initialised!\")):(\"function\"==typeof Logger&&Logger(\"TouchEventSimulator\").log(\"Enabling touch event simulation\"),this.doc.defaultView.msPointerEnabled?this.startPointers():this.startMouse(),this.el.addEventListener(\"touchstart\",this.captureBubbleEvents,!1),this.el.addEventListener(\"touchmove\",this.captureBubbleEvents,!1),this.el.addEventListener(\"touchend\",this.captureBubbleEvents,!1),this.el.addEventListener(\"touchcancel\",this.captureBubbleEvents,!1),void this.el.addEventListener(\"tap\",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){return this._initialised?(\"function\"==typeof Logger&&Logger(\"TouchEventSimulator\").log(\"Disabling touch event simulation\"),this.win&&this.win.msPointerEnabled?this.stopPointers():this.stopMouse(),this.el.removeEventListener(\"touchstart\",this.captureBubbleEvents,!1),this.el.removeEventListener(\"touchmove\",this.captureBubbleEvents,!1),this.el.removeEventListener(\"touchend\",this.captureBubbleEvents,!1),this.el.removeEventListener(\"touchcancel\",this.captureBubbleEvents,!1),void this.el.removeEventListener(\"tap\",this.captureBubbleEvents,!1)):void(\"function\"==typeof Logger&&Logger(\"TouchEventSimulator\").warn(\"Touch event simulator not running!\"))},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener(\"mousedown\",this.handleMouseDown,!0),this.el.addEventListener(\"mousemove\",this.handleMouseMove,!0),this.el.addEventListener(\"mouseup\",this.handleMouseUp,!0),this.el.addEventListener(\"mouseout\",this.handleMouseOut,!0),this.el.addEventListener(\"dragstart\",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener(\"mousedown\",this.handleMouseDown,!0),this.el.removeEventListener(\"mousemove\",this.handleMouseMove,!0),this.el.removeEventListener(\"mouseup\",this.handleMouseUp,!0),this.el.removeEventListener(\"mouseout\",this.handleMouseOut,!0),this.el.removeEventListener(\"dragstart\",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener(\"MSPointerDown\",this.handlePointerDown,!0),this.el.addEventListener(\"MSPointerMove\",this.handlePointerMove,!0),this.el.addEventListener(\"MSPointerUp\",this.handlePointerUp,!0),this.el.addEventListener(\"MSPointerCancel\",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener(\"MSPointerDown\",this.handlePointerDown,!0),this.el.removeEventListener(\"MSPointerMove\",this.handlePointerMove,!0),this.el.removeEventListener(\"MSPointerUp\",this.handlePointerUp,!0),this.el.removeEventListener(\"MSPointerCancel\",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start():(this.el.addEventListener(\"touchstart\",this.handleFirstEvent,!0),this.el.addEventListener(\"mousedown\",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=[\"select\",\"input\",\"textarea\"],TouchEventSimulator.prototype.isFormElement=function(t){return this.ignorables.indexOf(t.nodeName.toLowerCase())>-1},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,\"ignore-toucheventsimulator\"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener(\"touchstart\",this.handleFirstEvent,!0),this.el.removeEventListener(\"mousedown\",this.handleFirstEvent,!0),\"touch\"!=TouchEventSimulator.mode&&\"mousedown\"==t.type?(TouchEventSimulator.mode=\"mouse\",this.start(),this.handleMouseDown(t)):TouchEventSimulator.mode=\"touch\")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent(\"touchstart\",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent(\"touchmove\",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent(\"touchend\",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent(\"touchstart\",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent(\"touchmove\",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent(\"touchend\",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent(\"touchcancel\",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent(\"HTMLEvents\");n.initEvent(t,!0,!0),\"touchend\"==t||\"touchcancel\"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch]):n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent(\"touchcancel\",this.touch),this.touch=null)};;\nfunction AggregatorTracking(t){this._trackingCenter=t}AggregatorTracking.prototype.trackAggregator=function(t,r,g){\"object\"==typeof r&&(g=r,r=void 0),g=g||{},r=void 0!==r?r:1,this._trackingCenter.track({name:\"aggregator\",metric:t,value:r,customDimensions:g})},AggregatorTracking.prototype.trackAggregatorTime=function(t,r,g){this.trackAggregator(t,Math.round(r),g)},AggregatorTracking.prototype.trackAggregatorUsingTimer=function(t,r){var g=new Date;return function(){this.trackAggregatorTime(t,new Date-g,r)}.bind(this)},AggregatorTracking.prototype.trackAggregatorMagicTriplet=function(t,r,g){this.trackAggregator(t+\"Attempts\",r);var e=new Date;return function(){var a=new Date-e;(!g||g>a)&&(this.trackAggregator(t+\"Successes\",r),this.trackAggregatorTime(t+\"Time\",a,r))}.bind(this)};;\nfunction Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||\"\";var n=noop;(Logger.enabledNames.indexOf(e)>=0||Logger.enabledNames.indexOf(\"all\")>=0)&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+\" [\"+Logger.sessionId+(this.name?\" \"+this.name:\"\")+\"]\"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){function e(e,n){for(e+=\"\";e.length<n;)e=\"0\"+e;return e}var n=new Date;return n.getFullYear()+\"-\"+e(n.getMonth()+1,2)+\"-\"+e(n.getDate(),2)+\" \"+e(n.getHours(),2)+\":\"+e(n.getMinutes(),2)+\":\"+e(n.getSeconds(),2)+\".\"+e(n.getTime()-1e3*Math.floor(n.getTime()\/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+\"\").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(\",\"):[],e.sessionId)};;\nfunction InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width:0,height:0,area:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions():this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),i=t.intersect(e),n=!1;this.rectInView.equals(i)||(this.rectInView=i,n=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims());var s=this._maxPossibleDimensions.area>0?i.area\/this._maxPossibleDimensions.area:0,o=!1;s!==this.areaInViewRatio&&(this.areaInViewRatio=s,o=!0),n&&(this.emit(\"rectInViewChanged\",i),Logger(\"InViewObject\").debug(this.view.toString()+\", rectInViewChanged: \"+this.rectInView.toString())),o&&(this.emit(\"areaInViewRatioChanged\",s),Logger(\"InViewObject\").debug(this.view.toString()+\", areaInViewRatioChanged: \"+s))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect()):CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on(\"rectInViewChanged\",this.computeRectInView),this.inViewParent.on(\"areaInViewRatioChanged\",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off(\"rectInViewChanged\",this.computeRectInView),this.inViewParent.off(\"areaInViewRatioChanged\",this.computeRectInView)};;\nfunction AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(){throw new Error(\"AdViewableInViewObjectObserver.readyToShow not implemented!\")},AdViewableTimeObserver.prototype.registerUnit=function(){throw new Error(\"AdViewableInViewObjectObserver.registerUnit not implemented!\")},AdViewableTimeObserver.prototype.registerAdapter=function(){throw new Error(\"AdViewableTimeObserver.registerAdapter not implemented!\")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on(\"videoStarted\",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on(\"videoStopped\",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var t=e.inView,i=this._inViewObjects,r=this._viewableInViewObjects,a=this._tracker;if(-1===i.indexOf(t)){i.push(t);var n=-1!==r.indexOf(t);!n&&t.getAreaInViewRatio()>0&&r.push(t),this._tryStartTracker(),t.on(\"areaInViewRatioChanged\",function(e){var i=r.indexOf(t),n=-1!==i;!n&&e>0?(r.push(t),this._tryStartTracker()):0===e&&n&&(r.splice(i,1),0===r.length&&a.stop())}.bind(this))}},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,t=e&&e.mediaState.playingVideo;return this._readyToShow&&(this._viewableInViewObjects.length>0||t)?(this._tracker.start(),!0):!1},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on(\"containerViewableChange\",function(e){this._containerIsViewable=e,e?this._tryStartTracker():t.stop()}.bind(this)),e.mediaState.on(\"videoStarted\",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on(\"videoStopped\",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(e){if(!this._adapter)throw new Error(\"adapter was not registered yet!\");var t=this._units,i=this._viewableUnits,r=this._tracker;-1===t.indexOf(e)&&(t.push(e),-1===i.indexOf(e)&&e._visible&&(i.push(e),this._tryStartTracker()),e.on(\"appeared\",function(){-1===i.indexOf(e)&&(i.push(e),this._tryStartTracker())}.bind(this)),e.on(\"disappeared\",function(){var t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&this._viewableUnits.length>0?(this._tracker.start(),!0):!1};;\nfunction AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3:1e3,1e4:2e3,63e3:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName=\"viewableTime\",AdViewableTimeTracker.TrackingData=function(i,e){return i>e&&(e=i),{name:AdViewableTimeTracker.eventName,from:i\/1e3,to:e\/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing():this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){if(this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()){var i=Date.now(),e=i-this._fromTime;this._viewableMilliseconds+=e;var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t)}this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){function i(){if(this._isRunning){var i=Date.now();this._viewableMilliseconds+=e,this._normalizeFromTime(i,e),this._pendingPingRafId=this._raf.nextFrame(function(){var t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))}}this._clearPendingPing();var e=this._getPingInterval();this._isRunning&&-1!==e&&(this._pendingPingTimeoutId=this._win.setTimeout(i.bind(this),e))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime,n=e+this._maxRafLatency;t>n&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now(),n=t-i,r=n>e;this._fromTime=r?t:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var i=this._viewableMilliseconds,e=this._intervals,t=Object.keys(this._intervals),n=1*t[t.length-1],r=-1;return t.some(function(t){return 1*t>i?(r=e[t],i+r>n&&(r=-1),!0):!1}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;\n!function(t){function i(){this.playingVideo=!1}var e=i.prototype;extend(e,EventEmitter),e.stopVideo=function(){this.playingVideo=!1,this.emit(\"videoStopped\")},e.startVideo=function(){this.playingVideo=!0,this.emit(\"videoStarted\")},t.MediaState=i}(window);;\n!function(e){\"use strict\";var r={};r.toString=function(){return\"[Clazz CustomAudiences]\"};var t=function(e,r,t,n){function i(r,t){var i=new XMLHttpRequest;i.open(e,u+s+\"\/\"+encodeURIComponent(r)+\"\/\"+encodeURIComponent(t)+\"?\"+creative.authTokenUrlParam),i.send(n)}if(-1===[\"PUT\",\"DELETE\"].indexOf(e))throw new Error(\"Unsupported request method: \"+e);if(\"undefined\"==typeof creative.runtimeParams.customAudiences[r])throw new Error('Custom audience \"'+r+'\" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists:t,userData:n};var u=creative.secure?creative.customAudiencesUrl:creative.insecureCustomAudiencesUrl,s=\"\/audiences\/\"+r,o=creative.userIdentifiers;for(var a in o)for(var c in o[a])i(a,o[a][c])};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t(\"PUT\",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t(\"DELETE\",e,!1)},e.CustomAudiences=r}(window);;\nfunction ReportingObserverWrapper(e){this._reportTypes=[\"intervention\"],this._processReport=e,this._processReports=this._processReports.bind(this),this._emptyQueueAndProcessReports=this._emptyQueueAndProcessReports.bind(this),this._childObservers=[]}ReportingObserverWrapper.prototype._processReports=function(e){e.forEach(function(e){var r=this._getReportId(e);r&&this._processReport(r)}.bind(this))},ReportingObserverWrapper.prototype._getReportId=function(e){var r=e.type;if(-1===this._reportTypes.indexOf(r))return null;var t=ReportingObserverWrapper.reportValidators[r],s=e.body;return t&&s?Object.keys(t).filter(function(e){var r=t[e];return r&&r(s)})[0]:null},ReportingObserverWrapper.prototype._emptyQueueAndProcessReports=function(){this._childObservers.forEach(function(e){var r=e.takeRecords();this._processReports(r)},this)},ReportingObserverWrapper.prototype.createChildObserverAndStartObserving=function(e){if(\"ReportingObserver\"in e){var r=new e.ReportingObserver(this._processReports,{types:this._reportTypes,buffered:!0});r.observe(),this._childObservers.push(r)}},ReportingObserverWrapper.prototype.start=function(){this._childObservers.forEach(function(e){e.observe()}),window.addEventListener(\"beforeunload\",this._emptyQueueAndProcessReports),window.addEventListener(\"unload\",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.prototype.stop=function(){this._childObservers.forEach(function(e){e.disconnect()}),window.removeEventListener(\"beforeunload\",this._emptyQueueAndProcessReports),window.removeEventListener(\"unload\",this._emptyQueueAndProcessReports)},ReportingObserverWrapper.reportValidators={intervention:{heavyAdCPUIntervention:function(e){return\"HeavyAdIntervention\"===e.id&&e.message.indexOf(\"CPU usage\")>-1&&-1===e.message.indexOf(\"future version\")},heavyAdNetworkIntervention:function(e){return\"HeavyAdIntervention\"===e.id&&e.message.indexOf(\"network usage\")>-1&&-1===e.message.indexOf(\"future version\")}}};;\n!function(){var A=[\".video-player-wrapper {\",\"    position: absolute;\",\"    width: 100%;\",\"    height: 100%;\",\"    background: #000;\",\"    top: 0;\",\"    left: 0;\",\"    overflow: hidden;\",\"}\",\".video-player-engine {\",\"    position: absolute;\",\"    width: 100%;\",\"    height: 100%;\",\"    min-height: 100%;\",\"    top: 0;\",\"    left: 0;\",\"    margin: 0;\",\"    padding: 0;\",\"    overflow: hidden;\",\"}\",\".video-player-engine video,\",\".video-player-engine .canvasContainer\",\"{\",\"    position: relative;\",\"    width: 100%;\",\"    height: 100%;\",\"    min-height: 100%;\",\"    background: #000;\",\"    top: 0;\",\"    left: 0;\",\"}\",\".video-player-poster {\",\"    position: absolute;\",\"    background-size: contain;\",\"    background-repeat: no-repeat no-repeat;\",\"    background-position: center center;\",\"}\",\".video-player-fitting-crop .video-player-poster {\",\"    background-size: cover;\",\"}\",\".video-player-engine canvas {\",\"    position: relative;\",\"    width: 100%;\",\"    background: #000;\",\"    top: 0;\",\"    left: 0;\",\"}\",\".video-player-engine canvas {\",\"    image-rendering: optimizeSpeed;\",\"    image-rendering: -moz-crisp-edges;\",\"    -ms-interpolation-mode: nearest-neighbor;\",\"    image-rendering: optimize-contrast;\",\"    image-rendering: -webkit-pixelated;\",\"    image-rendering: crisp-edges;\",\"    image-rendering: -webkit-optimize-speed;\",\"    image-rendering: -webkit-optimize-contrast;\",\"}\",\".video-player-wrapper-empty {\",\"    background-color: #000;\",'    background-image: url(\"data:image\/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4IiBoZWlnaHQ9IjI4Ij48cGF0aCBmaWxsPSIjY2NjIiBkPSJNMSAxNGMwIDcuMiA1LjggMTMgMTMgMTNzMTMtNS44IDEzLTEzUzIxLjIgMSAxNCAxIDEgNi44IDEgMTR6bTI0IDBjMCA2LjEtNC45IDExLTExIDExUzMgMjAuMSAzIDE0IDcuOSAzIDE0IDNzMTEgNC45IDExIDExem0tMTQtNHY4bDctNC03LTR6Ii8+PC9zdmc+\");',\"    background-repeat: no-repeat;\",\"    background-position: center;\",\"}\",\".video-controls-container {\",\"    position: absolute;\",\"    width: 100%;\",\"    height: 100%;\",\"    top: 0;\",\"    left: 0;\",\"    font-size: 14px;\",\"}\",\".video-basic-controls-wrapper {\",\"    position: absolute;\",\"    width: 100%;\",\"    height: 100%;\",\"}\",\".video-controls-slider-container {\",\"    position: absolute;\",\"    width: 100%;\",\"    height: 8px;\",\"    bottom: -1px;\",\"    left: 0;\",\"    background: #111;\",\"}\",\".video-controls-progress-bar {\",\"    opacity: 0.3;\",\"}\",\".video-controls-progress-bar,\",\".video-controls-time-bar {\",\"    position: absolute;\",\"    width: 0;\",\"    top: 0;\",\"    left: 0;\",\"    height: 100%;\",\"}\",\"@-webkit-keyframes video-player-spin{\",\"    0%   { -webkit-transform: rotate(0deg); }\",\"    100% { -webkit-transform: rotate(359deg); }\",\"}\",\"@-moz-keyframes video-player-spin{\",\"    0%   { -moz-transform: rotate(0deg); }\",\"    100% { -moz-transform: rotate(359deg); }\",\"}\",\"@keyframes video-player-spin{\",\"    0%   { transform: rotate(0deg); }\",\"    100% { transform: rotate(359deg); }\",\"}\",\".video-player-spinner-big,\",\".video-player-spinner-small {\",\"    display: block;\",\"    position: absolute;\",\"    top: 50%;\",\"    left: 50%;\",\"    -webkit-animation: video-player-spin 1.5s infinite linear;\",\"    animation: video-player-spin 1.5s infinite linear;\",\"}\",\".video-player-spinner-big {\",\"    width: 35px;\",\"    height: 35px;\",\"    margin-top: -17px;\",\"    margin-left: -17px;\",'    background-image:url(\"data:image\/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAQAAAC00HvSAAADTklEQVR4AZWVTWgcZRyHn\/c\/7zubbDbJJsTEioiIH7EGq6EIRqwWqbRClXrx4E0QxYt3b4qK9qgoePDmwRYVS6xFW7Ueeqj0kqIVQYwljTVt0o\/dZD9n3r\/zshGSGpOd54GZ0+9h\/qcxbMh03PfK4LPl8cFy0SJsialxIyfHRz+6Y6pkDR0xXWQ8azlaGvt0fF9sMsiTsazh2933fzEyKICu2+bKfP\/izg96IlDA6JXmhdPVY81T6Xk2wAuCz1zFTNOh+PKD71sRMIZqY3aa59iERYtktvDrMm735LGCNQaE38\/O7WGRzRBCJljrhCyB0l2HXKSgxpw7zt4xNmcBZNUSlU4XGPl4aEhRVc595fd6tvKm8LAEY4qrR0V3T87YyGDMn2d4mC6ZL9JDmEm6gBcYPhiJqlJdnt8\/T7dSQ0JEhQEQ4m2Ph4jq3GdDi0N0Lw21arHSL0jP84WCZlQqV1+6Sh5ZRoix9PiiLe1TBbj0w4gnJ4v1qBeQqN8W79HQYeU78tPAIqBFWxwNFbR1mvy0iMEY+qyNvRK4SH68cQAGiaz64MTCBHndkRhngr3SbnYyM6Mz5NYah81EWnXN8D66OSKvxBrjMpH6X+ozNd4Rk1dKxgW1KbVfskpGYapAXqNRXGakdal\/o1kHX95VJq\/RbcYFWZLGkVY1fE+hvPT6Enmc2y5lnIk0TS8LraXjeM0ceqY6UKVrrbsvRHD+gvViqbyTtvDex4PD7w3Tre4xUzYOhyS\/JUiCP3\/pkPd49eVH2m+36cbqLrcdR2Rs8qutWcRiqbxRm9c0HDZywLxp2MrGE\/FDxoo1VivJTEKCmSYQPXDrJ+LIQppeO3n9NZb5P+LC0+5eEm2Tar12mCvr\/lPxU9veNRIy6luXK0f4kA1I9hR2Sp9PSLJIo\/4lsxAwR\/kX++TYWyZWT6qZrb9rp9pnkj\/8dSqUon5zi73TTUhJs4QGV+qfh8h\/MmAmRg7GYyGiXpPMlLbP3rS1Y6oJLU3Upxebh1lYs\/yataQ9pVcH9hsJqdVMmHYS7ZAm0Ubjx9YJEtZgprmRaKz3hb5HpTeESHyIZYFOIq00f2qe4BqBTTMdrJuKJ+3t0bAUsH7FV5KFZLb9c3oWzwb8AzjvQbz9lli3AAAAAElFTkSuQmCC\");',\"}\",\".video-player-spinner-small {\",\"    width: 18px;\",\"    height: 18px;\",\"    margin-top: -9px;\",\"    margin-left: -9px;\",'    background-image:url(\"data:image\/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAABeElEQVR4AXXSv2sTYRjA8e89997lcuR60eJQUdpFQQoqdHRWhAoddPBPcHRwE8TZxcXJf0BEsIjuQUQQtZMOpREM9RKL1RrqJbkf771nEGnKJf1+hmd5eKaHSe\/vtzf30k63Q9X\/8XZte6f8V\/QrokopILq9\/CB0+nnUip\/l7zioUJgxrBbu6rnnodvp9G6wwaG04AEJRvAWHjXcr+3tC3pDcxhmzGcOpH7rxOm9uHfN3repIkMkwJPguljfXwVbAdOaBm3V7VD8pVE2fDpkNhJcQqXqOi+2OKrxJRxVFkXB0Ql1tKS\/QZaE2fAkQGS4KbZ3xWM2+xRzpDJYz5Pw6mBxwLQ\/vlq2XLMj6ZP9T7VjzYfGN1Qo97IslD9NV8j6d0e7wUrzsSwKExyv3XTOl1n2AWO1AHdt\/p4Kkm\/xy\/xN2cMwb591Lkqj+JGs0wbrNQCy0rjjnQHdN7EZkYOJs8\/ZC7pwsASgVp1L6qRVK9NiV3\/RHyc\/8RftSMiO8WZLaAAAAABJRU5ErkJggg==\");',\"}\",\".video-controls-hiddable,\",\".video-controls-unhiddable {\",\"    width: 100%;\",\"    height: 100%;\",\"}\",\".video-basic-controls-wrapper .center-button {\",\"    position: absolute;\",\"    width: 4em;\",\"    height: 4em;\",\"    border-top-left-radius: 2em;\",\"    border-top-right-radius: 2em;\",\"    border-bottom-left-radius: 2em;\",\"    border-bottom-right-radius: 2em;\",\"    background: #111;\",\"    margin: auto;\",\"    top: 0;\",\"    left: 0;\",\"    bottom: 0;\",\"    right: 0;\",\"    text-align: center;\",\"    cursor: pointer;\",\"    opacity: 0.8;\",\"    z-index: 1;\",\"}\",\".center-button div {\",\"    position: relative;\",\"    width: 100%;\",\"    color: white;\",\"    font-size: 2em;\",\"    top: 0.5em;\",\"}\",\".center-button .celtra-icon-play { left: 0.1em;}\",\".center-button .celtra-icon-replay { top: 0.62em; left:0.05em}\",\".video-basic-controls-wrapper .custom-button {\",\"    position: absolute;\",\"    height: 100%;\",\"    width: 100%;\",\"    top: 0;\",\"    left: 0;\",\"    cursor: pointer;\",\"    opacity: 0.8;\",\"}\",\".custom-button img {\",\"    margin: auto;\",\"    position: absolute;\",\"    top: 0;\",\"    right: 0;\",\"    bottom: 0;\",\"    left: 0;\",\"}\",\".video-controls-button {\",\"    position: absolute;\",\"    cursor: pointer;\",\"    font-size: 1.5em;\",\"    color: white;\",\"    width: 2.5em;\",\"    height: 2.5em;\",\"}\",\".video-controls-desktop .video-controls-button div {\",\"    margin-top: -0.5em;\",\"}\",\".ie-click-event {\",\"    background-color: rgba(255,255,255,0);\",\"}\",\".video-controls-button-shadow {\",\"    text-shadow: 1px 1px 3px #000;\",\"}\",\".video-controls-button-top-right {\",\"    right: 0;\",\"    top: 0;\",\"}\",\".video-controls-desktop .video-controls-button-top-right {\",\"    margin-right: 0.5em;\",\"    margin-top: 0.5em;\",\"    width: 1.5em;\",\"    height: 1.5em;\",\"}\",\".video-controls-button-bottom-right {\",\"    right: 0;\",\"    bottom: 0;\",\"}\",\".video-controls-desktop .video-controls-button-bottom-right {\",\"    margin-right: 0.5em;\",\"    margin-bottom: 0.75em;\",\"    width: 1.5em;\",\"    height: 1.5em;\",\"}\",\".video-controls-button div {\",\"    position: absolute;\",\"    height: 50%;\",\"    width: 100%;\",\"    left: 0;\",\"    text-align: center;\",\"    top:  50%;\",\"    margin-top: -0.75em;\",\"    vertical-align: middle;\",\"}\",\".video-controls-button .celtra-icon-close {\",\"    font-size: 0.7em;\",\"    left: 0.07412em;\",\"}\",\".video-controls-button .celtra-icon-enter-full-screen,\",\".video-controls-button .celtra-icon-exit-full-screen {\",\"    left: 0.09em;\",\"}\",\".video-controls-pending {\",\"    animation: video-controls-pending 1s infinite linear;\",\"}\",\"@-webkit-keyframes video-controls-pending {\",\"    0%   { opacity: 1 }\",\"    50% { opacity: 0 }\",\"    100%   { opacity: 1 }\",\"}\",\"@keyframes video-controls-pending {\",\"    0%   { opacity: 1 }\",\"    50% { opacity: 0 }\",\"    100%   { opacity: 1 }\",\"}\",\"@font-face {\",'    font-family: \"celtraicons\";','    src:url(\"data:application\/font-woff;base64,d09GRk9UVE8AAAqEAAoAAAAACjwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAA9AAABq8AAAavkHaHf09TLzIAAAekAAAAYAAAAGAIIvzDY21hcAAACAQAAABMAAAATBpVzGRnYXNwAAAIUAAAAAgAAAAIAAAAEGhlYWQAAAhYAAAANgAAADb\/fCRYaGhlYQAACJAAAAAkAAAAJAPjAfJobXR4AAAItAAAAEgAAABIHLIB9G1heHAAAAj8AAAABgAAAAYAElAAbmFtZQAACQQAAAFdAAABXWEQuipwb3N0AAAKZAAAACAAAAAgAAMAAAEABAQAAQEBDGNlbHRyYWljb25zAAECAAEAOvgcAvgbA\/gYBB4KABlT\/4uLHgoAGVP\/i4sMB4pq+JX4dAUdAAAA0A8dAAAA1REdAAAACR0AAAamEgATAQEMFxkbHiMoLTI3PEFGS1BVWl9kY2VsdHJhaWNvbnNjZWx0cmFpY29uc3UwdTF1MjB1RTYwMHVFNjAxdUU2MDJ1RTYwM3VFNjA0dUU2MDV1RTYwNnVFNjA3dUU2MDh1RTYwOXVFNjBBdUU2MEJ1RTYwQ3VFNjBEAAACAYkAEAASAgABAAQABwAKAA0ASwCpAPUCGAJDAs0DBQPvA\/sEHgRFBG0E2wWp\/JQO\/JQO\/JQO+5QOi\/dUFYs\/rUbAXAi1uwVjrnK\/i8SL9eHh9YvAi7t2rmgIQ0P3VIuL91RAQAVduUuoRIv7IYv7B\/sHi\/shCA6L9+kVi\/tP9wiK9yD7G4v4Yvsg+x4F93qoFWRkBaZ0nGqLZYtlempwdAiyZAWvrKK6i8CLwHS6Z6wI19cVZWUFuWCoTotIi0huTl1gCLFlBcO\/rtaL3YvdaNVTwAgOPPdt+HQVRYtNamNXCF65i\/se9x6LUcQFqra8p8SL54vWQIsuiy9AQC+LPItJwXnVCFmLBZ0m5D71i\/cLi+3ti\/cLi\/cMKez7C4sIDvhf95UVg4uDh4WFhYWHg4uDi4KPg5GFkYWTiJOLlIuTjpGRkZGOk4uUi5OIk4WRhZGDj4KLCEveFfutiwWIi4iJiImIiIqIi4gIi\/thBYuIjIiOiI6JjomOiwj3rYsFj4uOjY2Njo6MjouOCIv3YQWLjoqOiI6JjYiNh4sI++c+FYeLiYmLhwiLSwWLho2Jj4uQi42Ni5AIi8sFi4+JjYaLCIX3BxX4LYsFmYuXhpWBloGQf4t9CIv7YQWLfYZ\/gIGBgX+GfYsI\/C2LBX2Lf5CBlYGVhpeLmQiL92EFi5mQl5WVlZWXkJmLCPcO+zsVi3OVdZx8CJmaBX6Wg5yLnYutp6esi5yLm4SWgAh0dMiLi8hzcwV9mnaUdItei2dmi14IDvgl9\/EVd5\/7EfsR+xH3EXd39xH7EfsR+xGfd\/cR9xH3EfsRn5\/7EfcRBQ74lfgVFXiCd4Z1iKGYnKCTo3Z\/dYJzh3ifb5hti1GLXFyLUYuDjIKMhDSPPrVXy4J7hXmLeAiLZp5rp3h6jHuQfZKLi4uLi4qLWK9hu4GCiYKJgYuEi4WMhIyZYbJtuYpnb116WosIg4uCjIOMum3CecaL91aL9Pc1i\/cfi4+LkIuPoJqdnZmhCA73t2sVi\/ef0IuV2zyLi74Fi6KRm62LCLWLi9MFhIxyjW2LTothZotGCItQRouLO9CLi\/uf3osFDveznxWLlIiShJGFkoSOgouCi4OIhYSFhYiEi4KLgo6EkYSRhZOIlIuUi5KOkZGSko6Si5QI3ssVi\/etBYuPio6IjYmOiIyHiwj7YYsFiIuIioiIiYmKiIuHCIv7rQWLh4yIjYmOiI6KjosI92GLBY+LjoyNjo6NjI6Ljwg+9+cVi4+JjYeLCEuLBYaLiYmLh4uHjYiQiwjLiwWPi42Oi48I9weRFYv8LQWLfYZ\/gYGBgX+GfYsI+2GLBX2Lf5CBlYGVhpeLmQiL+C0Fi5mQl5WVlpWWkJmLCPdhiwWZi5eGlYGVgZB\/i30IDtlqFYv4lfgI+5EFDqL4dBX3R4uL\/JX7R4uL+JUF97aLFfdHi4v8lftHi4v4lQUO5\/fAFVpZ91mMivdXW1s53SgpBfeY+04VjPtXvLzdOe3uOd27uwUO90v4HhW8u\/tWi4v7Vbu63Drt7QX3Z\/vHFYr3VVtaOt0pKdw6XFsFDvhSyhWotJy+i8KL1WzOWLoIaWkFtWSlVYtOi2F\/ZXZrCGiuBZeikqWLp4u6drZrqQhoaAWjdppti2mLfYd9hn8IO9mL90kyMfsg9yFvb\/h4\/HmoqEjOBfw494QVi\/s984r3E\/sOi\/ca+zL3MgUO+I\/QFYuLi4uLiwj7L\/cv9y\/3LwWLi4uLi4uNjYyNjI2NkYqRhpAIQtQFhpCFjIWJiYqJiomJi4uLi4uLCPsv+y\/7L\/cvBYuLi4uLi4mNiYyJjIWNhYqGhghCQgWGhoqFjYWMiYyJjYmLi4uLi4sI9y\/7L\/sv+y8Fi4uLi4uLiYmKiYqJiYWMhZCGCNRCBZCGkYqRjY2MjYyNjYuLi4uLiwj3L\/cv9y\/7LwWLi4uLi4uNiY2KjYqRiZGMkJAI1NQFkJCMkYmRio2KjYmNCA74lBT4lBWLDAoAAAMCAAGQAAUAAAFMAWYAAABHAUwBZgAAAPUAGQCEAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA5g0B4P\/g\/+AB4AAgAAAAAQAAAAAAAAAAAAAAIAAAAAAAAgAAAAMAAAAUAAMAAQAAABQABAA4AAAACgAIAAIAAgABACDmDf\/9\/\/8AAAAAACDmAP\/9\/\/8AAf\/jGgQAAwABAAAAAAAAAAAAAAABAAH\/\/wAPAAEAAAABAAAXLCAzXw889QALAgAAAAAAzy5xzgAAAADPLnHO\/\/\/\/3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD\/4AAAAgD\/\/\/\/\/AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD\/\/wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAFAAABIAAAAAAA4ArgABAAAAAAABABYAAAABAAAAAAACAA4AYwABAAAAAAADABYALAABAAAAAAAEABYAcQABAAAAAAAFABYAFgABAAAAAAAGAAsAQgABAAAAAAAKACgAhwADAAEECQABABYAAAADAAEECQACAA4AYwADAAEECQADABYALAADAAEECQAEABYAcQADAAEECQAFABYAFgADAAEECQAGABYATQADAAEECQAKACgAhwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAVgBlAHIAcwBpAG8AbgAgADEALgAwAGMAZQBsAHQAcgBhAGkAYwBvAG4Ac2NlbHRyYWljb25zAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBSAGUAZwB1AGwAYQByAGMAZQBsAHQAcgBhAGkAYwBvAG4AcwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4AAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==\"),','        url(\"data:font\/truetype;base64,AAEAAAALAIAAAwAwT1MvMggi\/MMAAAC8AAAAYGNtYXAaVcxkAAABHAAAAExnYXNwAAAAEAAAAWgAAAAIZ2x5ZtKQLWwAAAFwAAAJfGhlYWT\/fCRYAAAK7AAAADZoaGVhA+MB8gAACyQAAAAkaG10eByyAfQAAAtIAAAASGxvY2EUzhFSAAALkAAAACZtYXhwABgAwAAAC7gAAAAgbmFtZWEQuioAAAvYAAABXXBvc3QAAwAAAAANOAAAACAAAwIAAZAABQAAAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADmDQHg\/+D\/4AHgACAAAAABAAAAAAAAAAAAAAAgAAAAAAACAAAAAwAAABQAAwABAAAAFAAEADgAAAAKAAgAAgACAAEAIOYN\/\/3\/\/wAAAAAAIOYA\/\/3\/\/wAB\/+MaBAADAAEAAAAAAAAAAAAAAAEAAf\/\/AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAACAAHAACMAADcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUADBcgFCoPGBEJHjRGKBQmIh8NSMBLESkuMhs1XUYowB02MSoSMA0gJSgWKEY0HggOFQ1IwEsRHBQKKEZdNQADAAAAEgIBAeAABQAcADMAABMVHwERBzcHHgMVFA4CBxc+AzU0LgInNwceAxUUDgIHFz4DNTQuAicAdIyM5icKEQsGBgsRCicNFhAICBAWDUwmERwTCwsTHBEmFSEYDQ0YIRUBVbsBhwHOih0nCBUYGw4OGxgVCCcNHSIlFBQlIh0NTCYQJyswGRkwKycQJhQvNTofHzo1LxQAAAABAAAALgGyAeAALQAAEyIOAgcnFTMnPgMzMh4CFRQOAiMiLgInIx4DMzI+AjU0LgIj2RoxLCYPLYo6DB0jKBUiPS4aGi49Ih41Kx4HMgcmOUcoLU86IyM6Ty0B4AwWHxQuijkQGhMKGy09IyI9LhoTIi8cJkEvHCM6Ty0tTzsiAAX\/\/wBHAf8BegAoAFUAbACZAL0AAAEiDgIHDgMVFB4CFx4DMzI+Ajc+AzU0LgInLgMjJyEiDgIHDgMdARQeAhceAzMhMj4CNT4CND0BPAEuASc0LgIjBSIOAh0BFB4CMzI+Aj0BNC4CIychMh4CFx4DHQEUDgIHDgMjISIuAicuAz0BND4CNz4DMxcUHgIXNy4DNTQ+AjMyHgIXBzM1By4DIyIOAhUBywMGBgUCAgQCAgICBAICBQYGAwQGBgUCAgQCAQECBAICBQYGBED+5wEDAgIBAQEBAQEBAQEBAgIDAQEZAgICAwECAQECAQMCAgL+rQEDAQEBAQMBAgICAQECAgIGAZkGCQkJAwQGBAICBAYEAwkJCQb+ZwUKCQgEBAUEAgIEBQQECAkKBXoDCAoGDgUIBQMKEBcMBwwLCgQXPRgFDQ8QCREdFwwBAQICAwMCBQYGAwQGBgUCAgQCAQECBAICBQYGBAMGBgUCAwMCAlMBAQEBAQICAwHNAQMCAgEBAQEBAQEBAQECAgMBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgQFBAQICQoFzQUKCQgEBAUEAgIEBQQECAkKBc0FCgkIBAQFBAKnCREQDgUPBAsLDQcNFhEKAwUGBBc9GAYJBgMNFh4RAAAAAQBvAE8BkQFxAAsAAAEnBycHFwcXNxc3JwGRFH19FH19FH19FH0BXRR9fRR9fRR9fRR9AAEAAAARAgEBsgBpAAABDgMjPgM3DgMjLgMHJg4CFRwBHgEVLgMnDgMVFB4CFwYuAic0FDQUNRQeAhciBiIGJwYmBiYHHgM3DgMHJgYmBiceAxc+AzUwPAI1PgM3AgEHDw8QCAgPCwoDCBAREQkHEhMWCxYmHRABASA+NzATBAUEAgcMEgoGDQwLBQwXHxIDBwcHBAIFBQUDBRQZHxIOHiEjEwMGBwYDESYpKxZJb0wnCA4NDAYBgQMGAwQEDQ4SCAMJBgYGDgcGAQESGycVBAUHBQQCEB4mGQcMDg0IDRoWFAYBAwMFAgEBAQIBFCEdEQUCAgEBAgECAQ8bEg0BCxANBQEBAQIBAg0QDQYBATZXaTYFAgQBBwsPDgkAAQCL\/+ABdQHgABwAAAURMzcjNTQ+AjsBNSIuAiMiDgIdASMVMxEzASNFCk8DCQ8NKgMLERQLFyYbD0VFUyABC1AzCQ4LBUgBAQEOGycaO1D+9QAABABl\/+EBmAHgACgAVQBsAJkAACU0LgInLgMjIg4CBw4DFRQeAhceAzMyPgI3PgM1NxE0LgInLgIiKwEqAQ4BBw4CFBURHAEeARceAjI7AToBPgE3PgM1AzQuAisBIg4CFRQeAjsBMj4CNTcRFA4CBw4DKwEiLgInLgM1ETQ+Ajc+AzsBMh4CFx4DFQEfAQMDAwIFBgYDBAYFBgICBAIBAQIEAgIGBQYEAwYGBQIDAwMBUwEBAQEBAgIDAc0BAgMCAQEBAQEBAQECAwIBzQEDAgIBAQEBAU0BAQMBQAICAgEBAgICQAEDAQFzAgMGBAQICQoFzQUKCQgEAwYEAgIEBgMECAkKBc0FCgkIBAQGAwIUAwYGBQIDAwMBAQMDAwIFBgYDAwcFBQMCBAIBAQIEAgMFBQcDQAEZAgICAgEBAgEBAgEBAgICAv7nAQMCAgEBAgEBAgEBAgIDAQFTAQMBAQEBAwECAgIBAQICAgb+ZwUKCQgEBAYDAgIDBgQECAkKBQGZBQoJCAQEBgQBAQQGBAQICQoFAAAAAQBO\/98BwgHgAAIAABcRBU4BdCECAf0AAgAX\/98B7AHgAAQACQAAEzMTIxMhMwMjAxeyAbQBASG0AbIBAeD9\/wIB\/f8CAQAAAgAK\/+AB9AHgAAYADQAAEwczJwcnBwUXNxc3JzdcMcUBMFJjAQQBMVJiUjABLDHEMVNjucQyU2RRMQAAAgAmAAUB3AG6AAYADQAAEzcHFTcXNxMnBycHFwe3McIwUWLTATBRYlEvAYoxAcAuUGH+zsAwUWFSLwAAAgAA\/98CAQHgADMAOQAAJT4DNTQuAicHHgMVFA4CByc+AzU0LgInBx4DFRQOAgcnNQcnBwE3JyUVHwE1JwG+CxEMBgsVHxMiDxoRCgUIDAgjBAcFAwcOFAwjCQ4LBQEDAwJQWYwcAeQdQ\/5caH+ePxAiJiYWGzUvLBAhECEoKxcPHxsbCyIKERQTDBAjHhsLIgkSFxcNBQsJCgRNtluOHf4cHETvqAJ5hZ8AAAEAAf\/hAf8B3wCEAAAlOAMxJzc4AzE+AzU2NC4BLwEuAiIHIg4CBzgDMQcnOAMxLgMjJiIOAQ8BDgIUFxQeAhc4AzEXBzgDMQ4DFQYUHgEfAR4CMjcyPgI3OAMxNxc4AzEeAzMWMj4BPwE+AjQnNC4CJwH7m5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBm5sBAQEBAQECAkkCBAQFAgEBAgEBm5sBAQIBAQIFBAQCSQICAQEBAQEBRZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAZubAQECAQECBQQEAkkCAgEBAQEBAZubAQEBAQEBAgJJAgQEBQIBAQIBAQAAAAEAAAABAAAoDgB8Xw889QALAgAAAAAAzy5xzgAAAADPLnHO\/\/\/\/3wIBAeAAAAAIAAIAAAAAAAAAAQAAAeD\/4AAAAgD\/\/\/\/\/AgEAAQAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAABAAAAAgAAAAIAAAABsQAAAgD\/\/wIAAG8CAAAAAgAAiwIAAGUCAABOAgAAFwIAAAoCAAAmAgAAAAIAAAEAAAAAAAoAFAAeAFIAoADgAdoB9AKCAqwDeAOEA5wDugPYBC4EvgAAAAEAAAASAL4ABQAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAWAAAAAQAAAAAAAgAOAGMAAQAAAAAAAwAWACwAAQAAAAAABAAWAHEAAQAAAAAABQAWABYAAQAAAAAABgALAEIAAQAAAAAACgAoAIcAAwABBAkAAQAWAAAAAwABBAkAAgAOAGMAAwABBAkAAwAWACwAAwABBAkABAAWAHEAAwABBAkABQAWABYAAwABBAkABgAWAE0AAwABBAkACgAoAIcAYwBlAGwAdAByAGEAaQBjAG8AbgBzAFYAZQByAHMAaQBvAG4AIAAxAC4AMABjAGUAbAB0AHIAYQBpAGMAbwBuAHNjZWx0cmFpY29ucwBjAGUAbAB0AHIAYQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBjAGUAbAB0AHIAYQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=\");',\"    font-weight: normal;\",\"    font-style: normal;\",\"}\",'[class^=\"celtra-icon-\"], [class*=\" celtra-icon-\"] {','    font-family: \"celtraicons\";',\"    speak: none;\",\"    font-style: normal;\",\"    font-weight: normal;\",\"    font-variant: normal;\",\"    text-transform: none;\",\"    line-height: 1;\",\"    -webkit-font-smoothing: antialiased;\",\"    -moz-osx-font-smoothing: grayscale;\",\"}\",'.celtra-icon-redo:before { content: \"\\\\e600\"; }','.celtra-icon-close:before { content: \"\\\\e60d\"; }','.celtra-icon-go-landscape:before { content: \"\\\\e603\"; }','.celtra-icon-twitter:before { content: \"\\\\e605\"; }','.celtra-icon-facebook:before { content: \"\\\\e606\"; }','.celtra-icon-phone:before { content: \"\\\\e607\"; }','.celtra-icon-play:before { content: \"\\\\e608\"; }','.celtra-icon-pause:before { content: \"\\\\e609\"; }','.celtra-icon-exit-full-screen:before { content: \"\\\\e60a\"; }','.celtra-icon-enter-full-screen:before { content: \"\\\\e60b\"; }','.celtra-icon-unmute:before { content: \"\\\\e60c\"; }','.celtra-icon-mute:before { content: \"\\\\e601\"; }','.celtra-icon-replay:before { content: \"\\\\e602\"; }','.celtra-icon-close2:before { content: \"\\\\e604\"; }',\".spinner .center-button {\",\"    display: none;\",\"}\",\".web-audio .celtra-icon-mute, .web-audio .celtra-icon-unmute { color: red; }\",\"\"].join(\"\\n\");this.VideoPlayerCss=A}();;\n!function(){{var t={};new Image}t.ZINDEX_MAX=2147483647,t.LANDSCAPE=1,t.PORTRAIT=2,t.ENDED=0,t.PLAYING=1,t.PAUSED=2,t.BUFFERING=3,t.VIDEO_CUED=5,t.UNSTARTED=6,t.SEEKING=7,t.STATE={0:\"ENDED\",1:\"PLAYING\",2:\"PAUSED\",3:\"BUFFERING\",5:\"VIDEO_CUED\",6:\"UNSTARTED\",7:\"SEEKING\"},t.TRUTHY_REGEX=\/^(yes|true|1)$\/i,t.isTruthy=function(e){return t.TRUTHY_REGEX.test(e)},t.isTouchDevice=!!(\"ontouchstart\"in window),t.validFor=function(t,e,n){var r=Date.now()+e;return function(){Date.now()<=r&&t.apply(n||null,arguments)}},t.exists=function(t,e){return-1!==t.indexOf(e)},t.lastCall=0,t.deduplicate=function(e,n,r){return function(){Date.now()-t.lastCall>n&&(e.apply(r,arguments),t.lastCall=Date.now())}},t.isFunction=function(t){return\"function\"==typeof t},t.constantly=function(t){return function(){return t}},t.hash=function(){for(var t=Array.prototype.slice.apply(arguments),e=0,n=0;n<t.length;n+=1)e+=1e3*t[n]+e<<1;return e},t.curry=Function.prototype.curry||function(){var t=this,e=Array.prototype.slice.call(arguments);return function(){return t.apply(this,e.concat(Array.prototype.slice.call(arguments)))}},t.offset=function(t,e){var n=t.getBoundingClientRect()||{top:0,left:0},r=e||document,i=r.documentElement,o=r.defaultView;return{top:n.top+(o.pageYOffset||i.scrollTop)-(i.clientTop||0),left:n.left+(o.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},t.attachHandlers=function(t,e,n){for(var r in n){var i;i=isArray(n[r])?n[r]:[n[r]],i.forEach(function(n){var i=t[n];i&&e.on(r,i.bind(t))})}},t.idempotented=function(e,n){var r=!1;if(!t.isFunction(e))throw\"idempotented called with no function.\";return function(){if(!r){var t=Array.prototype.slice.call(arguments);r=!0,e.call(n||window,t)}}},t.delayed=function(t,e,n){var r=null;return function(){var i=arguments;clearTimeout(r),r=setTimeout(function(){t.apply(n,i)},e)}},t.swapClass=function(t,e,n){hasClass(t,e)?(removeClass(t,e),addClass(t,n)):(removeClass(t,n),addClass(t,e))},t.memoize=function(t){return function(){var e=Array.prototype.slice.call(arguments),n=\"\",r=e.length,i=null;for(t.memoize=t.memoize||{};r--;)i=e[r],n+=i===Object(i)?JSON.stringify(i):i,t.memoize||(t.memoize={});return n in t.memoize?t.memoize[n]:t.memoize[n]=t.apply(this,e)}},t.toMMSS=function(t){var e=Math.floor(t\/36e5),n=Math.floor((t-36e5*e)\/60),r=Math.round(t-36e5*e-60*n);return 10>n&&(n=\"0\"+n),10>r&&(r=\"0\"+r),n+\":\"+r},t.fitComponent=function(t,e,n,r,i){var o,a,l,s,c=1-n\/r*(e\/t)>0,u=!!i;return(u?!c:c)?(o=n,a=Math.ceil(e*(n\/t)),l=0,s=r-a):(a=r,o=Math.ceil(t*(r\/e)),l=n-o,s=0),{width:Math.ceil(o),height:Math.ceil(a),marginHorizontal:l>>1,marginVertical:s>>1}},t.removeUnits=function(t){return parseInt(t.replace(\/[a-z]+\/,\"\"))},t.capitaliseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.createHandlerName=function(e,n){return n=n||\"on\",n+t.capitaliseFirstLetter(e)},t.forEach=function(t,e,n){for(var r in t)e.call(n,t[r],r,t)},t.changeStyle=function(t,e,n){for(var r,i=0;i<n.length;i+=1)r=n[i],r&&(r.style[t]=e)},t.show=function(){t.changeStyle(\"display\",\"\",arguments)},t.hide=function(){t.changeStyle(\"display\",\"none\",arguments)},t.showCursor=function(e){t.changeStyle(\"cursor\",\"\",e)},t.hideCursor=function(e){t.changeStyle(\"cursor\",\"none\",e)},t.removeElements=function(){for(var t=0;t<arguments.length;t+=1){var e=arguments[t];e&&e.parentNode&&e.parentNode.removeChild(e)}},t.removeChildren=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.isNode=function(t){return\"object\"==typeof Node?t instanceof Node:t&&\"object\"==typeof t&&\"number\"==typeof t.nodeType&&\"string\"==typeof t.nodeName},t.urlSerialize=function(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+\"=\"+encodeURIComponent(t[n]));return e.join(\"&\")},t.composeUrl=function(){for(var e=[],n=null,r=!1,i=0;i<arguments.length;i+=1){var o=arguments[i]||\"\";if(\"object\"==typeof o){n=t.urlSerialize(o);break}\"function\"==typeof o&&(o=o()||\"\"),r=o.length>0&&\"\/\"==o[o.length-1];var a=0===i?o.replace(\/\\\/$\/,\"\"):o.replace(\/^\\\/\/,\"\").replace(\/\\\/$\/,\"\");a&&e.push(a)}return e.join(\"\/\")+(r?\"\/\":\"\")+(n?\"?\"+n:\"\")},t.xBindFactory=function(t){return function(e){var n=e.getAttribute(\"x-bind\");n&&(t[n]=e,e.removeAttribute(\"x-bind\"))}},t.createDom=function(t,e,n,r){function i(t){for(var e=t.children||[],n=0;n<e.length;n+=1)i(e[n]);return r(t),t}var o=t.createElement(\"div\"),r=r||noop;return o.innerHTML=tmpl(\"string\"==typeof e?e:e.join(\"\"),n||{}),i(o).children[0]},t.createStyleTag=function(t,e){var n=t.createElement(\"link\");return n.setAttribute(\"rel\",\"stylesheet\"),n.setAttribute(\"href\",e),n},t.insertStyleTag=function(t,e,n){var r=n.getElementsByTagName(\"head\")[0];if(!n.getElementById(t)){var i=document.createElement(\"style\");i.setAttribute(\"id\",t),i.innerHTML=e,r.appendChild(i)}},t.createSourceTag=function(t,e){var n=t.createElement(\"source\");return n.setAttribute(\"src\",e),n},t.hasValue=function(t){return null!==t&&void 0!==t&&t!==0\/0&&\"\"!==t},t.filterObject=function(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(e&&e(t[n])||t[n])&&(r[n]=t[n]);return r},t.complement=function(t){return function(){return!t.apply(this,arguments)}},t.EMPTY_PIXEL=\"R0lGODlhAQABAPAAAP\/\/\/wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\",this.CeltraPlayerUtils=t,t.forEach=function(t,e,n){if(t.forEach)t.forEach(e,n);else for(var r in t){var i=t[r];e.call(n,r,i)}},t.isTouchDevice=!!(\"ontouchstart\"in window),t.isTopNode=function(t){return\"BODY\"===t.tagName||\"viewport\"===t.id||\"celtra-modal\"===t.id},t.orientationLockHandler=function(t,e){var n=t.getControlsElement(),r=t.getWrapperElement();r&&(e?(t.__playAfterRotate=t.isState(CeltraPlayerUtils.PLAYING)?!0:!1,t.pause(),n&&(n.style.display=\"none\"),r.style.zIndex=-1):(n&&(n.style.display=\"\"),t.__playAfterRotate&&t.play(),r.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX))},t.construct=function(t,e){function n(){return t.apply(this,e)}return n.prototype=t.prototype,new n},t.getUrl=function(e){var n=!!creative.runtimeParams.secure,r=(n?e:\"insecure\"+t.capitaliseFirstLetter(e))+\"Url\",i=\"undefined\"!=typeof creative?creative[r]:urls[r];if(i)return i;throw\"Undefined url key \"+r},t.ifDefined=function(t,e){return\"undefined\"!=typeof t?t:e},t.base64ToArrayBuffer=function(t){for(var e=window.atob(t),n=e.length,r=new Uint8Array(n),i=0;n>i;i++){var o=e.charCodeAt(i);r[i]=o}return r.buffer}}(),function(){this.StatefulEventEmitter={changeState:function(t){var e=this._state;this._state!=t&&(this._state=t,this.emit(\"statechange\",t,e))},getState:function(){return this._state},isState:function(){var t=Array.prototype.slice.apply(arguments);return-1!==t.indexOf(this._state)}},extend(this.StatefulEventEmitter,EventEmitter)}(),function(){function t(t,o,a){this.intervalId=null,this.containerEl=null,this.externalResize=noop,this.lastWidth=0,this.lastHeight=0,this.lastScrollX=0,this.lastScrollY=0,this.doc=t.ownerDocument,this.win=\"defaultView\"in this.doc?this.doc.defaultView:this.doc.parentWindow,this.initialHostOffset={left:this.win.pageXOffset||document.documentElement.scrollLeft,top:this.win.pageYOffset||document.documentElement.scrollTop},this.containerEl=t;var l=this.containerEl.style;l.position=a?\"fixed\":\"absolute\",l.zIndex=CeltraPlayerUtils.ZINDEX_MAX-1,l.width=\"100%\",l.height=\"100%\",l.left=\"0px\",l.top=\"0px\",o||(l.background=\"#000\"),this.containerEl.addEventListener(\"touchmove\",r),this.containerEl.addEventListener(\"touchstart\",r),this.win.document.body.appendChild(this.containerEl),this.resize=n.bind(this),this.tick=e.bind(this),this.intervalId=setInterval(this.tick,i),new Tapper(t)}function e(){window===(\"undefined\"==typeof adapter?creative.adapter:adapter).getTopWindow()&&(this.containerEl.style.width=\"100%\",this.containerEl.style.height=\"100%\");var t=Math.max(this.win.document.documentElement.clientWidth,this.win.innerWidth||0),e=Math.max(this.win.document.documentElement.clientHeight,this.win.innerHeight||0);(this.lastWidth!==t||this.lastHeight!==e||ios(\"7\")&&o)&&(this.lastWidth=t,this.lastHeight=e,defer(this.resize))}function n(){var t=this.containerEl.style;t.width=this.lastWidth+\"px\",t.height=this.lastHeight+\"px\",t.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.emit(\"resize\",{width:this.lastWidth,height:this.lastHeight,scrollX:this.lastScrollX,scrollY:this.lastScrollY})}function r(t){var e=void 0!=typeof adapter?adapter:creative.adapter;\"touchstart\"==t.type&&e.useNativeClickForTapDetection||t.preventDefault(),t.stopPropagation()}var i=60,o=-1!==navigator.userAgent.indexOf(\"Safari\")&&-1===navigator.userAgent.indexOf(\"CriOS\");extend(t.prototype,EventEmitter),t.prototype.getElement=function(){return this.containerEl},t.prototype.destroy=function(){this.containerEl&&(this.containerEl.removeEventListener(\"touchmove\",r),this.containerEl.removeEventListener(\"touchstart\",r),clearInterval(this.intervalId),this.containerEl.innerHTML=\"\")},window.FullScreenHandler=t}();;\n!function(){var e={startMuted:!1,preload:!1,from:null,to:null,blobHash:null,hasAudio:!0,customUrlParameters:{},forceMPEG4Video:!1,forceMPEG1Video:!1},r=CeltraPlayerUtils.composeUrl,i=CeltraPlayerUtils.filterObject,o=CeltraPlayerUtils.getUrl;VideoEngineProvider={};var n=function(){return deviceInfo.deviceType.desktop()||deviceInfo.os.ios(\"10\",null)&&!deviceInfo.browser.chrome(null,\"64\")||deviceInfo.os.android()&&deviceInfo.browser.chrome(\"53\",null)&&!deviceInfo.browser.samsung()||deviceInfo.os.android()&&deviceInfo.browser.samsung(\"6.4\",null)},t=function(r,i){var o=merge(e,i);\"1\"==o.campaignExplorer&&(o.startMuted=!0);var n=d(r,o),t={inUserInitiatedThread:r,startMuted:o.videoElement?o.videoElement.muted:o.startMuted};return\"jsVideo\"==n?merge(s(o),t):merge(a(o,r),t)},d=function(e,r){return r.forceMPEG4Video?\"html5\":r.forceMPEG1Video||r.fallbackToMPEG1?\"jsVideo\":n()||e?\"html5\":\"jsVideo\"},s=function(e){return{clazz:\"JsVideoEngine\",preset:e.fallbackToMPEG1?\"mpeg1LQVideo\":\"mpeg1SHQVideo\",engineType:\"mpeg1\",file:\"video.avi\",doAVSync:e.hasAudio&&!e.isTeaser,isTeaser:e.isTeaser,preload:e.preload,options:{}}},a=function(e,r){var i=e.isMasterVideo,o=deviceInfo.deviceType.desktop()&&deviceInfo.browser.firefox()&&!e.isSnapchatFormat,n=o?{prefix:\"webm\",extension:\"webm\"}:{prefix:\"mpeg4\",extension:\"mp4\"},t=e.hqQuality&&!deviceInfo.browser.firefox()?\"HQPlus\":\"HQ\";i?t=deviceInfo.deviceType.desktop()&&!e.capStreamAtHQPlus?\"HD\":deviceInfo.browser.firefox()?\"HQ\":\"HQPlus\":e.isSnapchatFormat?t=\"HQPlus\":!deviceInfo.deviceType.desktop()&&!e.isVideo360||e.isTeaser||(t=deviceInfo.browser.firefox()?\"HQ\":\"HQPlus\");var d=n.prefix+t,s=!deviceInfo.deviceType.desktop()&&e.isVideo360&&r&&!e.startMuted,a=deviceInfo.os.ios(null,\"10\")&&e.isVideo360;return{clazz:a?\"CrossOriginHtml5VideoEngine\":\"Html5VideoEngine\",preset:d,engineType:\"html5\",file:\"video.\"+n.extension,doAVSync:s,isTeaser:e.isTeaser,preload:e.preload,crossOrigin:!0,options:{}}},l=function(e,i){var n=e.doAVSync||e.isTeaser,t=f(e.preset,n,i);return r(o(\"cachedApi\"),\"videoStream\",i.blobHash,e.preset,e.file,t)};AudioEngineProvider={};var c=function(e){if(!e.doAVSync)return null;var r=m()?\"WebAudioEngine\":\"Html5AudioEngine\";return{clazz:r,preload:e.preload}},u=function(e){var i={preset:\"aacAudio\",file:\"audio.m4v\"};return r(o(\"cachedApi\"),\"videoStream\",e.blobHash,i.preset,i.file,e?v(i.preset,e):{})},f=function(e,r,o){return i(merge({from:o.from,to:o.to,muted:r?\"1\":null,transform:\"VideoStream\",celtraCacheBust:p(e)},o.customUrlParameters))},v=function(e,r){return i(merge({from:r.from,to:r.to,transfom:\"VideoStream\",celtraCacheBust:p(e)},r.customUrlParameters))},m=function(){return\"undefined\"!=typeof AudioContext||\"undefined\"!=typeof webkitAudioContext},p=function(e){if(\"undefined\"!=typeof creative){var r=creative.videoStreamAlgoVersions[e];return creative.version+(r?\"-\"+r:\"\")}return null};VideoEngineProvider.createVideoEngineSpec=t,VideoEngineProvider.createVideoUrl=l,window.VideoEngineProvider=VideoEngineProvider,AudioEngineProvider.createAudioEngineSpec=c,AudioEngineProvider.createAudioUrl=u,window.AudioEngineProvider=AudioEngineProvider}();;\n!function(){function e(){videoEventsAdapter=null,s=null,n=null,d=!1,o=null}function t(){videoEventsAdapter&&(videoEventsAdapter.destroy(),videoEventsAdapter=null),s&&(s.destroy(),o.destroy(),e())}var n,o,r,i={fsvp:{attachment:\"body\",positioning:\"screen\",type:\"layer\"}},a=function(){},l={},s=null,d=!1,c=null;a.init=function(t){e(),l=merge({hideControls:!1,controlsHidden:!1,baseUrl:urls.staticUrl+\"runner\/FullscreenVideoPlayer\/\",muteUnmuteEnabled:!((ios(\"9\")||ios(\"8\"))&&tablet())},t||{}),adapter.createPlacements(i,function(){c=adapter.placements.fsvp})},a.play=function(e,r,i){adapter._stopAllMedia(\"toPlayVideo\"),t();var u=function(){return{clazz:\"Html5VideoEngine\",engineType:\"html5\",videoUrl:r.file.getUrl(),doAVSync:!1,options:{}}};d=!1,o=new FullScreenHandler(c.getContainer(),!1,android(\"4\",\"5\")&&!l.forceAbsolutePositioning),n=i;try{var f=parseFloat(r.file.meta.duration)}catch(p){var f=null}r.file.meta&&(l.muteUnmuteEnabled=l.muteUnmuteEnabled&&r.file.meta.hasAudio);var m=function(e){return new BasicVideoControls(e)},v={autoplay:!1,baseUrl:l.baseUrl,closeFSOnEnd:!0,fullscreenMode:\"permanent\",autohideTime:3,duration:f};r.file.meta&&(v.videoWidth=r.file.meta.width,v.videoHeight=r.file.meta.height),s=new VideoPlayer(o.getElement(),u,function(e,t){var n=new BasicVideoControlsController(e,m,extend(l,t));return n.on(\"playButtonPressed\",function(){s.play()}.bind(this)),n},function(){return!0},v);var h=s.createSpecs(!0,!1);s.initialize(h),a.attachListeners(i),videoEventsAdapter=new VideoEventsAdapter(s),e.registerSource(videoEventsAdapter),s.on(\"userInteraction\",function(){e.trackUserInteraction()}),c.setPosition(0,0),c.show(),s.play(),s.redraw()},a.attachListeners=function(e){r=CeltraPlayerUtils.idempotented(function(){e(d)}),s.on(\"timeupdate\",a.onTimeUpdate),s.on(\"close\",a.close),s.on(\"ended\",a.close),s.on(\"error\",a.close),s.on(\"exitfullscreen\",a.close),adapter.once(\"dismissed\",a.close),adapter.once(\"collapsed\",a.close),adapter.on(\"orientationchange\",a.refresh),adapter.on(\"resize\",a.refresh),adapter.once(\"mediaStopRequested\",a.close)},a.removeListeners=function(){s.off(\"timeupdate\",a.onTimeUpdate),s.off(\"close\",a.close),s.off(\"ended\",a.close),s.off(\"error\",a.close),s.off(\"exitfullscreen\",a.close),adapter.off(\"dismissed\",a.close),adapter.off(\"collapsed\",a.close),adapter.off(\"orientationchange\",a.refresh),adapter.off(\"resize\",a.refresh),adapter.off(\"mediaStopRequested\",a.close)},a.onTimeUpdate=function(){s.currentTime>.5&&(d=!0)},a.refresh=function(){s.redraw()},a.close=function(){null!==s&&(c.hide(),a.removeListeners(),s.pause(),s.hide(),r(),defer(t,\"undefined\"!=typeof ADMARVEL?1e3:100))},window.FullscreenVideoPlayer=a}();;\n!function(){function e(e,t,n){e.setAttribute(\"x-celtra-media\",\"\"),n.playsInline&&(e.setAttribute(\"webkit-playsinline\",\"\"),e.setAttribute(\"playsinline\",\"\"),n.startMuted&&(e.muted=!0)),n.crossOrigin&&(e.crossOrigin=\"anonymous\"),e.src=t,e.preload=n.preload?\"auto\":\"none\"}var t=function(t,n){var r={playsInline:!1,maxTimeupdatesPerSecond:15},i=merge({},r,n.options);i.startMuted=!!n.startMuted,i.crossOrigin=!!n.crossOrigin;var o=i.videoElement,u=!!o,a=u?o:document.createElement(\"video\");e(a,t,i);var d={};extend(d,EventEmitter);for(var s=function(e){d.emit(e.type,e)}.bind(this),c=[\"loadedmetadata\",\"durationchange\",\"progress\",\"canplay\",\"play\",\"playing\",\"pause\",\"ended\",\"buffering\",\"endbuffering\",\"muted\",\"unmuted\",\"seeking\",\"seeked\",\"exitfullscreen\",\"webkitendfullscreen\",\"error\",\"canunmute\",\"custominfo\",\"playersourceloading\"],l=c.length-1;l>=0;l--)a.addEventListener(c[l],s);var m=a.volume,f=function(){m!==a.volume&&(m=a.volume,d.emit(\"volumechange\",m))},g=0,p=0,y=function(){var e=d.currentTime,t=p%Math.round(60\/i.maxTimeupdatesPerSecond)===0;t&&d.isPlaying&e!==g&&(g=e,d.emit(\"timeupdate\",e)),p++};Ticker.frame(f),Ticker.frame(y),Object.defineProperties(d,{currentTime:{get:function(){return this.getCurrentTime()},set:function(e){this.setCurrentTime(e)}},reportsSeeking:{get:function(){return!!a.reportsSeeking}},buffered:{get:function(){return a.buffered}},duration:{get:function(){return a.duration}},muted:{get:function(){return a.muted},set:function(e){a.muted=e}},isPlaying:{get:function(){return!(!(this.getCurrentTime()>0)||a.paused||a.ended)}},paused:{get:function(){return a.paused}}}),u||(a.videoWidth=i.videoWidth,a.videoHeight=i.videoHeight),d.continuePlaying=function(){a.play()}.bind(this),d.render=function(){!u&&android(\"4.0\",\"4.2\")&&(a.style.height=\"auto\",a.style.minHeight=\"auto\");try{a.load()}catch(e){}return a};var v=a.play?a.play.bind(a):noop,h=a.pause?a.pause.bind(a):noop,b=!0,E=function(){d.emit(\"autoplaynotpossible\")},T=function(){if(!d.pauseEnforced){var e=v();void 0!==e&&e[\"catch\"](function(e){d.emit(\"autoplayrejected\"),(\"NotAllowedError\"===e.name||\"AbortError\"===e.name)&&(Logger(\"Html5VideoEngine\").error(\"Video Engine - \",e),a.muted=!0,d.emit(\"forcemuted\"),b?(b=!1,T()):(E(),E=noop))})}};return d.mute=function(){a.muted=!0},d.unMute=function(){a.muted=!1},d.setCurrentTime=function(e){d.isReady()&&(a.currentTime=e)},d.getCurrentTime=function(){return d.isReady()&&a.currentTime>0?a.currentTime:0},d.isReady=function(){return a&&0!==a.readyState},d.play=function(){d.pauseEnforced=!1,celtra.webkit(\"534.30\")||celtra.webkit(\"537.36\")||fakeclick(function(){T()}.bind(this)),defer(function(){T()}.bind(this)),CeltraPlayerUtils.isNode(a)&&a.addEventListener(\"progress\",a.continuePlaying)},d.pause=function(){CeltraPlayerUtils.isNode(a)&&a.removeEventListener(\"progress\",a.continuePlaying,{},{}),h(),d.pauseEnforced=!0},d.destroy=function(){h();for(var e=c.length-1;e>=0;e--)a.removeEventListener(c[e],s);u||CeltraPlayerUtils.removeElements(a),Ticker.removeFrame(f),Ticker.removeFrame(y)},d};this.Html5VideoEngine=t}();;\n!function(e){function t(e,t,s){return Object.create(i).init(e,t,!!s)}var i=Object.create(EventEmitter),s=window.AudioContext||window.webkitAudioContext,o=null,n=!1,u=!1;extend(i,{init:function(e,t,i){return this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null,this._emitTimeUpdateInterval=null,this._sourceUrl=e,this._paused=!0,this._pausedAt=0,this._timeDiff=0,this._loadStatus=\"unstarted\",this.loop=!!i,t&&this.load(),this},load:function(){if(\"unstarted\"===this._loadStatus){this._loadStatus=\"pending\";var e=new XMLHttpRequest;e.open(\"GET\",this._sourceUrl,!0),e.responseType=\"arraybuffer\",e.onload=function(){this._encodedBuffer=e.response,o&&this._decodeAudioData()}.bind(this),e.send()}},unlock:function(){n||(this._iosHack(),this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop))},playAudio:function(e){this._iosHack(),this._createAudioContext(),this.load();var e=null==e?this._pausedAt:e;this.pause(),this._timeDiff=o.currentTime-e,this._paused=!this._buffer,this._createNodeAndPlayFrom(this._buffer||this._bufferSilence,e,this.loop),this._emitTimeUpdate(),n||setTimeout(function(){if(this._sourceNode){var e=this._sourceNode.playbackState===this._sourceNode.PLAYING_STATE,t=this._sourceNode.playbackState===this._sourceNode.FINISHED_STATE,i=e||t;n=n||!!this._buffer&&i}}.bind(this),0)},pause:function(){clearInterval(this._emitTimeUpdateInterval),this._pausedAt=this.currentTime,this._paused=!0,this._clearSourceNode()},destroy:function(){this.pause(),\"function\"==typeof o.close&&o.close(),this._sourceNode=null,this._buffer=null,this._bufferSilence=null,this._encodedBuffer=null},_iosHack:function(){ios()&&!u&&(this._createAudioContext(),this._createNodeAndPlayFrom(this._bufferSilence,0,this.loop),\"function\"==typeof o.close&&(o.close(),o=null),this._createAudioContext(),u=!0)},_createAudioContext:function(){o||(o=new s,this._bufferSilence=o.createBuffer(1,1,o.sampleRate),this._encodedBuffer&&!this._buffer&&this._decodeAudioData())},_createNodeAndPlayFrom:function(e,t,i){this._clearSourceNode(),this._sourceNode=o.createBufferSource(),this._sourceNode.connect(o.destination),this._sourceNode.buffer=e,this._sourceNode.loop=i,\"function\"==typeof this._sourceNode.noteGrainOn?this._sourceNode.noteGrainOn(0,t,e.duration-t):\"function\"==typeof this._sourceNode.start?this._sourceNode.start(0,t):this._sourceNode.noteOn(0,t)},_clearSourceNode:function(){if(this._sourceNode){try{\"function\"==typeof this._sourceNode.stop?this._sourceNode.stop(0):this._sourceNode.noteOff(0)}catch(e){}this._sourceNode.disconnect(),this._sourceNode=null}},_emitTimeUpdate:function(){this.paused||this._buffer&&this.currentTime>=this._buffer.duration?clearInterval(this._emitTimeUpdateInterval):this._emitTimeUpdateInterval=setInterval(this.emit.bind(this,\"timeupdate\"),250)},_decodeAudioData:function(){o.decodeAudioData(this._encodedBuffer,function(e){this._buffer=e,this._loadStatus=\"loaded\",this.emit(\"canplay\"),this.emit(\"canplaythrough\")}.bind(this))}}),Object.defineProperties(i,{paused:{get:function(){return this._paused}},ended:{get:function(){return!1}},ready:{get:function(){return\"loaded\"===this._loadStatus}},playedBefore:{get:function(){return n}},currentTime:{get:function(){return this._paused?this._pausedAt:o.currentTime-this._timeDiff},set:function(e){this._pausedAt=e,\"loaded\"!==this._loadStatus||this._paused||(this.pause(),this.playAudio(e))}}}),e.WebAudioEngine=t}(this);;\n!function(){var e=.3,n=function(n,t){if(\"undefined\"==typeof Audio)return null;var r=new Audio;r.isUnlocked=!1,t?(r.preload=\"auto\",r.src=n,r.start=noop):(r.preload=\"none\",r.start=function(){r.src=n,r.start=noop}),r.ready=!1;var o=function(){r.ready=!0},i=function(){r.buffered\/r.duration>e&&o()};return r.addEventListener(\"canplay\",o),r.addEventListener(\"canplaythrough\",o),r.addEventListener(\"progress\",i),r.unlock=noop,r.on=r.addEventListener,r.off=r.removeEventListener,r.playedBefore=!1,r.unlock=function(){this.isUnlocked||this.playedBefore||(fakeclick(function(){celtra.webkit(\"537.36\")&&r.play(),r.pause()}),this.isUnlocked=!0)},r.playFrom=function(e){r.start(),r.ready&&(fakeclick(function(){r.play()}),void 0!==e&&(r.currentTime=e,r.playedBefore=!0))},r.destroy=function(){this.pause(),this.src=null,r.removeEventListener(\"progress\",i),r.removeEventListener(\"canplay\",o),r.removeEventListener(\"canplaythrough\",o)},r.setAttribute(\"x-celtra-media\",\"\"),r};this.Html5AudioEngine=n}();;\n!function(){var i=120,t=.6,e=1,s=3e3,o=2,d={init:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onPlay=this.onPlay.bind(this),this.onReplayed=this.onReplayed.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,this.video.once(\"destroy\",this.destroy),this.video.once(\"userplayed\",this.onFirstPlay),this.video.on(\"muted\",this.onMuted),this.video.on(\"unmuted\",this.onUnMuted),this.video.on(\"replayed\",this.onReplayed)},attach:function(){this.video.on(\"pause\",this.onPause),this.video.on(\"ended\",this.onEnded),this.video.on(\"userpaused\",this.onPause),this.video.on(\"seeking\",this.onPause),this.video.on(\"play\",this.onPlay),this.video.on(\"playing\",this.onPlay),this.video.on(\"seeked\",this.onPlay),this.video.on(\"timeupdate\",this.onTimeUpdate)},destroy:function(){this.audio.pause(),this.video.off(\"userplayed\",this.onFirstPlayed),this.video.off(\"userpaused\",this.onPause),this.video.off(\"pause\",this.onPause),this.video.off(\"seeking\",this.onPause),this.video.off(\"ended\",this.onEnded),this.video.off(\"play\",this.onPlay),this.video.off(\"playing\",this.onPlay),this.video.off(\"seeked\",this.onPlay),this.video.off(\"muted\",this.onMuted),this.video.off(\"unmuted\",this.onUnMuted),this.video.off(\"timeupdate\",this.onTimeUpdate),this.video.off(\"replayed\",this.onReplayed)},onFirstPlay:function(){if(this.video.off(\"userplayed\",this.onFirstPlay),this.audio.start(),this.muted||this.audio.ready)fakeclick(function(){this.audio.load()}.bind(this)),this.attach();else{var t=!1,e=!1,s=celtra.webkit(\"534.30\"),o=function(){var d=isMediaPlaying(this.video),n=isMediaPlaying(this.audio);if(n&&d||n&&e||d&&t||t&&e||this.audio.ready){this.attach(),this.video.silentPlay();try{this.video.currentTime=this.audio.currentTime}catch(h){}}else d&&!n&&(this.video.silentPause(),e=!0),!n||d||s||(this.audio.pause(),t=!0),defer(o.bind(this),i)}.bind(this);s?this.audio.playFrom():fakeclick(function(){this.audio.load()}.bind(this)),defer(o,500)}},onPause:function(){this.audio.pause()},onEnded:function(){this.audio.pause(),this.audio.ready&&(this.audio.currentTime=0)},onPlay:function(){this.muted||this.audio.playFrom()},onReplayed:function(){this.muted||(this.audio.playFrom(0),this._lastSyncTime=Date.now())},onMuted:function(){this.muted=!0,this.audio.pause()},onUnMuted:function(){this.muted=!1,isMediaPlaying(this.video)&&this.audio.ready?this.audio.playFrom(this.video.currentTime):this.audio.unlock()},onTimeUpdate:function(){var i=isMediaPlaying(this.audio);if(!(!i&&this.audio.playedBefore||this.muted)){if(this.audio.paused&&!this.muted&&!this.video.paused)return void this.audio.playFrom(this.video.currentTime);var d=this.video.currentTime-this.audio.currentTime,n=Math.abs(d);if(!(t>n||this.video.currentTime<e||Date.now()-this._lastSyncTime<s))if(this._lastSyncTime=Date.now(),0>d&&o>n)try{this.video.currentTime=this.audio.currentTime}catch(h){}else try{this.audio.currentTime=this.video.currentTime+t\/2}catch(h){}}}};this.AVSyncAudio=d}();;\n!function(){var i=.6,t=1,e=3e3,s=2,o={init:function(i,t,e){this.onPause=this.onPause.bind(this),this.onEnded=this.onEnded.bind(this),this.onMuted=this.onMuted.bind(this),this.onUnMuted=this.onUnMuted.bind(this),this.onTimeUpdate=this.onTimeUpdate.bind(this),this.onFirstPlay=this.onFirstPlay.bind(this),this.destroy=this.destroy.bind(this),this.video=i,this.audio=t,this.muted=e,this._lastSyncTime=0,i.once(\"destroy\",this.destroy),i.once(\"userplayed\",this.onFirstPlay),this.video.on(\"muted\",this.onMuted),this.video.on(\"unmuted\",this.onUnMuted)},attach:function(){this.video.on(\"pause\",this.onPause),this.video.on(\"ended\",this.onEnded),this.video.on(\"userpaused\",this.onPause),this.video.on(\"seeking\",this.onPause),this.video.on(\"timeupdate\",this.onTimeUpdate)},destroy:function(){this.audio.pause(),this.video.off(\"userplayed\",this.onFirstPlayed),this.video.off(\"pause\",this.onPause),this.video.off(\"userpaused\",this.onPause),this.video.off(\"seeking\",this.onPause),this.video.off(\"ended\",this.onEnded),this.video.off(\"muted\",this.onMuted),this.video.off(\"unmuted\",this.onUnMuted),this.video.off(\"timeupdate\",this.onTimeUpdate)},onFirstPlay:function(){this.video.off(\"userplayed\",this.onFirstPlay);var i=!0,t=this.video,e=celtra.webkit(\"534.30\"),s=function(){i&&!e&&t.silentPause()};this.muted||this.audio.ready?(this.audio.load(),this.attach()):(this.video.once(\"canplay\",s),this.video.once(\"playing\",s),this.video.once(\"timeupdate\",s),this.audio.once(\"canplaythrough\",function(){i=!1,this.video.off(\"canplay\",s),this.video.off(\"playing\",s),this.video.off(\"timeupdate\",s),isMediaPlaying(this.video)||this.video.silentPlay(),!isMediaPlaying(this.audio)&&android()&&this.audio.playAudio(),this.attach()}.bind(this)),this.audio.load())},onPause:function(){this.audio.pause()},onEnded:function(){this.audio.pause(),this.audio.currentTime=0},onMuted:function(){this.muted=!0,this.audio.pause()},onUnMuted:function(){this.muted=!1,isMediaPlaying(this.video)?this.audio.playAudio(this.video.currentTime):this.audio.unlock()},onTimeUpdate:function(){if(!this.muted){if(this.audio.paused&&!this.video.paused)return void this.audio.playAudio(this.video.currentTime);var o=this.video.currentTime-this.audio.currentTime,d=Math.abs(o);if(!(i>d||this.video.currentTime<t||Date.now()-this._lastSyncTime<e))if(this._lastSyncTime=Date.now(),0>o&&s>d)try{this.video.currentTime=this.audio.currentTime}catch(n){}else try{this.audio.currentTime=this.video.currentTime}catch(n){}}}};this.AVSyncWebAudio=o}();;\n!function(){var e=function(i,t,s){this._videoPlayer=i,this._opts=merge({},e.DEFAULTS,s),this.isVisible=!1,this._controlsInitiallyDisabled=!1,this._isFirstPlay=!0,this._playAfterSeeking=!1,this._isMuted=!1,this._spinnerShown=!0,this._cursorHidden=!1,CeltraPlayerUtils.attachHandlers(this,this._videoPlayer,e.PLAYER_EVENTS,!0),this._changeVisibility=this._changeVisibility.bind(this),this.handleUserInteraction=this.handleUserInteraction.bind(this),this._videoControls=t(this.handleUserInteraction)};extend(e.prototype,EventEmitter),e.DEFAULTS={autohideTime:0,progressbar:!0,progressbarColour:\"#4589ce\",startInFullScreen:!1,controlsHidden:!1,fullscreenMode:\"both\",minLengthToSeek:30,muteUnmuteEnabled:!0},e.PLAYER_EVENTS={durationchange:\"onVPDurationChange\",muted:\"onVPMuted\",unmuted:\"onVPUnmuted\",progress:\"onVPProgress\",play:\"onVPPlay\",playing:\"onVPPlaying\",pause:\"onVPPause\",autoplayrejected:\"onVPAutoplayRejected\",forcemuted:\"onVPForceMuted\",ended:\"onVPEnded\",buffering:\"onVPBuffering\",timeupdate:\"onVPTimeupdate\",seekto:\"onVPSeekto\",enterfullscreen:\"onVPEnterFullscreen\",exitfullscreen:\"onVPExitFullscreen\",orientationchange:\"onVPOrientationChange\",canunmute:\"onVPCanUnmute\",playersourceloading:\"onVPPlayerSourceLoading\"},extend(e.prototype,{render:function(e){var i=this._videoControls.render(e,this._opts);return this.init(),i},init:function(){this._changeVisibilityTimed(!1),this._opts.progressbar||this._videoControls.hide(\"sliderContainer\"),\"permanent\"===this._opts.fullscreenMode?(this._videoControls.hide(\"enterFullScreen\",\"exitFullScreen\"),this._videoControls.show(\"close\")):this._videoPlayer.isDesktop===!0&&this._videoPlayer.dtCanFullscreen===!1?this._videoControls.hide(\"close\",\"enterFullScreen\",\"exitFullScreen\"):(this._videoControls.hide(\"close\",\"exitFullScreen\"),this._videoControls.show(\"enterFullScreen\")),\"disabled\"===this._opts.fullscreenMode&&this._videoControls.hide(\"enterFullScreen\",\"exitFullScreen\",\"close\"),this._opts.debug?this._videoControls.show(\"monitor\"):this._videoControls.hide(\"monitor\"),this._opts.muteUnmuteEnabled?(this._videoControls.hide(\"mute\"),this._videoControls.hide(\"unMute\")):this._videoControls.disableMuteUnmuteControls(),this._videoControls.hide(\"pause\",\"replay\",\"play\"),this._opts.isAutoplay||this._videoControls.show(\"play\"),this._spinnerHide(),this._videoPlayer.isDesktop&&this._videoControls.setDTMouseMoveHandler(this._videoPlayer.getWrapperElement())},adjustSizes:function(e){80>e?this._videoControls.addClass(\"spinner\",\"video-player-spinner-small\"):this._videoControls.addClass(\"spinner\",\"video-player-spinner-big\")},reset:function(){this._controlsInitiallyDisabled=!1,this._videoControls.hide(\"pause\",\"replay\"),this._videoControls.show(\"play\"),this._spinnerHide(),defer(function(){this._videoControls.hide(\"duringPlaySet\")}.bind(this),500)},destroy:function(){this._videoControls.destroy()},handleUserInteraction:function(e,i){switch(e){case\"vidWrapper\":this._changeVisibilityTimed(!0),this._makeControlsDisapear();break;case\"wrapper\":if(this._videoPlayer._spinnerShown)return void this._changeVisibilityTimed(!0);!this.isVisible||this._videoPlayer.ended||this._spinnerShown||i?this._changeVisibilityTimed(!0):this._videoPlayer.paused?(this._videoPlayer.play(),this.emit(\"userInteraction\",{isUserEngaged:!0})):(this._videoPlayer.pause(),this.emit(\"userInteraction\")),this._makeControlsDisapear();break;case\"mute\":this._videoPlayer.mute(),this._videoControls.pendingStateOn(\"mute\"),this._makeControlsDisapear(),this.emit(\"userInteraction\");break;case\"unMute\":this._videoPlayer.unMute(),this._videoControls.pendingStateOn(\"unMute\"),this._makeControlsDisapear(),this.emit(\"userInteraction\",{isUserEngaged:!0});break;case\"enterFullScreen\":this._videoPlayer.enterFullScreen(),this._makeControlsDisapear(),this.emit(\"userInteraction\",{isUserEngaged:!0});break;case\"exitFullScreen\":this._videoPlayer.exitFullScreen(),this._makeControlsDisapear(),this.emit(\"userInteraction\");break;case\"pause\":if(this._controlsInitiallyDisabled)return;this._videoPlayer.pause(),this.emit(\"userInteraction\");break;case\"play\":if(this._controlsInitiallyDisabled)return;this.emit(\"userInteraction\",{isUserEngaged:!0}),this.emit(\"playButtonPressed\");break;case\"replay\":this._changeVisibilityTimed(!1),this._videoPlayer.replay(),this.emit(\"userInteraction\",{isUserEngaged:!0});break;case\"close\":this._videoPlayer.close(),this.emit(\"userInteraction\")}},onVPPlayerSourceLoading:function(){this._spinnerShow()},onVPCanUnmute:function(){},onVPMuted:function(){this._isMuted=!0,this._videoControls.hide(\"mute\"),this._videoControls.show(\"unMute\"),this._videoControls.pendingStateOff(\"unMute\"),this._videoControls.pendingStateOff(\"mute\")},onVPUnmuted:function(){this._isMuted=!1,this._videoControls.hide(\"unMute\"),this._videoControls.show(\"mute\"),this._videoControls.pendingStateOff(\"unMute\"),this._videoControls.pendingStateOff(\"mute\")},onVPPlay:function(){this._videoControls.hideAndShowWrapper(),this._isFirstPlay&&(this._isFirstPlay=!1,this._controlsInitiallyDisabled=!0,this._spinnerShow()),this._changeVisibility(!0),this._videoControls.hide(\"play\")},onVPPlaying:function(){var e=this._opts.autohideTime;this._videoControls.hide(\"play\",\"pause\",\"replay\"),e&&this._changeVisibilityTimed(!1,1e3*e)},onVPPause:function(){this._changeVisibilityTimed(!0),this._spinnerShown||this._videoControls.show(\"play\")},onVPAutoplayRejected:function(){this.reset()},onVPForceMuted:function(){this.onVPMuted()},onVPBuffering:function(){this._spinnerShow(),this._videoControls.hide(\"play\")},onVPEnded:function(){this._changeVisibilityTimed(!1),this._videoControls.hide(\"play\",\"pause\"),this._opts.pauseOnEnd||this._videoControls.show(\"replay\")},onVPProgress:function(e){this._progressRatio=e,this._videoControls.setProgressBarWidth(e)},onVPTimeupdate:function(e){var i=this._videoPlayer.duration,t=i&&e\/i||0;this._videoControls.setTimeBarWidth(t),this._controlsInitiallyDisabled&&(this._controlsInitiallyDisabled=!1),this._videoPlayer.paused||(this._videoControls.hide(\"play\"),this._videoControls.hide(\"pause\"),this._videoControls.hide(\"replay\")),this._spinnerHide()},onVPEnterFullscreen:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide(\"enterFullScreen\"),this._videoControls.show(\"exitFullScreen\"),this._makeControlsDisapear()},onVPOrientationChange:function(){this._opts.fullscreenLandscapeButtonsHack&&this._videoControls.orientationChange(function(e){this._elements.close.style.bottom=this._elements.exitFullScreen.style.bottom=this._elements.mute.style.bottom=this._elements.unMute.style.bottom=e===CeltraPlayerUtils.LANDSCAPE&&this._videoPlayer.isFullScreen?\"26px\":\"\"})},onVPExitFullscreen:function(){this._videoControls.hideAndShowWrapper(),this._videoControls.hide(\"exitFullScreen\"),this._videoControls.show(\"enterFullScreen\"),this._makeControlsDisapear()},onVPSeekto:function(e){this._videoControls.setTimeBarWidth(e)},_changeVisibility:function(e){return this._opts.controlsHidden?(this.isVisible=!0,void this._videoControls.hide(\"duringPlaySet\")):void(e?(this._videoControls.show(\"duringPlaySet\"),this._videoPlayer.isDesktop&&this._cursorHidden&&(this._videoControls.showCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!1),this.isVisible=!0):(this._videoControls.hide(\"duringPlaySet\"),this._videoPlayer.isDesktop&&this._videoPlayer.isFullScreen&&(this._videoControls.hideCursor(this._videoPlayer.getWrapperElement()),this._cursorHidden=!0),this.isVisible=!1,this._videoPlayer.isDesktop&&(this._videoControls.hasMouseMoved=!0)))},_changeVisibilityTimed:function(e,i){clearTimeout(this._changeVisibilityTimeout),i?this._changeVisibilityTimeout=setTimeout(this._changeVisibility.bind(this,e),i):this._changeVisibility(e)},_makeControlsDisapear:function(){var e=this._opts.autohideTime;e&&this._changeVisibilityTimed(!1,1e3*e)},_spinnerHide:function(){this._spinnerShown&&(this._spinnerShown=!1,this._videoControls.hide(\"spinner\"))},_spinnerShow:function(){!this._spinnerShown&&this._opts.canShowSpinner&&(this._spinnerShown=!0,defer(function(){this._spinnerShown&&(this._videoControls.hide(\"play\"),this._videoControls.show(\"spinner\"))}.bind(this),300))}}),this.BasicVideoControlsController=e}();;\n!function(){var t=\"50px\",e=function(t){this._container=null,this._userInteractionHandler=t,this.onTapHandler=CeltraPlayerUtils.deduplicate(this.onTapHandler,400,this),this.hasMouseMoved=!1};extend(e.prototype,EventEmitter),e.TEMPLATE=['<div class=\"video-basic-controls-wrapper <%= desktop %> touchable\" data-bind=\"wrapper\">','  <div class=\"video-controls-hiddable\" data-bind=\"duringPlaySet\">','    <div class=\"video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable\" data-bind=\"mute\"><div class=\"celtra-icon-mute\"><\/div><\/div>','    <div class=\"video-controls-button video-controls-button-shadow video-controls-button-bottom-right touchable\" data-bind=\"unMute\"><div class=\"celtra-icon-unmute\"><\/div><\/div>','    <div class=\"video-controls-button video-controls-button-shadow video-controls-button-top-right touchable\" data-bind=\"close\"><div class=\"celtra-icon-close\"><\/div><\/div>','    <div class=\"video-controls-button video-controls-button-shadow video-controls-button-top-right touchable\" data-bind=\"enterFullScreen\"><div class=\"celtra-icon-enter-full-screen\"><\/div><\/div>','    <div class=\"video-controls-button video-controls-button-shadow video-controls-button-top-right touchable\" data-bind=\"exitFullScreen\"><div class=\"celtra-icon-exit-full-screen\"><\/div><\/div>','    <div class=\"video-controls-slider-container touchable\"  data-bind=\"sliderContainer\">','        <div class=\"video-controls-progress-bar\" data-bind=\"progressBar\"><\/div>','        <div class=\"video-controls-time-bar\" data-bind=\"timeBar\"><\/div>',\"    <\/div>\",\"  <\/div>\",'  <div class=\"video-controls-unhiddable\" data-bind=\"outOfPlaySet\">','    <div class=\"video-sizable\"><div class=\"video-player-spinner-big\" data-bind=\"spinner\"><\/div><\/div>','    <div class=\"center-button touchable\" data-bind=\"pause\"><div class=\"celtra-icon-pause\"><\/div><\/div>','    <div class=\"center-button touchable\" data-bind=\"play\"><div class=\"celtra-icon-play\"><\/div><\/div>','    <div class=\"center-button touchable\" data-bind=\"replay\"><div class=\"celtra-icon-replay\"><\/div><\/div>',\"  <\/div>\",\"<\/div>\"],extend(e.prototype,{render:function(i,n){var o=n.isMasterVideo?[]:[\"play\",\"replay\"];if(!this._container){var a={};CeltraPlayerUtils.createDom(i,e.TEMPLATE,{desktop:windows(\"10\")?\"video-controls-desktop ie-click-event\":desktop()?\"video-controls-desktop\":\"\"},this._getWrapper(a)),this._container=a.wrapper,n.isMasterVideo&&this.hide(\"outOfPlaySet\"),this._container.querySelector(\"[data-bind=progressBar]\").style.backgroundColor=n.progressbarColour,this._container.querySelector(\"[data-bind=timeBar]\").style.backgroundColor=n.progressbarColour;var r=\"undefined\"!=typeof creative?creative:window.creative;if(r){var s=\"MRAIDAdapter\"===r.adapter.constructor.name;\"crop\"===n.fitting&&s&&(this._container.querySelector(\"[data-bind=exitFullScreen]\").style.top=t)}o.forEach(function(t){if(n[t]){var e=n[t],i=this._getElements(t)[0];removeClass(i,\"center-button\"),addClass(i,\"custom-button\"),i.innerHTML='<img src=\"'+e.getUrl()+'\" data-bind=\"'+t+'\" style=\"width: '+e.width+\"px; height: \"+e.height+'px;\" \/>'}}.bind(this)),this._container.addEventListener(\"tap\",this.onTapHandler)}return this._container},show:function(){CeltraPlayerUtils.show.apply(null,this._getElements.apply(this,arguments))},hide:function(){CeltraPlayerUtils.hide.apply(null,this._getElements.apply(this,arguments))},showCursor:function(t){CeltraPlayerUtils.showCursor([t])},hideCursor:function(t){CeltraPlayerUtils.hideCursor([t])},setProgressBarWidth:function(t){t=Math.min(t,1),this._container&&this._container.querySelector(\"[data-bind=progressBar]\")&&(this._container.querySelector(\"[data-bind=progressBar]\").style.width=100*t+\"%\")},setTimeBarWidth:function(t){t=Math.min(t,1),this._container&&this._container.querySelector(\"[data-bind=timeBar]\")&&(this._container.querySelector(\"[data-bind=timeBar]\").style.width=100*t+\"%\")},hideAndShowWrapper:function(){this.hide(\"wrapper\"),defer(function(){this.show(\"wrapper\")}.bind(this))},disableMuteUnmuteControls:function(){this._getElements(\"mute\")[0].innerHTML=\"\",this._getElements(\"unMute\")[0].innerHTML=\"\"},pendingStateOn:function(t){addClass(this._getElements(t)[0],\"video-controls-pending\")},pendingStateOff:function(t){this._container&&removeClass(this._getElements(t)[0],\"video-controls-pending\")},addClass:function(t,e){var i=this._getElements(t)[0];i&&addClass(i,e)},removeClass:function(t,e){var i=this._getElements(t)[0];i&&removeClass(i,e)},orientationChange:function(t){t()},onTapHandler:function(t){t.stopPropagation();var e=t.target.getAttribute(\"data-bind\");e&&this._userInteractionHandler(e)},setDTMouseMoveHandler:function(t){t.addEventListener(\"mousemove\",function(e){e.stopPropagation();var i=e.target,n=i!==t?i.getAttribute(\"data-bind\"):\"vidWrapper\";this.hasMouseMoved?this.hasMouseMoved=!1:(\"wrapper\"===n||\"vidWrapper\"===n)&&this._userInteractionHandler(n,!0)}.bind(this))},_getWrapper:function(t){return function(e){var i=e.getAttribute(\"data-bind\");i&&(t[i]=e)}},_getElements:function(){if(this._container){for(var t=[],e=null,i=0;i<arguments.length;i++){var n=arguments[i];e=this._container.querySelector(\"[data-bind=\"+n+\"]\"),e&&t.push(e)}return t}},destroy:function(){this._container&&(this._container.removeEventListener(\"tap\",this.onTapHandler),CeltraPlayerUtils.removeElements(this._container),this._container=null)}}),this.BasicVideoControls=e}();;\n!function(e){var t=function(e,t,n,s,o){this._containerEl=e,this._opts=merge({},i,o),this._videoEngine=null,this._videoEngineSpecProvider=t,this.isUserGazing=s,this._doc=e.ownerDocument,this._win=this._doc.defaultView,this._initialized=!1,this._firstPlay=!0,this.silentPauseActive=!1,this._engineType=null,this._videoPreset=null,this._muted=!0,n&&(this._controlsController=n(this,this._opts),this._controlsController&&this._controlsController.on(\"userInteraction\",this.emit.bind(this,\"userInteraction\"))),this._aspectRatio=this._opts.videoWidth\/this._opts.videoHeight,this.isFullScreen=!this.playsInline(),this.isDesktop=this._opts.isDesktop,this.anchoringPoint=this._opts.anchoringPoint,this.buffered=0,this._state=null,this._posterShown=!0,this._seeked=!1,this._repeated=0,this.playSucceeded=!1,this._playingEmitted=!1,this._firstRenderEmitted=!1,this._timeUpdateCounter=0,this._lastTimeUpdateEmitted=0,this.play=this.play.bind(this),this.silentPlay=this.silentPlay.bind(this),this.pause=this.pause.bind(this),this.silentPause=this.silentPause.bind(this),this.mute=this.mute.bind(this),this.unMute=this.unMute.bind(this),this.redraw=this.redraw.bind(this),this.enterFullScreen=this.enterFullScreen.bind(this),this.exitFullScreen=this.exitFullScreen.bind(this),this.destroy=this.destroy.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._init(),this.changeState(CeltraPlayerUtils.UNSTARTED),this._fullScreenAncestors=[]};extend(t.prototype,StatefulEventEmitter),Object.defineProperty(t.prototype,\"paused\",{get:function(){return this._videoEngine&&this._videoEngine.paused}}),Object.defineProperty(t.prototype,\"componentName\",{get:function(){return this._opts.componentName}}),Object.defineProperty(t.prototype,\"duration\",{get:function(){return this.serverReportedDuration?this.serverReportedDuration:this._videoEngine&&this._videoEngine.duration||0}}),Object.defineProperty(t.prototype,\"serverReportedDuration\",{get:function(){return this._opts.duration}}),Object.defineProperty(t.prototype,\"currentTime\",{get:function(){return this._videoEngine&&this._videoEngine.getCurrentTime()||0},set:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)}}),Object.defineProperty(t.prototype,\"reportsSeeking\",{get:function(){return!(!this._videoEngine||!this._videoEngine.reportsSeeking)}}),Object.defineProperty(t.prototype,\"muted\",{get:function(){return this._muted}}),Object.defineProperty(t.prototype,\"fullscreen\",{get:function(){return this.isFullScreen}}),Object.defineProperty(t.prototype,\"engineType\",{get:function(){return this._engineType}}),Object.defineProperty(t.prototype,\"videoPreset\",{get:function(){return this._videoPreset}}),Object.defineProperty(t.prototype,\"engineInitialized\",{get:function(){return this._initialized}}),Object.defineProperty(t.prototype,\"ended\",{get:function(){return this.isState(CeltraPlayerUtils.ENDED)}});var i={canShowSpinner:!0,closeFSOnEnd:!1,fitting:\"fit\",fullscreenMode:\"both\",pauseOnEnd:!1,playFrom:null,playTo:null,poster:\"data:image\/gif;base64,\"+CeltraPlayerUtils.EMPTY_PIXEL,repeatTimes:0,videoWidth:160,videoHeight:100},n={loadedmetadata:\"onLoadedMetaData\",durationchange:\"onDurationChange\",progress:\"onProgress\",timeupdate:[\"onTimeUpdate\",\"onTimeUpdateRepeat\"],canplay:\"onCanPlay\",play:\"onPlay\",playing:\"onPlaying\",pause:\"onPause\",autoplayrejected:\"onAutoplayRejected\",autoplaynotpossible:\"onAutoplayNotPossible\",forcemuted:\"onForceMuted\",ended:\"onEnded\",buffering:\"onBuffering\",endbuffering:\"onEndBuffering\",muted:\"onMuted\",unmuted:\"onUnMuted\",seeking:\"onSeeking\",seeked:\"onSeeked\",exitfullscreen:\"onExitFullScreen\",webkitendfullscreen:\"onExitFullScreen\",error:\"onError\",canunmute:\"onCanUnMute\",custominfo:\"onCustomInfo\",playersourceloading:\"onPlayerSourceLoading\",volumechange:\"onVolumeChange\"};t.DOM=['<div class=\"video-player-wrapper\" x-bind=\"_wrapperEl\">','    <div class=\"video-player-engine\" x-bind=\"_engineContainerEl\"><\/div>','    <div x-bind=\"_posterEl\" class=\"video-player-poster\" style=\"background-image: url(\\'<%= poster %>\\')\"><\/div>','    <div class=\"video-controls-container\" x-bind=\"_controlsWrapperEl\"><\/div>',\"<\/div>\"],t.prototype._init=function(){if(CeltraPlayerUtils.createDom(this._doc,t.DOM,this._opts,CeltraPlayerUtils.xBindFactory(this)),CeltraPlayerUtils.insertStyleTag(\"celtra-video-player-style\",VideoPlayerCss,this._doc),this._controlsController&&(this._controlsEl=this._controlsController.render(this._doc),this._controlsWrapperEl.appendChild(this._controlsEl)),this._containerEl.appendChild(this._wrapperEl),this._posterShow(),this._controlsController&&this._controlsController.adjustSizes(this._containerEl.clientHeight),this._opts.preload){var e=this.createSpecs(!1,this._opts.startMuted);this.initialize(e)}this.dtCanFullscreen=this.isDesktop&&this._toggleDesktopFSStateHandlers(\"add\")},t.prototype.setDimensions=function(e,t){this.width=e,this.height=t,this.redraw(),this.emit(\"rendered\")},t.prototype.getVideoElement=function(){return this._videoEngine},t.prototype.getControlsElement=function(){return this._controlsEl},t.prototype.getWrapperElement=function(){return this._wrapperEl},t.prototype._posterHide=function(){this._posterShown&&(this._posterShown=!1,this._posterEl.style.display=\"none\")},t.prototype._posterShow=function(){this._posterShown||(this._posterShown=!0,this._posterEl.style.display=\"\")},extend(t.prototype,{onLoadedMetaData:function(){this.redraw(),this.emit(\"canunmute\")},onCanPlay:function(){this.emit(\"canplay\")},onDurationChange:function(){this.emit(\"durationchange\")},onBuffering:function(){this.changeState(CeltraPlayerUtils.BUFFERING),this.emit(\"buffering\")},onEndBuffering:function(){this.emit(\"endbuffering\")},onPlayerSourceLoading:function(e){(this._opts.autoplay||e)&&this.emit(\"playersourceloading\")},onMuted:function(){this._muted=!0,this.emit(\"muted\")},onUnMuted:function(){this._muted=!1,this.emit(\"unmuted\")},onVolumeChange:function(e){this._muted=0==e,this.emit(this._muted?\"muted\":\"unmuted\"),this.emit(\"volumechange\",e)},onProgress:function(){this.buffered=\"object\"==typeof this._videoEngine.buffered&&this._videoEngine.buffered.length>0?this._videoEngine.buffered.end(0):this._videoEngine.buffered,this.emit(\"progress\",this.buffered\/(this.duration||1))},onTimeUpdate:function(){!this._playingEmitted&&this._timeUpdateCounter>2&&this.buffered>0&&(this._playingEmitted=!0,this.onEndBuffering(),this.changeState(CeltraPlayerUtils.PLAYING),this.emit(\"playing\")),this._timeUpdateCounter+=1;var e=Date.now();this._timeUpdateCounter>3&&e-this._lastTimeUpdateEmitted>70&&(this._lastTimeUpdateEmitted=e,this._posterHide(),this._firstRenderEmitted||(this.emit(\"firstRender\"),this._firstRenderEmitted=!0),this.emit(\"timeupdate\",this._videoEngine.getCurrentTime()))},onTimeUpdateRepeat:function(e){this._opts.playTo&&e>=this._opts.playTo&&(this._hasToBeRepeated()?this._doRepeat():(this.pause(),this._doEnd()))},onPlay:function(){this.emit(\"play\")},onPlaying:function(){this.emit(\"playing\"),this.changeState(CeltraPlayerUtils.PLAYING),this.playSucceeded=!0,this.redraw()},onPause:function(){this.changeState(CeltraPlayerUtils.PAUSED),this.emit(\"pause\")},onAutoplayRejected:function(){this.emit(\"autoplayrejected\")},onAutoplayNotPossible:function(){this.emit(\"autoplaynotpossible\")},onForceMuted:function(){this.emit(\"forcemuted\")},onExitFullScreen:function(){this.exitFullScreen()},onEnded:function(){this._playingEmitted=!1,this._hasToBeRepeated()?this._doRepeat():this._doEnd()},getContainerDimensions:function(){if(this.isFullScreen){var e=this.dtCanFullscreen?this._wrapperEl:this._wrapperEl.parentNode;return{width:e.clientWidth,height:e.clientHeight}}return{width:this.width,height:this.height}},redraw:function(){var e=\"fit\"!==this._opts.fitting,t=this._aspectRatio,i=this.getContainerDimensions(),n=CeltraPlayerUtils.fitComponent(100*t,100,i.width,i.height,e);switch(this.anchoringPoint){case\"top\":n.marginVertical=0;break;case\"bottom\":n.marginVertical=Math.ceil(i.height-n.height)}var s=function(e){e.width=n.width+\"px\",e.height=n.height+\"px\",e.minHeight=n.height+\"px\",e.left=n.marginHorizontal+\"px\",e.top=n.marginVertical+\"px\"},o=function(e){e.width=i.width+\"px\",e.height=i.height+\"px\",e.minHeight=i.height+\"px\",e.left=0,e.top=0};e?(s(this._engineContainerEl.style),s(this._posterEl.style),o(this._controlsWrapperEl.style)):(s(this._engineContainerEl.style),s(this._posterEl.style),s(this._controlsWrapperEl.style))},onSeeking:function(){this.emit(\"seeking\")},onSeeked:function(){if(this._seeked){switch(this._seeked=!1,this._stateBeforeSeek){case CeltraPlayerUtils.PLAYING:this.play();break;case CeltraPlayerUtils.PAUSED:this.silentPause()}this._stateBeforeSeek=void 0}this.emit(\"seeked\")},onError:function(){this.emit(\"error\")},onCanUnMute:function(){this.emit(\"canunmute\")},onCustomInfo:function(e){this.emit(\"custominfo\",e)}}),extend(t.prototype,{getState:function(){return this._state},mute:function(){this._videoEngine&&\"function\"==typeof this._videoEngine.mute&&this._videoEngine.mute(),this.onMuted()},unMute:function(){this._videoEngine&&\"function\"==typeof this._videoEngine.unMute&&this._videoEngine.unMute(),this.onUnMuted()},silentPlay:function(){this._videoEngine.play()},createSpecs:function(e,t){var i=this._videoEngineSpecProvider(e,t);i=merge(i,{options:this._opts}),this._opts.videoStream&&this._opts.videoStream.useRaw&&(i.videoUrl=(creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\"blobs\/\"+this._opts.videoStream.blobHash);var n=AudioEngineProvider.createAudioEngineSpec(i),s=i.videoUrl?i.videoUrl:VideoEngineProvider.createVideoUrl(i,this._opts.videoStream),o=n?AudioEngineProvider.createAudioUrl(this._opts.videoStream):null;return{videoEngineSpec:i,videoUrl:s,audioEngineSpec:n,audioUrl:o}},initialize:function(e){this._createEngines(e),CeltraPlayerUtils.isNode(this._engineEl)&&!this._engineEl.parentNode&&this._engineContainerEl.appendChild(this._engineEl),e.videoEngineSpec.options.videoElement&&(this._wrapperEl.style.background=\"transparent\"),CeltraPlayerUtils.attachHandlers(this,this._videoEngine,n),void 0!==e.videoEngineSpec.startMuted&&(e.videoEngineSpec.startMuted?this.mute():this.unMute()),this._initialized=!0},play:function(e){return null==this._videoEngine?void Logger(\"VideoPlayer\").log(\"Video not initialized!\"):(this.isState(CeltraPlayerUtils.UNSTARTED,CeltraPlayerUtils.ENDED)&&this.changeState(CeltraPlayerUtils.BUFFERING),this._firstPlay&&!e&&this.unMute(),this._firstPlay=!1,this._videoEngine.play(),void this.emit(\"userplayed\"))},_createEngines:function(e){if(null===this._videoEngine){if(this._engineType=e.videoEngineSpec.engineType,this._videoPreset=e.videoEngineSpec.preset,\"JsVideoEngine\"==e.videoEngineSpec.clazz?this._videoEngine=new JsVideoEngine(e.videoUrl,this._engineType,e.videoEngineSpec):\"Html5VideoEngine\"==e.videoEngineSpec.clazz&&(this._videoEngine=Html5VideoEngine(e.videoUrl,e.videoEngineSpec)),null!==e.audioEngineSpec){var t=null,i=null;\"WebAudioEngine\"==e.audioEngineSpec.clazz?(t=WebAudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncWebAudio).init(this,t,e.videoEngineSpec.startMuted)):\"Html5AudioEngine\"==e.audioEngineSpec.clazz&&(t=Html5AudioEngine(e.audioUrl,e.audioEngineSpec.preload),i=Object.create(AVSyncAudio).init(this,t,e.videoEngineSpec.startMuted))}this._engineEl=this._videoEngine.render(this._doc,{playsInline:this.playsInline()})}},silentPause:function(){this._videoEngine.pause()},pause:function(){this._videoEngine&&this._videoEngine.pause(),this.emit(\"userpaused\"),this._playingEmitted=!1},close:function(){this.playsInline()?this.exitFullScreen():this.emit(\"close\")},replay:function(){this.emit(\"replayed\"),this.setCurrentTime(0),this._playingEmitted=!1,this.play()},reset:function(){this._videoEngine.pause(),this._videoEngine.reset(),this._posterShow(),this._controlsController&&this._controlsController.reset(),this._timeUpdateCounter=0,this._playingEmitted=!1},enterFullScreen:function(){if(this._videoEngine){if(this._containerElzIndex=this._containerEl.style.zIndex,this.dtCanFullscreen){var e=this._wrapperEl,t=(e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen).bind(e);t()}else{this.isFullScreen=!0;var i=this._wrapperEl;for(!this.isState(CeltraPlayerUtils.PAUSED);i&&!i.getAttribute(\"class\").includes(\"celtra-base-creative-unit\");)i=i.parentNode;i.insertBefore(this._wrapperEl,i.firstChild),this._wrapperEl.style.zIndex=CeltraPlayerUtils.ZINDEX_MAX,this.redraw(),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this._initialized&&this._videoEngine.pause()}this._initialized&&this._videoEngine.play(),this.emit(\"enterfullscreen\")}},exitFullScreen:function(){if(this.dtCanFullscreen){var e=document,t=(e.exitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen).bind(e);t()}else{this.isFullScreen=!1;{!this.isState(CeltraPlayerUtils.PAUSED,CeltraPlayerUtils.ENDED)}this._wrapperEl.style.zIndex=\"\",this._containerEl.style.zIndex=this._containerElzIndex,this._containerEl.appendChild(this._wrapperEl),this.silentPauseActive=!0,defer(function(){this.silentPauseActive=!1}.bind(this),500),this.once(\"pause\",CeltraPlayerUtils.validFor(function(){this.play(),this._muted||defer(this.unMute.bind(this),100)}.bind(this),500))}this.redraw(),this.emit(\"exitfullscreen\")},hide:function(){this._wrapperEl&&(this._wrapperEl.style.display=\"none\")},show:function(){this._wrapperEl&&(this._wrapperEl.style.display=\"\")},destroy:function(){this._videoEngine&&(this._videoEngine.pause(),this._videoEngine.destroy(),this._controlsController&&this._controlsController.destroy());var e=function(){CeltraPlayerUtils&&this._wrapperEl&&CeltraPlayerUtils.removeElements(this._wrapperEl),this._toggleDesktopFSStateHandlers(\"remove\"),this._wrapperEl=null}.bind(this);\"undefined\"!=typeof TouchEventSimulator?defer(e,100):e(),this.emit(\"destroy\")},getDuration:function(){return this.duration},getCurrentTime:function(){return this._videoEngine?this._videoEngine.getCurrentTime():null},setCurrentTime:function(e){this._videoEngine&&this._videoEngine.setCurrentTime(e)},seekTo:function(e){this.emit(\"seekto\",e),this._seeked||(this._stateBeforeSeek=this.getState(),this.getState()===CeltraPlayerUtils.PLAYING&&this.pause()),this._seeked=!0,this._videoEngine.seekToRatio(e)}}),t.prototype._hasToBeRepeated=function(){return this._repeated<this._opts.repeatTimes},t.prototype._doRepeat=function(){this._repeated+=1,this.setCurrentTime(this._opts.playFrom||0),this.play(),this.emit(\"repeat\")},t.prototype._doEnd=function(){this._opts.pauseOnEnd?this.pause():this._posterShow(),this._timeUpdateCounter=0,this.changeState(CeltraPlayerUtils.ENDED),this.emit(\"ended\"),this._opts.closeFSOnEnd&&this.isFullScreen&&this.exitFullScreen()},t.prototype._onFullscreenChange=function(){this.isFullScreen?(this.exitFullScreen(),this.isFullScreen=!1):(this.isFullScreen=!0,this.redraw())},t.prototype._toggleDesktopFSStateHandlers=function(t){var i=t+\"EventListener\",n=[\"\",\"webkit\",\"moz\",\"ms\"].some(function(e){if(\"undefined\"!=typeof document[\"on\"+e+\"fullscreenchange\"]){var t=\"ms\"!==e?e+\"fullscreenchange\":\"MSFullscreenChange\";return document[i](t,this._onFullscreenChange),!0}return!1}.bind(this));return e[i]&&e[i](\"resize\",this.redraw),n&&!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},t.prototype.playsInline=function(){return\"permanent\"!==this._opts.fullscreenMode},e.VideoPlayer=t}(window);;\n!function(){var t=.4,i=function(t,i){this.maxPlayingSegmentLength=t,this.callback=i,this.reset()};i.prototype.init=function(t){this._startPlayingPosition=t,this._lastPlayingPosition=t},i.prototype.addEvent=function(t){t>this._lastPlayingPosition&&(this._lastPlayingPosition=t);var i=this._lastPlayingPosition-this._startPlayingPosition,n=i>=this.maxPlayingSegmentLength;n&&this.flush()},i.prototype.flush=function(i){if(null!=this._startPlayingPosition){var n=this._startPlayingPosition,s=this._lastPlayingPosition;(i||s-n>t)&&s>n&&(this.callback({from:n,to:s}),this._startPlayingPosition=this._lastPlayingPosition)}},i.prototype.reset=function(){this._startPlayingPosition=null,this._lastPlayingPosition=null},window.PlayedSegmentComputationUnit=i}();;\n!function(){function n(n){if(n.serverReportedDuration)return n.serverReportedDuration;var r=-1!==t.indexOf(n.duration);return r?null:n.duration}var t=[void 0,null,0,1],r={videoStart:function(n,t,r){return t>Math.min(1,.25*r)},videoFirstQuartile:function(n,t,r){var e=.25*r;return e>n&&t>=e},videoMidpoint:function(n,t,r){var e=.5*r;return e>n&&t>=e},videoThirdQuartile:function(n,t,r){var e=.75*r;return e>n&&t>=e},videoComplete:function(n,t,r){return t>Math.max(.75*r,r-2)}};window.QuartileEventsEmitter=function(t){t.QUARTILE_EVENTS=r;var e={};Object.keys(r).forEach(function(n){e[n]=r[n]});var i=null,u=function(){var t;t=null===i?this.currentTime:null!==i&&this.currentTime>i?this.currentTime:i;var r=n(this);if(null!==r&&null!==i&&t&&1>t-i){i>0&&1>i&&(i=0);for(var u in e)e[u](i,t,r)&&(this.emit(u,{name:u,label:this.componentName}),delete e[u])}i=t}.bind(t);return t.on(\"timeupdate\",u),t.on(\"destroy\",function(){t.off(\"timeupdate\",u)}),t}}();;\n!function(){var t=1,e=4,i=[void 0,null,0,1],s=[100,300,6e3],n=function(e){this._video=e,this._lastObservedDuration=null,this._lastObservedPosition=null,this._intervalId=null,this._firstSegmentEmitted=!1,this._running=!1,this._currentTime=0,this._playedSegmentsCount=0,this.stop=this.stop.bind(this),this.stopAndReset=this.stopAndReset.bind(this),this.start=this.start.bind(this),this.tick=this.tick.bind(this),this.flush=this.flush.bind(this),this.reemitQuartileEvent=function(t){this.emit(t.name,t),this._playedSegmentComputationUnit.flush()}.bind(this),this.trackDurationChange=this.trackDurationChange.bind(this),this.stitchAndTrackVideoPlayedSegment=this.stitchAndTrackVideoPlayedSegment.bind(this),this._viewDirectionsObserver=\"function\"==typeof ViewDirectionsObserver&&this._video instanceof VideoPlayer360?new ViewDirectionsObserver(e,this.getCurrentTime.bind(this)):null,this._playedSegmentComputationUnit=new PlayedSegmentComputationUnit(t,this.stitchAndTrackVideoPlayedSegment),this._lastVideoPlayedSegment={from:0,to:0},this._serverReportedDuration=e.serverReportedDuration,e.serverReportedDuration?(defer(function(){this.emit(\"videoDurationUpdate\",{duration:e.serverReportedDuration})}.bind(this)),this.checkDuration=!1):(this.checkDuration=!0,e.on(\"durationchange\",this.trackDurationChange)),e.on(\"pause\",this.stop),e.on(\"timeupdate\",this.start),e.on(\"ended\",this.stopAndReset),e.on(\"repeat\",this.stopAndReset),e.on(\"playing\",this.start),e.on(\"seeked\",this.start),r().on(\"mediaStopRequested\",this.stop),e.on(\"muted\",this.flush),e.on(\"unmuted\",this.flush),e.on(\"enterfullscreen\",this.flush),e.on(\"exitfullscreen\",this.flush);for(var i in e.QUARTILE_EVENTS)e.on(i,this.reemitQuartileEvent)};extend(n.prototype,EventEmitter);var r=function(){return\"undefined\"!=typeof creative?creative.adapter:adapter};n.prototype.stitchAndTrackVideoPlayedSegment=function(t){var e={from:this._lastVideoPlayedSegment.to,to:t.to};this.trackVideoPlayedSegment(e)},n.prototype.trackVideoPlayedSegment=function(t){if(this._lastVideoPlayedSegment=t,!(this._serverReportedDuration&&t.from>=this._serverReportedDuration)){var e=!this._serverReportedDuration||t.to<this._serverReportedDuration?t.to:this._serverReportedDuration,i=extend({},t,{to:e,name:\"videoPlayedSegment\",muted:!!this._video.muted,fullscreen:void 0===this._video.fullscreen?!0:this._video.fullscreen,gaze:this._video.isUserGazing()});this._viewDirectionsObserver&&(i.viewDirections=this._viewDirectionsObserver.getDirections()),this.emit(\"videoPlayedSegment\",i),this._playedSegmentsCount+=1}},n.prototype.getCurrentTime=function(){return this._video&&this._video.currentTime>this._currentTime&&(this._currentTime=this._video.currentTime),this._currentTime},n.prototype.start=function(){this._running||(this._running=!0,this._viewDirectionsObserver&&this._viewDirectionsObserver.start(),r().mediaState.startVideo(),this._firstSegmentEmitted||(this._currentTime=this.getCurrentTime()+.01,this.trackVideoPlayedSegment({from:0,to:this.getCurrentTime()}),this._firstSegmentEmitted=!0),this._playedSegmentComputationUnit.init(this.getCurrentTime()),clearInterval(this._intervalId),this._intervalId=setInterval(this.tick,1e3\/e))},n.prototype.stopAndReset=function(){this.stop(!0),this._playedSegmentComputationUnit&&(this._playedSegmentComputationUnit.reset(),this._currentTime=0,this._firstSegmentEmitted=!1,this._viewDirectionsObserver&&this._viewDirectionsObserver.reset())},n.prototype.flush=function(){this._playedSegmentComputationUnit&&this._playedSegmentComputationUnit.flush()},n.prototype.stop=function(t){(this._running||t)&&(this._running&&(r().mediaState.stopVideo(),this._running=!1,clearInterval(this._intervalId)),this._viewDirectionsObserver&&this._viewDirectionsObserver.stop(),this._playedSegmentComputationUnit.addEvent(this.getCurrentTime()),this._playedSegmentComputationUnit.flush(t))},n.prototype.trackDurationChange=function(){if(this.checkDuration){var t=this._video.duration,e=-1!==i.indexOf(t),n=-1!==s.indexOf(t),r=t!==this._lastObservedDuration;e||n||!r||(this._serverReportedDuration=t,this.emit(\"videoDurationUpdate\",{duration:t}),this._lastObservedDuration=t)}},n.prototype.tick=function(){this.trackDurationChange();var t=this.getCurrentTime(),e=Date.now()-(this._lastTickTime||Date.now());t==this._lastObservedPosition&&e>1e3&&this.stop(),this._playedSegmentComputationUnit.addEvent(t),this._lastObservedPosition=t,this._lastTickTime=Date.now()},n.prototype.destroy=function(){var t=this._video;this.stop(),t.off(\"pause\",this.stop),t.off(\"ended\",this.stopAndReset),t.off(\"playing\",this.start),t.off(\"timeupdate\",this.start),t.off(\"durationchange\",this.tick),t.off(\"muted\",this.flush),t.off(\"unmuted\",this.flush),t.off(\"enterfullscreen\",this.flush),t.off(\"exitfullscreen\",this.flush),t.off(\"durationchange\",this.trackDurationChange);for(var e in t.QUARTILE_EVENTS)t.off(e,this.reemitQuartileEvent);r().off(\"mediaStopRequested\",this.stop),this._playedSegmentComputationUnit.flush()},this.VideoEventsAdapter=n}();;\nvar CCalendar={saveTheDateAction:function(e,t,n){var a={start:t.start.value,end:t.end.value};t.eventName&&(a.eventName=t.eventName),t.location&&(a.location=t.location),t.reminder&&(a.reminder=t.reminder),t.notes&&(a.notes=t.notes),creative.adapter.sendToEventMonitor(\"dateSaved\",t.triggerId,e.screen.name,a,null,e.initiatedBeforeScreenShown()),e.track({name:\"dateSaved\",label:t.reportLabel}),creative.adapter._stopAllMedia(),creative.adapter.saveCalendarEvent(t,n)},getEventICSUrl:function(e,t){var n={format:\"ics\"},a=[\"eventName\",\"location\",\"start\",\"end\",\"timezone\",\"reminder\",\"notes\"];if(a.forEach(function(t){if(t in e){var a=e[t];\"object\"==typeof a&&a.hasOwnProperty(\"value\")&&(a=a.value),\"string\"==typeof a&&a.length&&(n[t]=a)}}),n.start&&\"eventName\"in n){if(n.end&&10===n.end.length){var r=new Date(Date.parse(n.end)+864e5);n.end=r.getFullYear()+\"-\"+(\"0\"+(r.getMonth()+1)).slice(-2)+\"-\"+(\"0\"+r.getDate()).slice(-2)}return urls.cachedApiUrl.replace(\/^https:\/,t)+\"calendar?\"+buildQuery(n)}return null},getEventGoogleCalendarUrl:function(e){function t(e,t){var a=function(e,t){var a=e[t].value.replace(\" \",\"T\");return e.allDay&&(a=a.substr(0,10)+\"T\"+(\"start\"===t?\"00:00:00\":\"23:59:59\"),e.timezone=\"user\"),new Date(a+(\"user\"===e.timezone?n(a):\"+00:00\"))}(e,t);return a.toISOString().replace(\/[-:]|(?:\\.[0-9]*)\/g,\"\")}function n(e){var t=new Date(e).getTimezoneOffset(),n=Math.abs(t),r=Math.floor(n\/60);return(t>0?\"-\":\"+\")+a(r)+\":\"+a(n-60*r)}function a(e){return(\"0\"+e).slice(-2)}var r=\"https:\/\/calendar.google.com\/calendar\/\"+(desktop()?\"render?\":\"gp#~calendar:view=e&\")+\"action=TEMPLATE\",o={dates:t(e,\"start\")+\"\/\"+t(e,\"end\"),location:e.location,text:e.eventName,details:e.notes};return r+\"&\"+buildQuery(o)},toString:function(){return\"[Clazz CCalendar]\"}};;\nfunction StateObject(t){Object.defineProperties(this,{values:{enumerable:!1,configurable:!1,writable:!0,value:{}},_isDirty:{enumerable:!1,configurable:!1,writable:!0,value:!1}}),Object.keys(t).forEach(function(e){this.registerValue(e,t[e])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(t,e){this.values[t]={dirty:!1,value:e},Object.defineProperty(this,t,{get:function(){return this.values[t].value},set:function(e){var i=this.values[t],r=i.value;e!=r&&(i.dirty=!0,i.value=e,this._isDirty=!0,this.emit(\"change:\"+t,e,r))},enumerable:!0})},StateObject.prototype.markClean=function(t){var e=!1;Object.keys(this.values).forEach(function(i){t&&i!==t||(this[i].dirty=!1),e=e||this[i].dirty},this.values),this._isDirty=e},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return\"undefined\"==typeof t?this._isDirty:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){arguments.length>1&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t={};for(var e in this.values)t[e]=this[e];return new StateObject(t)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;\nfunction StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x:t[i],v:0},this.derivative={dx:0,dv:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,\"update\"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,\"update\"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(){throw new Error(\"Not implemented\")},Object.defineProperty(StateAnimation.prototype,\"value\",{get:function(){return this.stateObject[this.propertyName]},set:function(t){this.stateObject[this.propertyName]=t},enumerable:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce:1e3,damping:20,restThreshold:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),\"function\"==typeof i&&(e=i,i=0),this.d=t,this.state.v=\"number\"==typeof i?i:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){var i=Math.min(.03,t\/1e3),e=Math.abs(this.state.x-this.d);e<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null):(this._integrate(this.state,i),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i\/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i\/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){if(\"undefined\"==typeof e)return{dx:t.v,dv:this._acceleration(t)};var a={x:t.x+e.dx*i,v:t.v+e.dv*i};return{dx:a.v,dv:this._acceleration(a,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp:1.8},EasingAnimation.presets={easeIn:.6,easeOut:1.8,linear:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(){var t=Date.now()-this._startTime,i=this._targetValue-this._startValue;t>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null):this.value=Math.pow(t\/this._targetTime,this.options.exp)*i+this._startValue};;\nfunction ViewportManager(t){this.container=t.container,this.width=this.originalWidth=t.width||0,this.height=this.originalHeight=t.height||0,this.iframe=this.container.ownerDocument.defaultView.frameElement,this.init()}extend(ViewportManager.prototype,EventEmitter),ViewportManager.prototype.init=function(){this.container.style.overflow=\"hidden\",this.container.style.position=\"absolute\",this.container.style.left=this.container.style.top=0,this.iframe.style.display=\"block\",this.update()},ViewportManager.prototype.update=function(){this.container.style.width=this.width+\"px\",this.container.style.height=this.height+\"px\",this.iframe.style.width=this.width+\"px\",this.iframe.style.height=this.height+\"px\",this.iframe.width=this.width,this.iframe.height=this.height},ViewportManager.prototype.setSize=function(t,i){this.width=t,this.height=i,this.update()};;\nfunction Placement(t){this.root=null,this.width={value:100,unit:\"%\"},this.height={value:100,unit:\"%\"},this.left={value:0,unit:\"px\"},this.top={value:0,unit:\"px\"},this.borders={left:0,right:0,top:0,bottom:0},this._positioning=t||\"container\",this.origin={horizontal:\"left\",vertical:\"top\"},this._usesFixedPositioning=!1,this._minWidth={value:0,unit:\"px\"},this._minHeight={value:0,unit:\"px\"},this.touchEventSimulator=null,this.overflow=!1,this._visible=!1,this.isSticky=!1,this.bypassSizing=!1,this.bypassPositioning=!1}extend(Placement.prototype,EventEmitter),Placement.ZINDEX_MAX=2147483647,Placement.prototype.getRootWindow=function(){return this.root.ownerDocument.defaultView},Placement.prototype.attachTo=function(){throw new Error(\"Placement.attachTo not implemented\")},Placement.prototype.getContainer=function(){throw new Error(\"Placement.getContainer not implemented\")},Placement.prototype.getContentWindow=function(){return this.getContainer().ownerDocument.defaultView},Object.defineProperty(Placement.prototype,\"creative\",{get:function(){return this.getContainer().ownerDocument.defaultView.creative}}),Object.defineProperty(Placement.prototype,\"positioning\",{get:function(){return this._positioning},set:function(t){this._positioning=t,this.update()}}),Object.defineProperty(Placement.prototype,\"visible\",{get:function(){return this._visible}}),Object.defineProperty(Placement.prototype,\"_canUseFixedPositioning\",{get:function(){return this.usesFixedPositioning&&this.supportsFixedPositioning},enumerable:!1}),Placement.prototype.setMinimumSize=function(t,e){var i=this._parseLength(t),o=this._parseLength(e);this._minWidth.value=i.value,this._minWidth.unit=i.unit,this._minHeight.value=o.value,this._minHeight.unit=o.unit,this._visible&&this.update()},Placement.prototype.setSize=function(t,e,i){var o,s,n=this._parseLength(t),r=this._parseLength(e),h=this.getViewportGeometry(),l=extend({},this._minWidth),a=extend({},this._minHeight);i||(this.width={value:n.value,unit:n.unit},this.height={value:r.value,unit:r.unit}),this._visible&&(\"screen\"==this.positioning?(o=h.width,s=h.height):\"page\"==this.positioning?(o=this.root.ownerDocument.documentElement.offsetWidth,s=this.root.ownerDocument.documentElement.offsetHeight):(o=this.root.parentNode.offsetWidth,s=this.root.parentNode.offsetHeight),\"%\"==n.unit&&(n.value=Math.round(n.value*o\/100),n.unit=\"px\"),\"%\"==r.unit&&(r.value=Math.round(r.value*s\/100),r.unit=\"px\"),\"%\"==l.unit&&(l.value=Math.round(l.value*o\/100),l.unit=\"px\"),\"%\"==a.unit&&(a.value=Math.round(a.value*s\/100),a.unit=\"px\"),this.bypassSizing||(this.root.style.width=Math.max(n.value,l.value)+n.unit,this.root.style.height=Math.max(r.value,a.value)+r.unit),this.emit(\"resized\"))},Placement.prototype.getBaseOffset=function(){var t=this.root.ownerDocument.createElement(\"div\"),e=this.root.parentNode;t.style.left=0,t.style.top=0,t.style.position=\"absolute\",t.style.setProperty(\"display\",\"block\",\"important\"),e.appendChild(t);var i=offset(t);return e.removeChild(t),i},Placement.prototype.applyCustomPubClasses=function(){var t=this._getPubClasses();this._usePubClasses=t.length>0,this._usePubClasses&&(this._disableSelfStyling(),this.addClasses.apply(this,t.concat([\"celtra-placement\"])))},Placement.prototype.usePubClasses=function(){return this._usePubClasses},Placement.prototype._disableSelfStyling=function(){this.bypassPositioning=!(\"StickyPlacement\"===this.constructor.name||this.isSticky),this.bypassSizing=!0,this._clearCSS(),this.bypassPositioning&&(this.root.style.position=\"relative\")},Placement.prototype._getPubClasses=function(){var t=this.creative&&this.creative.customAttributes,e=[];return t&&t.hasOwnProperty(\"cssCustomClass\")&&\"string\"==typeof t.cssCustomClass&&(e=t.cssCustomClass.split(\",\")),e},Placement.prototype._clearCSS=function(){this.root.style=\"\"},Placement.prototype.addClasses=function(t){t=Array.prototype.slice.apply(arguments).filter(function(t){return!!t}),t.forEach(function(t){try{addClass(this.root,t)}catch(e){console.warn('Class \"'+t+'\" not added: '+e.message)}}.bind(this))},Placement.prototype.setBorders=function(t,e,i,o){this.root.style.borderLeft=t+\"px solid transparent\",this.root.style.borderRight=e+\"px solid transparent\",this.root.style.borderTop=i+\"px solid transparent\",this.root.style.borderBottom=o+\"px solid transparent\",this.borders={left:t,right:e,top:i,bottom:o}},Placement.prototype.setPosition=function(t,e,i,o){var s=this._parseLength(t),n=this._parseLength(e),r=this.getViewportGeometry(),h=this.getBaseOffset();if(i||(this.left.value=s.value,this.left.unit=s.unit,this.top.value=n.value,this.top.unit=n.unit),this._visible&&!this.bypassPositioning){switch(this.positioning){case\"screen\":if(this._canUseFixedPositioning)this.root.style.position=\"fixed\",\"left\"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right=\"auto\",this.root.style.marginLeft=\"\"):\"center\"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right=\"auto\",this.root.style.marginLeft=o?\"\":(r.width-this.root.offsetWidth)\/2+\"px\"):(this.root.style.right=s.value+s.unit,this.root.style.left=\"auto\",this.root.style.marginLeft=\"\"),\"top\"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom=\"auto\",this.root.style.marginTop=\"\"):\"center\"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom=\"auto\",this.root.style.marginTop=(r.height-this.root.offsetHeight)\/2+\"px\"):(this.root.style.bottom=n.value+n.unit,this.root.style.top=\"auto\",this.root.style.marginTop=\"\");else{var l=\"\",a=\"\";if(\"%\"==s.unit&&(s.value*=r.width\/100,s.unit=\"px\"),\"%\"==n.unit&&(n.value*=r.height\/100,n.unit=\"px\"),\"left\"==this.origin.horizontal)s.value+=r.left;else if(\"center\"==this.origin.horizontal)s.value+=r.left,l=(r.width-this.root.offsetWidth)\/2+\"px\";else{var u=\"%\"==this.width.unit?this.width.value\/100*r.width:this.width.value+this.borders.left+this.borders.right;s.value=r.left+r.width-u-s.value}if(\"top\"==this.origin.vertical)n.value+=r.top;else if(\"center\"==this.origin.vertical)n.value+=r.top,a=(r.height-this.root.offsetHeight)\/2+\"px\";else{var p=\"%\"==this.height.unit?this.height.value\/100*r.height:this.height.value+this.borders.top+this.borders.bottom;n.value=r.top+r.height-p-n.value}this.root.style.position=\"absolute\",this.root.style.left=s.value-h.left+\"px\",this.root.style.top=n.value-h.top+\"px\",this.root.style.marginLeft=l,this.root.style.marginTop=a,this.root.style.right=this.root.style.bottom=\"auto\"}break;case\"container\":this.root.style.position=\"absolute\",\"left\"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right=\"auto\",this.root.style.marginLeft=\"\"):\"center\"==this.origin.horizontal?(this.root.style.left=s.value+s.unit,this.root.style.right=\"auto\",this.root.style.marginLeft=\"px\"==this.height.unit?-Math.round(this.width.value\/2)+\"px\":-(this.root.offsetWidth\/2)+\"px\"):(this.root.style.left=\"auto\",this.root.style.right=s.value+s.unit,this.root.style.marginLeft=\"\"),\"top\"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom=\"auto\",this.root.style.marginTop=\"\"):\"center\"==this.origin.vertical?(this.root.style.top=n.value+n.unit,this.root.style.bottom=\"auto\",this.root.style.marginTop=\"px\"==this.height.unit?-Math.round(this.height.value\/2)+\"px\":-(this.root.offsetHeight\/2)+\"px\"):(this.root.style.top=\"auto\",this.root.style.bottom=n.value+n.unit,this.root.style.marginTop=\"\");break;case\"page\":var c={width:this.root.ownerDocument.documentElement.clientWidth,height:this.root.ownerDocument.documentElement.clientHeight};\"%\"==s.unit&&(s.value=Math.round(s.value*c.width\/100),s.unit=\"px\"),\"%\"==n.unit&&(n.value=Math.round(n.value*c.height\/100),n.unit=\"px\"),this.root.style.position=\"absolute\",\"left\"==this.origin.horizontal?(this.root.style.left=s.value-h.left+\"px\",this.root.style.top=n.value-h.top+\"px\"):\"center\"==this.origin.horizontal?(this.root.style.left=(c.width-this.root.offsetWidth)\/2-h.left+s.value+\"px\",this.root.style.top=(c.height-this.root.offsetHeight)\/2-h.top+n.value+\"px\"):(this.root.style.left=c.width-this.root.offsetWidth-h.left-s.value+\"px\",this.root.style.top=c.height-this.root.offsetHeight-h.top-n.value+\"px\"),this.root.style.right=this.root.style.bottom=\"auto\";break;case\"static\":this.root.style.position=\"static\",this.root.style.left=this.root.style.top=0,this.root.style.right=this.root.style.bottom=\"auto\",this.root.style.marginLeft=this.root.style.marginTop=\"\"}this.emit(\"repositioned\")}},Placement.prototype.update=function(t){this.setSize(this.width.value+this.width.unit,this.height.value+this.height.unit,!0),this.setPosition(this.left.value+this.left.unit,this.top.value+this.top.unit,!0),defer(t||noop,void 0,void 0,useAsap())},Placement.prototype.supportsFixedPositioning=!0,Object.defineProperty(Placement.prototype,\"usesFixedPositioning\",{get:function(){return this._usesFixedPositioning},set:function(t){this._usesFixedPositioning=!!t,this.update()},enumerable:!0}),Placement.prototype.hide=function(){this.root.style.display=\"none\",this._visible=!1,this.emit(\"hidden\")},Placement.prototype.show=function(){this.root.style.display=\"block\",this._visible=!0,this.update(),this.emit(\"shown\")},Placement.prototype.destroy=function(){this.emit(\"destroyed\"),this.root&&this.root.parentNode&&this.root.parentNode.removeChild(this.root),this.root=null},Placement.prototype.setZIndex=function(t){0>t&&(t=Placement.ZINDEX_MAX+t),\"max\"==t&&(t=Placement.ZINDEX_MAX),this.root.style.zIndex=t},Placement.prototype.createElement=function(){throw new Error(\"Not implemented\")},Placement.prototype.querySelector=function(){throw new Error(\"Not implemented\")},Placement.prototype.getViewportGeometry=function(t){return getViewportGeometry(this.getRootWindow(),t)},Placement.prototype.getPlacementGeometry=function(){if(\"screen\"==this.positioning&&this._canUseFixedPositioning)return{width:this.root.offsetWidth,height:this.root.offsetHeight,left:this.root.offsetLeft,top:this.root.offsetTop};var t=offset(this.root),e=this.getViewportGeometry();return{width:this.root.offsetWidth,height:this.root.offsetHeight,left:t.left-e.left,top:t.top-e.top}},Placement.prototype.getGlobalGeometry=function(t){for(var e=this.getRootWindow(),i=this.root.getBoundingClientRect(),o=CRect.adopt(i);e!==t&&e!==e.parent;)i=CRect.adopt(e.frameElement.getBoundingClientRect()),o.left+=i.left,o.top+=i.top,o=o.intersect(i),e=e.parent;return o},Placement.prototype._parseLength=function(t){if(!isNaN(t))return{value:t,unit:\"px\"};var e=t.match(\/^(-?[\\d.]+)(px|%)$\/);if(!e)throw new Error('Cannot parse length \"'+t+'\"');return{value:parseFloat(e[1],10),unit:e[2]}},Placement.prototype.getUnitGeometry=function(t){var e=this.getPlacementGeometry(),i={left:e.left,top:e.top,width:t.size.width,height:t.size.height},o=t.horizontalPosition||\"center\",s=t.verticalPosition||\"center\";return\"center\"==o?i.left+=(e.width-t.size.width)\/2:\"right\"==o&&(i.left+=e.width-t.size.width),\"center\"==s?i.top+=(e.height-t.size.height)\/2:\"bottom\"==s&&(i.top+=e.height-t.size.height),i.left=Math.round(i.left),i.top=Math.round(i.top),i},Placement.prototype.getRelativeUnitGeometry=function(t){var e=offset(t.node);return e.width=t.node.offsetWidth,e.height=t.node.offsetHeight,e},Placement.prototype.populate=function(t,e){this.getContainer().appendChild(t),this.emit(\"populated\"),e&&defer(e,void 0,void 0,useAsap())},Placement.prototype._getViewportElement=function(){throw new Error(\"Not implemented\")},Placement.prototype.setBackground=function(t){null==t&&(t=\"none\"),this.root.style.background=t},Placement.prototype.setOverflow=function(){var t=function(t){t.preventDefault()};return function(e){var i=this._getViewportElement();e?(i.style.overflowY=\"auto\",ios()&&(i.style.webkitOverflowScrolling=\"touch\",detach(i,\"touchmove\",t,!1))):(i.style.overflowY=\"hidden\",ios()&&(i.style.webkitOverflowScrolling=\"auto\",attach(i,\"touchmove\",t,!1)))}}(),Placement.prototype._flash=function(){var t=this.getContainer().ownerDocument,e=this.createElement(\"div\");e.style.cssText=\"position:absolute;top:0;left:0;width:100%;height:100%;opacity:0.01;background:black;\",t.body.appendChild(e),defer(function(){e.parentNode.removeChild(e)})};;\nfunction IframePlacement(t,e,n,r){Placement.apply(this,arguments),this.frame=null,this.vm=null,this.unitScript=e,this.windowVarsByRef=n,this.windowVarsByCopy=r,this._syncInterval=null,this._syncIframeSize=this._syncIframeSize.bind(this)}inherit(IframePlacement,Placement),IframePlacement.create=function(t,e,n,r){var i=new IframePlacement(e,\"\",n,r);return i.root=t.parentNode,i.root.style.display=\"none\",i.startSyncingIframeSize(),i.frame=t,i.setupFrame(),addClass(i.root,\"notranslate\"),i},IframePlacement.baseHTML='<!DOCTYPE html><html><head><meta charset=\"utf-8\"\/><meta name=\"viewport\" content=\"initial-scale=1,maximum-scale=1\"\/><\/head><body><div id=\"viewport\"><\/div><\/body><\/html>',IframePlacement.prototype.setSize=function(){IframePlacement.uber.setSize.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype.show=function(){IframePlacement.uber.show.apply(this,arguments),this._syncIframeSize()},IframePlacement.prototype._syncIframeSize=function(){this._visible&&this.vm&&(this.root.offsetWidth!=this.vm.width||this.root.offsetHeight!=this.vm.height)&&this.vm.setSize(0|this.root.offsetWidth,0|this.root.offsetHeight)},IframePlacement.prototype.startSyncingIframeSize=function(){this._syncInterval=this._setInterval(this._syncIframeSize,100)},IframePlacement.prototype.stopSyncingIframeSize=function(){this._syncInterval&&this._clearInterval(this._syncInterval),this._syncInterval=null},IframePlacement.prototype.getContainer=function(){if(!this.root)throw new Error(\"Root node not attached to document yet!\");return this.querySelector(\"#viewport\")},IframePlacement.prototype._setInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().setInterval(t,e)},IframePlacement.prototype._clearInterval=function(t,e){return this.windowVarsByRef.adapter.getTopWindow().clearInterval(t,e)},IframePlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement(\"div\"),this.root.style.overflow=\"hidden\",addClass(this.root,\"notranslate\"),this.hide(),t.appendChild(this.root),this.startSyncingIframeSize(),this.frame=t.ownerDocument.createElement(\"iframe\"),this.frame.style.border=\"0px\",this.frame.setAttribute(\"frameborder\",\"0\"),this.frame.setAttribute(\"scrolling\",\"no\"),this.frame.setAttribute(\"allowFullScreen\",\"\"),this.root.appendChild(this.frame),defer(function(){if(!this.frame.contentWindow)throw new Error(\"Can't access contentWindow of an iframe, skip placement initialization.\");this.frame.contentDocument.open();for(var t in this.windowVarsByRef)this.frame.contentWindow[t]=this.windowVarsByRef[t];var n=\"\";for(var t in this.windowVarsByCopy)n+=\"window.\"+t+\" = \"+JSON.stringify(this.windowVarsByCopy[t])+\";\\n\";this.frame.contentDocument.write(IframePlacement.baseHTML);var r=this.frame.contentDocument.createElement(\"script\");r.textContent=n+\";\\n\"+this.unitScript,this.frame.contentDocument.body.appendChild(r),attach(this.frame,\"load\",function(){this.setupFrame(),e&&defer(e,void 0,void 0,useAsap())}.bind(this)),this.frame.contentDocument.close()}.bind(this),void 0,void 0,useAsap())},IframePlacement.prototype.destroy=function(){this.stopSyncingIframeSize(),IframePlacement.uber.destroy.apply(this,arguments)},IframePlacement.prototype.createElement=function(t){return this.frame.contentDocument.createElement(t)},IframePlacement.prototype.querySelector=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelector(t):null},IframePlacement.prototype.querySelectorAll=function(t){return this.frame.contentDocument?this.frame.contentDocument.querySelectorAll(t):[]},IframePlacement.prototype._getViewportElement=function(){return this.querySelector(\"#viewport\")},IframePlacement.prototype.setupFrame=function(){var t=this.frame.contentDocument.createElement(\"script\");t.textContent=\"window.touchEventSimulator = new TouchEventSimulator(document);window.touchEventSimulator.init();function __parseJSON(s){return JSON.parse(s);}\",this.frame.contentDocument.querySelector(\"head\").appendChild(t),this.touchEventSimulator=this.frame.contentWindow.touchEventSimulator,this.vm=new ViewportManager({container:this._getViewportElement()})};;\nfunction DivPlacement(){Placement.apply(this,arguments)}inherit(DivPlacement,Placement),DivPlacement.prototype.attachTo=function(t,e){this.root=t.ownerDocument.createElement(\"div\"),this.root.style.overflow=\"hidden\",addClass(this.root,\"notranslate\"),this.hide(),t.appendChild(this.root),this.touchEventSimulator=new TouchEventSimulator(this.root),this.touchEventSimulator.init(),e&&defer(e,0,\"DivPlacement.attachTo defer callback\",useAsap())},DivPlacement.prototype.destroy=function(){DivPlacement.uber.destroy.apply(this,arguments),this.touchEventSimulator.stop(),this.touchEventSimulator=null},DivPlacement.prototype.getContainer=function(){return this.root},DivPlacement.prototype.createElement=function(t){return this.root.ownerDocument.createElement(t)},DivPlacement.prototype.querySelector=function(t){return this.root.querySelector(t)},DivPlacement.prototype.querySelectorAll=function(t){return this.root.querySelectorAll(t)},DivPlacement.prototype._getViewportElement=function(){return this.root};;\nfunction StickyPlacement(t,i,e,s,o){IframePlacement.apply(this,arguments),this.stickyOptions=o,this._handleDismissTouchEnd=this._handleDismissTouchEnd.bind(this),this.origin.horizontal=\"center\",this.origin.vertical=this.stickyOptions.stickiness,this.usesFixedPositioning=!0,this._originalDocumentPadding=null}inherit(StickyPlacement,IframePlacement),StickyPlacement.create=function(t,i,e,s,o){var n=new StickyPlacement(i,\"\",e,s,o);return n.root=t.parentNode,n.root.style.display=\"none\",n.startSyncingIframeSize(),n.frame=t,n.setupFrame(),addClass(n.root,\"notranslate\"),n},StickyPlacement.prototype.setPosition=StickyPlacement.prototype.setZIndex=noop,StickyPlacement.prototype.show=function(){IframePlacement.prototype.show.apply(this,arguments),IframePlacement.prototype.setZIndex.call(this,-20),this.enableDocumentPadding(),this.update()},StickyPlacement.prototype.hide=function(){IframePlacement.prototype.hide.apply(this,arguments),this.disableDocumentPadding()},StickyPlacement.prototype.attachTo=function(){StickyPlacement.uber.attachTo.apply(this,arguments),addClass(this.root,\"celtra-placement-sticky\")},StickyPlacement.prototype.populate=function(){this.stickyOptions.showDismissButton&&this.once(\"populated\",this.createDismissButton.bind(this)),IframePlacement.prototype.populate.apply(this,arguments)},StickyPlacement.prototype.update=function(t,i){this.root&&this.root.parentNode&&(IframePlacement.prototype.setSize.call(this,this.width.value+this.width.unit,this.height.value+this.height.unit,!0),IframePlacement.prototype.setPosition.call(this,0,0,!0,i),defer(t))},StickyPlacement.prototype.createDismissButton=function(){this.getViewportGeometry();with(this.root.style.overflow=\"visible\",this._dismissButton=this.root.ownerDocument.createElement(\"img\"),this._dismissButton.src=this.stickyOptions.baseUrl+\"runner\/clazzes\/CreativeUnit\/close-up.svg\",this._dismissButton.style)switch(position=\"absolute\",left=\"auto\",right=\"6px\",width=\"32px\",height=\"32px\",zIndex=10,this.stickyOptions.stickiness){case\"top\":top=\"auto\",bottom=\"-16px\";break;case\"bottom\":top=\"-16px\",bottom=\"auto\"}deviceInfo.deviceType.mobileDevice()?attach(this._dismissButton,\"touchend\",this._handleDismissTouchEnd,!1):attach(this._dismissButton,\"click\",this._handleDismissTouchEnd,!1),this.root.appendChild(this._dismissButton)},StickyPlacement.prototype._handleDismissTouchEnd=function(t){t.preventDefault(),t.stopPropagation(),this.disableDocumentPadding(),(this.stickyOptions.dismissCallback||noop)()},StickyPlacement.prototype.enableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;this._originalDocumentPadding||(this._originalDocumentPadding=t.getComputedStyle(i)[\"padding-\"+this.stickyOptions.stickiness]),i.style[\"padding-\"+this.stickyOptions.stickiness]=this.root.offsetHeight+\"px\"},StickyPlacement.prototype.disableDocumentPadding=function(){var t=this.getRootWindow(),i=t.document.documentElement;i.style[\"padding-\"+this.stickyOptions.stickiness]=this._originalDocumentPadding,this._originalDocumentPadding=null},StickyPlacement.prototype.hideStickyCloseButton=function(){this._dismissButton.style.display=\"none\"},StickyPlacement.prototype.showStickyCloseButton=function(){this._dismissButton.style.display=\"block\"};;\nfunction Format(e,t){this.adapter=e,this.state=null,this.units=t,this.observesViewability=!0,this.observingViewability=function(e){return this.observesViewability&&this.adapter.viewabilityMeasurable[\"viewable\"+e]}.bind(this),this._observesViewableTime=!1,this.observingViewableTime=this.observingViewableTime.bind(this),this.observationAbilities={observingViewability:this.observingViewability,observingViewableTime:this.observingViewableTime},this._allowNonNativeRAFForViewableTime=\"1\"==this.adapter.runtimeParams._allowNonNativeRAFForViewableTime,this.adapter.nesting&&this.adapter.nesting.hostileIframe&&this.needsAccessToHostPage()&&this.adapter.trackingCenter.track({name:\"userError\",userErrorId:\"nonFriendlyIFrame\"})}extend(Format.prototype,EventEmitter),Object.defineProperty(Format.prototype,\"placements\",{get:function(){return this.adapter.placements},enumerable:!0}),Format.prototype.observingViewableTime=function(){var e=this.adapter;return this._observesViewableTime&&!!this.observingViewability(\"00\")&&e.raf.environment&&(e.raf.isNative||this._allowNonNativeRAFForViewableTime)&&(e.supportsContainerViewability||e.canMeasureViewportPlacementGeometry)},Format.prototype.transitionTo=function(){throw new Error(\"transitionTo not implemented\")},Format.prototype.destroy=function(){for(var e in this.placements)this.adapter.destroyPlacement(e),delete this.placements[e];this.adapter._stopObservingEnvironment(),this.adViewableTimeObserver&&this.adViewableTimeObserver.stop()},Format.prototype.hacks={},Format.prototype._attachInViewToOrderedPlacements=function(e,t,i){var r=i?i:t;e._outerPlacement=r,this.adapter.canMeasureViewportPlacementGeometry&&(r.inView||(r.inView=new PlacementInView(this.adapter,r)),i&&!t.inView&&(t.inView=new PlacementInView(this.adapter,t,i.inView)),e.inView||(e.inView=new InViewObject(e,t.inView)))},Format.prototype.connectPlacementEventsToUnitBehavior=function(e,t){this.adapter.on(\"orientationchange\",function(){e.update(noop,this.adapter.adBehavior.crossScreenSticky)}.bind(this)),e.on(\"resized\",function(){if(e._visible){var i=e.getPlacementGeometry();i.width<2&&i.height<2||t.setAvailableSize(i.width,i.height)}}.bind(this)),e.on(\"shown\",function(){var i=e.getPlacementGeometry();t.setAvailableSize(i.width,i.height),t.enterRenderTree()}),e.on(\"hidden\",function(){t.exitRenderTree()})},Format.prototype._trackViewportPlacementGeometry=function(e){var t=this.adapter.getTopWindow(),i=e.getGlobalGeometry(t),r=getViewportGeometry(t,\"win\"),a=CRect.adopt(i);a.left+=r.left,a.top+=r.top;var n={name:\"viewportPlacementGeometry\",pageDimensions:this.adapter.getPageDimensions(),viewportPositionRect:r,firstPlacementPositionRect:a};this.adapter.trackingCenter.trackNoLaterThan(n)},Format.prototype.setupViewableTimeObserver=function(){if(this._observesViewableTime=\"0\"!==this.adapter.runtimeParams._trackViewableTime,this.observingViewableTime()){var e=this.adapter,t=new AdViewableTimeTracker(e.trackingCenter,e.raf.environment,e.getTopWindow());this.adViewableTimeObserver=e.canMeasureViewportPlacementGeometry?new AdViewableInViewObjectObserver(t):new AdViewableUnitObserver(t),this.adViewableTimeObserver.registerAdapter(e)}},Format.IGNORABLES=[\"INPUT\",\"TEXTAREA\",\"SELECT\"],Format.isElementIgnorable=function(e){return Format.IGNORABLES.indexOf(e.tagName)>-1},Format.prototype.needsAccessToHostPage=function(){return!1},Format.prototype._goToUnit=function(e,t){var i=null;for(var r in this.units)if(this.units[r].localId==e&&(i=this.units[r]),i)break;t(i)};;\nfunction UnitViewabilityObserver(e,t,i,r){this.adapter=e,this.win=e.getTopWindow(),this.placement=t,this.element=i,this._listeners=[],this._active=!1,this._currentViewability=null,this._inTimer={},this._ratio=0,this._samplingRect=new CRect,this._lastSamplingTimestamp=0,this._minSamplingTimeDelta=200,this._calc=this._calc.bind(this),this._useIntersectionObserver=!!r,this._asyncComputed={ratio:0,boundingClientRect:{bottom:0,height:0,left:0,right:0,top:0,width:0}}}UnitViewabilityObserver.samplingCount=100,UnitViewabilityObserver.minimumOpacity=.95,UnitViewabilityObserver.prototype._getUnitVisibleGeometry=function(){return this._useIntersectionObserver?this._getIntersectionObserverGeometry():this._getOldObserverGeometry()},UnitViewabilityObserver.prototype._getOldObserverGeometry=function(){var e=this.adapter.getPlacementRect(this.placement),t=this.adapter.getViewportRect(),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=CRect.adopt(this.element.getBoundingClientRect()),n=r.intersect(i),s=r.map(i,e),a=n?n.map(i,e).intersect(t):null;return{globalUnitRect:s,intersect:a,ratio:a&&s.area>0?a.area\/s.area:0}},UnitViewabilityObserver.prototype._getIntersectionObserverGeometry=function(){var e=0;if(this._asyncComputed.ratio>0)var t=this.adapter.getPlacementRect(this.placement),i=CRect.adopt(this.placement.getContainer().getBoundingClientRect()),r=this._asyncComputed.rect,n=new CRect(r.x,r.y,r.width,r.height),e=n.map(i,t);return{globalUnitRect:this._asyncComputed.boundingClientRect,intersect:e,ratio:this._asyncComputed.ratio}},UnitViewabilityObserver.prototype._handleIntersect=function(e){e.forEach(function(e){this._asyncComputed={ratio:e.intersectionRatio,rect:e.intersectionRect,boundingClientRect:e.boundingClientRect}}.bind(this))},UnitViewabilityObserver.prototype._intersectionObserverSetUp=function(){function e(e){for(var t=[],i=0;e>=i;i++){var r=i\/e;t.push(r)}return t}var t=this.element,i=50,r={threshold:e(i)};this._useIntersectionObserver=new IntersectionObserver(this._handleIntersect.bind(this),r),this._useIntersectionObserver.observe(t)},UnitViewabilityObserver.prototype.computeUnitInteractableRatio=function(){if(!this.element.parentNode||!this.placement.root.parentNode)return 0;if(!this.adapter.containerIsViewable||!this.element.ownerDocument.defaultView)return 0;var e=this._getUnitVisibleGeometry(),t=(e.intersect,e.ratio);return this._ratio=t,this._ratio},UnitViewabilityObserver.prototype.addListener=function(e){this._listeners.push(e),this._start()},UnitViewabilityObserver.prototype.removeListener=function(e){this._listeners=this._listeners.filter(function(t){return t!==e}),0===this._listeners.length&&this.stop()},UnitViewabilityObserver.prototype._calc=function(e){if(this._active){var t=this._getUnitVisibleGeometry().globalUnitRect;this._currentViewability=this.computeUnitInteractableRatio(e),this._listeners.forEach(function(e){this._currentViewability!==e.previousViewability&&(e.previousViewability=this._currentViewability,e(this._currentViewability,t))},this)}},UnitViewabilityObserver.prototype._start=function(){this._active||(this._active=!0,this._useIntersectionObserver&&this._intersectionObserverSetUp(),this.adapter.on(\"containerViewableChange\",this._calc),Ticker.frame(this._calc,\"update\"))},UnitViewabilityObserver.prototype.stop=function(){if(this._active){this._active=!1,this.adapter.off(\"containerViewableChange\",this._calc),Ticker.removeFrame(this._calc,\"update\");for(var e in this._inTimer)this.win.clearTimeout(this._inTimer[e]);this._inTimer={},this._useIntersectionObserver&&this._useIntersectionObserver.unobserve(this.element)}},UnitViewabilityObserver.prototype.waitForViewable=function(e,t){var i=function(r,n){var s=UnitViewabilityObserver.selectCriterion(e,n),a=0==s.ratio?r>0:r>=s.ratio;if(a){var o=function(){this.removeListener(i),t(s)}.bind(this);\"Core\"==e?o():this._inTimer[e]||(this._inTimer[e]=this.win.setTimeout(o,s.time))}else this._inTimer[e]&&(this.win.clearTimeout(this._inTimer[e]),this._inTimer[e]=null)}.bind(this);return this.addListener(i),i},UnitViewabilityObserver.prototype.waitForViewableCore=function(e){return this.waitForViewable(\"Core\",e)},UnitViewabilityObserver.prototype.waitForViewableIAB=function(e){return this.waitForViewable(\"IAB\",e)},UnitViewabilityObserver.prototype.waitForVideoViewableIAB=function(e){return this.waitForViewable(\"IABvideo\",e)},UnitViewabilityObserver.prototype.waitForVideoViewableFB=function(e){return this.waitForViewable(\"FBvideo\",e)},UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT=242500,UnitViewabilityObserver.selectCriterion=function(e,t){switch(e){case\"IAB\":var i=t&&t.width*t.height>UnitViewabilityObserver.LARGE_AD_PIXEL_COUNT;return i?this.criteria.IABlargeAd:this.criteria.IABsmallAd;case\"Core\":case\"IABvideo\":case\"FBvideo\":return this.criteria[e];default:throw new Error(\"Unknown viewability criterion.\")}},UnitViewabilityObserver.criteria={Core:{name:\"Core\",ratio:0,time:0},IABsmallAd:{name:\"50\/1\",ratio:.5,time:1e3},IABlargeAd:{name:\"30\/1\",ratio:.3,time:1e3},IABvideo:{name:\"50\/2\",ratio:.5,time:2e3},FBvideo:{name:\"50\/3\",ratio:.5,time:3e3}};;\nfunction PlacementInView(t,e,i){this._init(),this.adapter=t,this.placement=e,this.node=e.getContainer(),this.inViewParent=i,this.outerRectInView=CRect.ZERO,this._lastScrollTime=0,this._isTouchDown=!1,this._autoSwitchObserverRunningState=this._autoSwitchObserverRunningState.bind(this),this.destroy=this.destroy.bind(this),this._onScroll=this._onScroll.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this.hacks={wrongBoundingRectWhileScrolling:deviceInfo.os.ios()&&this.placement.isSticky},this.inViewParent||(this._tick=this._tick.bind(this),this._timestepInterval=200,this._lastRunTime=0,this.adapter.on(\"containerViewableChange\",this._autoSwitchObserverRunningState)),e.on(\"destroyed\",this.destroy),this._autoSwitchObserverRunningState(),e.on(\"shown\",this._autoSwitchObserverRunningState),e.on(\"hidden\",this._autoSwitchObserverRunningState),this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().addEventListener(\"scroll\",this._onScroll,!0),this.adapter.getTopWindow().addEventListener(\"touchstart\",this._onTouchStart,!0),this.adapter.getTopWindow().addEventListener(\"touchend\",this._onTouchEnd,!0))}inherit(PlacementInView,InViewObject),PlacementInView.prototype._onScroll=function(){this._lastScrollTime=Date.now()},PlacementInView.prototype._onTouchStart=function(){this._isTouchDown=!0},PlacementInView.prototype._onTouchEnd=function(){this._isTouchDown=!1},PlacementInView.prototype._autoSwitchObserverRunningState=function(){var t=this.placement.visible&&this.adapter.containerIsViewable;t&&!this.active?this.start():!t&&this.active&&(this.stop(),this.rectInView=CRect.ZERO,this.outerRectInView=CRect.ZERO,this.areaInView=0,this.emit(\"rectInViewChanged\",this.rectInView),this.emit(\"outerRectInViewChanged\",this.outerRectInView),Logger(\"InViewObject\").debug(this.placement.constructor.name+\", rectInViewChanged: \"+this.rectInView.toString()),this.emit(\"areaInViewRatioChanged\",this.areaInView),Logger(\"InViewObject\").debug(this.placement.constructor.name+\", areaInViewRatioChanged: \"+this.areaInView))},PlacementInView.prototype.getNode=function(){return this.placement.getContainer()},PlacementInView.prototype.getOuterRectInView=function(){return this.outerRectInView},PlacementInView.prototype.getParentRect=function(){return this.inViewParent?this.inViewParent.getOuterRectInView():this.adapter.getViewportRect()},PlacementInView.prototype.computeRectInView=function(){if(!this.hacks.wrongBoundingRectWhileScrolling||!(Date.now()-this._lastScrollTime<100||this._isTouchDown)){var t=this.getNode(),e=this.adapter.getPlacementRect(this.placement),i=t?CRect.adopt(t.getBoundingClientRect()):CRect.ZERO,n=this.getParentRect(),o=this.adapter.getPlacementRect(this.placement),s=o.intersect(n),h=s.zero()?CRect.ZERO:s.map(e,i);this._computeMaxPossibleDimensions(o,this.getParentMaxPossDims()),this.rectInView.equals(h)||(this.rectInView=h,this.emit(\"rectInViewChanged\",h),Logger(\"InViewObject\").debug(this.placement.constructor.name+\", rectInViewChanged: \"+this.rectInView.toString())),this.outerRectInView.equals(s)||(this.outerRectInView=s,this.emit(\"outerRectInViewChanged\",s),Logger(\"InViewObject\").debug(this.placement.constructor.name+\", placementRectInViewChanged: \"+this.outerRectInView.toString()))}},PlacementInView.prototype.destroy=function(){this.hacks.wrongBoundingRectWhileScrolling&&(this.adapter.getTopWindow().removeEventListener(\"scroll\",this._onScroll,!0),this.adapter.getTopWindow().removeEventListener(\"touchstart\",this._onTouchStart,!0),this.adapter.getTopWindow().removeEventListener(\"touchend\",this._onTouchEnd,!0)),this.stop(),this.adapter.off(\"containerViewableChange\",this._autoSwitchObserverRunningState)},PlacementInView.prototype._start=function(){this.inViewParent?this.inViewParent.on(\"outerRectInViewChanged\",this.computeRectInView):this.adapter.Ticker.frame(this._tick,\"update\")},PlacementInView.prototype._stop=function(){this.inViewParent?this.inViewParent.off(\"outerRectInViewChanged\",this.computeRectInView):this.adapter.Ticker.removeFrame(this._tick,\"update\")},PlacementInView.prototype._tick=function(){var t=Date.now();t-this._lastRunTime>this._timestepInterval&&(this.computeRectInView(),this._lastRunTime=t)};;\nfunction Tapper(t,e){function a(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,\"touchable\")||\"a\"===n&&e.href||\"button\"===n||\"img\"===n||\"input\"===n&&e.type&&\"button\"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function n(t,e){var a=t.ownerDocument.createEvent(\"MouseEvents\");a.initEvent(\"tap\",!0,!0),e.dispatchEvent(a)}var c=\"undefined\"!=typeof creative&&creative.adapter||adapter;e=e||c.useNativeClickForTapDetection,e&&(attach(t,\"click\",function(e){var c=a(e.target);c&&n(t,c)},!c.nativeClickEmittedOnSwipe),c.useNativeClickForTapDetection)||attach(t,\"touchstart\",function(o){var r=a(o.target);if(r){var i=!1;if(celtra.iframe()){var u=function(){var t=c.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]},h=u();i=!0}var s=10,d=o.targetTouches[0].clientX-s,v=o.targetTouches[0].clientX+s,l=o.targetTouches[0].clientY-s,f=o.targetTouches[0].clientY+s;addClass(r,\"touched\");var p=!1,g=!1,m=!1,T=!1,C=new Date,w=function(t){if(!p&&!g){var e=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY;p=i&&h.toString()!=u().toString(),g=!(e>=d&&v>=e&&a>=l&&f>=a),g||p?removeClass(r,\"touched\"):addClass(r,\"touched\")}},k=function(){if(!T&&(T=!0,detach(t,\"touchmove\",w,!1),detach(t,\"touchend\",arguments.callee,!1),hasClass(r,\"touched\"))){var a=200,c=new Date-C>a&&!deviceInfo.deviceType.desktop();if(removeClass(r,\"touched\"),g||p||m||c)return;e||n(t,r)}},y=function(){detach(t,\"touchend\",y,!0),nextFrame(function(){m=!0,k()})};attach(t,\"touchcancel\",function(t){removeClass(r,\"touched\"),k(t)},!1),attach(t,\"touchmove\",w,!1),attach(t,\"touchend\",k,!1),attach(t,\"touchend\",y,!0)}},!0)};\nfunction BannerFormat(e){Format.apply(this,arguments),e.adBehavior.interstitial=!1,e.adBehavior.expandable=!1,this._tick=this._tick.bind(this),this.setup()}inherit(BannerFormat,Format),BannerFormat.prototype.setup=function(){this.setupViewableTimeObserver();var e=new TaskScheduler;e.when(\"ready\").run(function(){this.adapter.createPlacements({banner:{attachment:\"inline\",positioning:\"static\",type:\"unit\"}},function(){var t=this.placements.banner;this.populateBanner(t,function(){this.adViewableTimeObserver&&this.adViewableTimeObserver.registerUnit(t.creative.units.banner),e.notify(\"unitPopulated\")}.bind(this))}.bind(this))}.bind(this)),e.when(\"unitPopulated\").run(function(){var t=this.placements.banner,i=this.units.banner=t.creative.units.banner,a=!1;t.creative.trackCreativeLoaded(this.observationAbilities),this.adapter.triggerLoadedEvent(i.node),this.adapter.setMinimumSize(i.size.width,i.size.height),this.adapter.setIABFriendlyIframeSize(i.size.width,i.size.height),t.show(),this.adapter.Ticker.frame(this._tick,\"update\"),i.updateRxState(this.adapter.nesting.iabFriendlyIframe&&this.adapter.preventIABFriendlyIFrameBusting&&this.adapter.iabWin?this.adapter.iabWin.frameElement:t.root),this.adapter.canMeasureViewportPlacementGeometryRelativeToPage&&this._trackViewportPlacementGeometry(t),this.adapter.viewabilityMeasurable.viewable00?(a=\"1\"==this.adapter.runtimeParams.immediateAppear,this.adapter.waitForViewableCore(t,i.node,function(i){t.creative.track({name:\"viewable00\",criterion:i}),this.adViewableTimeObserver&&this.adViewableTimeObserver.readyToShow(),a||e.notify(\"placementViewable\")}.bind(this))):a=!0,a&&defer(e.notifies(\"placementViewable\"),void 0,void 0,this.adapter.useAsap),this.adapter.viewabilityMeasurable.viewable501&&this.adapter.waitForViewableIAB(t,i.node,function(e){t.creative.track({name:\"viewable501\",criterion:e})})}.bind(this)),e.when(\"placementViewable\").run(function(){e.pause(),this.adapter.on(\"stateChange\",function(e){this.transitionTo(e)}.bind(this)),this.transitionTo(\"default\")}.bind(this)),this.adapter.on(\"ready\",e.notifies(\"ready\"))},BannerFormat.prototype.populateBanner=function(e,t){var i=e.creative.units.banner,a=\"top\"==this.adapter.runtimeParams.sticky||\"bottom\"==this.adapter.runtimeParams.sticky;i.swipeable=!0,i.firstAppearWithoutUserInteraction=!0,this.adapter.isRxAvailable&&i.createRxState(),a&&(e.isSticky=!0),this._attachInViewToOrderedPlacements(i,e),this.connectPlacementEventsToUnitBehavior(e,i);var n=i.getNode(function(){e.setMinimumSize(i.size.width,i.size.height),e.populate(n,t),a?e.setSize(i.size.width,i.size.height):e.setSize(\"100%\",\"100%\"),e.setPosition(0,0)}.bind(this))},BannerFormat.prototype.transitionTo=function(e,t,i){i||(i=noop);if(\"default\"==e&&null===this.state)this.placements.banner.show(),this.units.banner.appear(),defer(i);else{if(\"dismissed\"!=e||\"default\"!=this.state&&null!=this.state)throw new Error(\"Invalid state transition request! (\"+this.state+\" => \"+e+\")\");this.destroy()}this.state=e},BannerFormat.prototype.destroy=function(){this.adapter.Ticker.removeFrame(this._tick,\"update\"),BannerFormat.uber.destroy.apply(this)},BannerFormat.prototype._tick=function(){return this.placements.banner.root.ownerDocument.defaultView?void(this.placements.banner._visible&&this.units.banner.updateRxState(this.adapter.nesting.iabFriendlyIframe&&this.adapter.preventIABFriendlyIFrameBusting&&this.adapter.iabWin?this.adapter.iabWin.frameElement:this.placements.banner.root)):void this.destroy()};;\nfunction SDKAdapter(e,t,i,n,r,o,a,s,d,p){function h(e){return this.experiments&&this.experiments.get&&this.experiments.get(e)}function c(e,t){return\"1\"===t||e&&\"treatment\"===e.chosenVariant&&\"0\"!==t}if(this.runtimeParams=e,this.trackingCenter=t,this.aggregatorTracking=i,this.experiments=n,this.useAsap=c(h(\"DeferWithAsap\"),e._useAsap),this._renderBeforeDomReady=c(h(\"RenderBeforeDomReady\"),e._renderImmediately),this.macros=a,this.perf=p,defer.perf=p,this.ampDetected=!1,this.ampNestingLevel=\"\",this.safeFrameDetected=!1,this.scriptElement=script,this.scriptElement.parentNode.celtra||(this.scriptElement.parentNode.celtra={loaded:!1,viewabilityObservee:null}),this.domApi=this.scriptElement.parentNode.celtra,this.adapterWindow=window,this.tagWindow=this.scriptElement.ownerDocument.defaultView,this.nesting=getWindowNesting(this.tagWindow),this.tagElement=this.scriptElement.parentNode,this.hostElement=this.tagElement,this.storeOpenedOverrideUrls=o,this.urlOpenedOverrideUrls=r,this.urlOpenedUrlAppendage=s,this.clickThroughDestinationUrl=d,this.useNativeClickForTapDetection=!0,this.nativeClickEmittedOnSwipe=deviceInfo.deviceType.desktop()||deviceInfo.os.ios(),this.preventIABFriendlyIFrameBusting=!1,this.providesCloseButton=!1,this.enableCustomStateTransitions=!1,this.adBehavior={interstitial:!1,expandable:!1,expanded:!1,sticky:!1,crossScreenSticky:!1,attachInlinePlacementToViewport:!1,scrollable:!1},this.activeGeometryBaseline={placement:\"banner\",unit:\"banner\"},this.isRxAvailable=!1,this.viewabilityMeasurable={viewable00:!1,viewable501:!1},this.canMeasureViewportPlacementGeometry=!1,this.canMeasureViewportPlacementGeometryRelativeToPage=!1,this.canMeasureContainerAreaInViewRatio=!1,this.supportsContainerViewability=!1,this.supportsContainerInitialViewability=!1,this.useFSVP=!0,\"undefined\"!=typeof this.runtimeParams.topLayerZIndex){var l=parseInt(this.runtimeParams.topLayerZIndex,10);!isNaN(l)&&l>20&&(Placement.ZINDEX_MAX=Math.min(Placement.ZINDEX_MAX,l))}this.hacks={useResizeOnScroll:ios(\"9\")},this._hooks={},this.placements={},this._handleResize=this._handleResize.bind(this),this._handleOrientationChange=this._handleOrientationChange.bind(this),this._handleViewportChange=this._handleViewportChange.bind(this),this._handleDetachedFromDocument=this._handleDetachedFromDocument.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this.listenForExpandErrors=this.listenForExpandErrors.bind(this),this._onReportReceived=this._onReportReceived.bind(this),this._keyboardShown=!1,this._initialInnerDims=null,this._onKeyboardShown=this._onKeyboardShown.bind(this),this._onKeyboardHidden=this._onKeyboardHidden.bind(this),this._resizeTimer=null,this._listening=!1,this._touchEventSimulator=null,this.hostContainerSize={width:\"100%\",height:\"100%\"},this.mediaState=new MediaState,this.nativeRAFIsSupported=[\"r\",\"webkitR\",\"mozR\",\"msR\"].some(function(e){return e+\"equestAnimationFrame\"in window}),this.visibilityApiIsSupported=[\"webkit\",\"moz\",\"ms\",\"\"].some(function(e){return(e?e+\"Hidden\":\"hidden\")in window.document});var u=function(e){e&&(this.trackingCenter.track({name:\"containerBecameViewable\"}),this.off(\"containerViewableChange\",u))}.bind(this);defer(function(){var e=this.perf.start(\"Adapter.startObservingEnvironment\");this._startObservingEnvironment(),e.end(),this.supportsContainerInitialViewability&&(this.containerIsViewable?this.trackingCenter.track({name:\"containerBecameViewable\"}):this.on(\"containerViewableChange\",u))}.bind(this),0,\"SDKAdapter defer _startObservingEnvironment\",this.useAsap),this.on(\"containerViewableChange\",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener(\"unload\",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener(\"beforeunload\",this.trackingCenter.batchFlush),this.getTopWindow().document.addEventListener(\"pagehide\",this.trackingCenter.batchFlush),this.trackingCenter.startBatchFlushCycle(1e3),this.on(\"resize\",this._updatePlacements),this._displayed=!1,this.on(\"displayed\",function(){this._displayed=!0}.bind(this)),this.sdkReady=!1,this.canOpenUrlInSameWindow=!1,this._MAX_TRACKING_DURATION=2e3,this._initRequestAnimationFrame(),this.once(\"domReady\",this.perf.marks(\"Adapter.domReady\")),this.once(\"documentReady\",this.perf.marks(\"Adapter.documentReady\")),this.once(\"sdkReady\",this.perf.marks(\"Adapter.sdkReady\")),this.once(\"ready\",this.perf.marks(\"Adapter.ready\")),defer(function(){var e=this.perf.start(\"Adapter.initSdk\");this._initSdk(deferred(function(){e.end(),this.sdkReady=!0,this.emit(\"sdkReady\")}.bind(this),0,\"SDKAdapter defer sdkReady\",this.useAsap))}.bind(this),0,\"SDKAdapter defer _initSdk\",this.useAsap),this.on(\"documentReady\",function(){android(\"4.0\")&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),250),this.runtimeParams._mraidCheck&&defer(function(){this.collectAndTrackData(function(e){var t={isMraid:\"undefined\"!=typeof this.tagWindow.mraid};e(t)}.bind(this),\"mraidCheckEnvironmentInfo\")}.bind(this),1e3)}.bind(this)),this.useFixedPositioningForInterstitial=!1}extend(SDKAdapter.prototype,EventEmitter),SDKAdapter.prototype.protoLoading={},Object.defineProperties(SDKAdapter.prototype.protoLoading,{dataURIsSupported:{get:function(){return!!runtimeParams.protoLoading&&\"supported\"===runtimeParams.protoLoading.dataLoadStatus},enumerable:!0},blobURIsSupported:{get:function(){return!!runtimeParams.protoLoading&&\"supported\"===runtimeParams.protoLoading.blobLoadStatus},enumerable:!0}}),Object.defineProperty(SDKAdapter.prototype,\"__CELTRA\",{get:function(){return this.getTopWindow().__CELTRA||(this.getTopWindow().__CELTRA={formats:[]}),this.getTopWindow().__CELTRA},enumerable:!0}),Object.defineProperty(SDKAdapter.prototype,\"assumeScrollSupported\",{get:function(){return!1}}),SDKAdapter.prototype._initRequestAnimationFrame=function(){var e=this.getTopWindow();this.raf=new RequestAnimationFrameWrapper(e),this.Ticker=new CTicker(this.raf,e),this.nextFrame=this.Ticker.raf.nextFrame,this.cancelFrame=this.Ticker.raf.cancelFrame,window.nextFrame=this.Ticker.raf.nextFrame,window.cancelFrame=this.Ticker.raf.cancelFrame,window.Ticker=this.Ticker},SDKAdapter.prototype._startObservingEnvironment=function(){function e(e){return\"$sf\"in e&&e.$sf.ext}function t(e){return e.context&&\"undefined\"!=typeof e.context.pageViewId}if(!this._listening){try{for(var i=this.tagWindow,n=0;i;){if(t(i)){this.ampDetected=!0,this.ampNestingLevel=n;break}if(e(i)){this.safeFrameDetected=!0;break}if(i==i.parent)break;i=i.parent,n++}}catch(r){}this.resizeListener=this._createViewportListener(),this.resizeListener.start(this._handleResize,this._handleViewportChange);var o=this._createOrientationObserver(function(e){this.orientationObserver=e,this.orientationObserver.start(),Object.defineProperty(this,\"orientation\",{get:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable:!0})}.bind(this));if(o&&(this.orientationObserver=o,this.orientationObserver.start(),Object.defineProperty(this,\"orientation\",{get:function(){return this.orientationObserver.getOrientation()}.bind(this),configurable:!0})),this.containerViewabilityObserver=this._createContainerViewabilityObserver(),this.containerViewabilityObserver.start(),Object.defineProperty(this,\"containerIsViewable\",{get:function(){return this.containerViewabilityObserver.isViewable}.bind(this),configurable:!0}),this.documentAttachmentObserver=this._createDocumentAttachmentObserver(),this.documentAttachmentObserver.start(this._handleDetachedFromDocument),\"ReportingObserver\"in window&&(this._reportingObserver=new ReportingObserverWrapper(this._onReportReceived),this._reportingObserver.start()),this.on(\"domReady\",function(){this._initDocument(deferred(this.emits(\"documentReady\"),0,\"SDKAdapter._startObservingEnvironment deferred documentReady\",this.useAsap))}.bind(this)),this.once(\"sdkReady\",function(){this.collectAndTrackData(function(e){var t=this.tagElement.parentNode,i={width:this.getTopWindow().innerWidth,height:this.getTopWindow().innerHeight},n={width:this.tagWindow.innerWidth,height:this.tagWindow.innerHeight},r={scope:\"global\",userAgent:this.getTopWindow().navigator.userAgent,orientation:this.orientation,topmostReachableWindow:i,hostWindow:n,nesting:this.nesting,pageVisibilityApi:this.visibilityApiIsSupported,requestAnimationFrame:this.nativeRAFIsSupported,topWindowNativeRAFSupported:this.raf.isNative,allowNonNativeRAFForViewableTimeUsed:\"1\"==runtimeParams._allowNonNativeRAFForViewableTime,clientTimeZoneOffsetInMinutes:(new Date).getTimezoneOffset(),supportsContainerViewability:this.supportsContainerViewability,supportsContainerInitialViewability:this.supportsContainerInitialViewability,tagParentWidth:t?t.clientWidth:\"\",tagParentHeight:t?t.clientHeight:\"\",ampDetected:this.ampDetected,ampNestingLevel:this.ampNestingLevel,safeFrameDetected:this.safeFrameDetected,fetchSupported:isFetchSupported(),asapEnabled:this.useAsap,nativePromisesSupported:isNativeImplementation(window.Promise),beaconSupported:isBeaconSupported(),IntersectionObserverSupported:\"IntersectionObserver\"in window&&\"IntersectionObserverEntry\"in window&&\"intersectionRatio\"in window.IntersectionObserverEntry.prototype,isMutationObserverSupported:isNativeImplementation(window.MutationObserver),webView:deviceInfo.browser.webView(),isWindowOpenNative:\"function\"==typeof this.getTopWindow().open&&Function.prototype.toString.call(this.getTopWindow().open).indexOf(\"[native code]\")>-1};if(runtimeParams.universalTagSignals&&(r.universalTagSignals=runtimeParams.universalTagSignals),runtimeParams.protoLoading&&(r.protoLoading=runtimeParams.protoLoading),(!this.nesting.iframe||this.nesting.friendlyIframe)&&(r.topWindowLocation=this.getTopWindow().location.protocol+\"\/\/\"+this.getTopWindow().location.host,\"undefined\"!=typeof r.topWindowLocation)){r.topWindowLocationLength=r.topWindowLocation.length;var o=200;r.topWindowLocationLength>o&&(r.topWindowLocation=r.topWindowLocation.slice(0,o)+\"...\")}e(r)}.bind(this),\"environmentInfo\")}.bind(this)),this._renderBeforeDomReady)this.emit(\"domReady\");else{var a=!1;this._waitForDomReady(function(){a||(this.emit(\"domReady\"),a=!0)}.bind(this))}this._listening=!0}},SDKAdapter.prototype._onReportReceived=function(){throw new Error(\"SDKAdapter._onReportReceived not implemented!\")},SDKAdapter.prototype._initSdk=function(e){e()},SDKAdapter.prototype._initDocument=function(e){e()},SDKAdapter.prototype._onKeyboardShown=function(){this._keyboardShown=!0},SDKAdapter.prototype._onKeyboardHidden=function(){this._keyboardShown=!1,defer(this._updatePlacements)},SDKAdapter.prototype.setIABFriendlyIframeSize=function(){},SDKAdapter.prototype._createViewportListener=function(){var e=this,t={_resizeCallback:null,_viewportChangeCallback:null,start:function(t,i){var n=e.getTopWindow();this._resizeCallback=t,this._viewportChangeCallback=i,n.addEventListener(\"resize\",this._resizeHandler,!1),n.addEventListener(\"scroll\",this._scrollHandler,!1),ios()&&(n.addEventListener(\"focus\",this._focusHandler,!0),n.addEventListener(\"blur\",this._blurHandler,!0))},stop:function(){var t=e.getTopWindow();t.removeEventListener(\"resize\",this._resizeHandler,!1),t.removeEventListener(\"scroll\",this._scrollHandler,!1),ios()&&(t.removeEventListener(\"focus\",this._focusHandler,!0),t.removeEventListener(\"blur\",this._blurHandler,!0))}};return t._resizeHandler=function(){e.hacks.useResizeOnScroll&&(t.numTimesScrollTriggeredAfterResize=0),\"undefined\"!=typeof window?(this._resizeCallback(),this._viewportChangeCallback(),\"undefined\"!=typeof window.admarvelSDKVersion&&defer(this._resizeCallback.bind(this),200)):e.dismiss()}.bind(t),t._scrollHandler=function(){\"undefined\"!=typeof window?(e.hacks.useResizeOnScroll&&void 0!==t.numTimesScrollTriggeredAfterResize&&(t.numTimesScrollTriggeredAfterResize++,t.numTimesScrollTriggeredAfterResize<=2&&this._resizeCallback()),this._viewportChangeCallback()):e.dismiss()}.bind(t),t._focusHandler=function(t){[\"INPUT\",\"TEXTAREA\"].indexOf(t.target.nodeName)>-1&&(e._keyboardShown=!0)},t._blurHandler=function(){e._keyboardShown=!1;var i=ios(\"9\",null)?100:0;defer(function(){e._keyboardShown||(t._resizeCallback(),t._viewportChangeCallback())},i)},t},SDKAdapter.prototype._createOrientationObserver=function(){var e=this,t=this.getTopWindow(),i={_orientationChangeEventQueued:!1,start:function(){t.addEventListener(\"orientationchange\",this._handler,!1)},stop:function(){t.removeEventListener(\"orientationchange\",this._handler,!1)},getOrientation:function(){return e._normalizeOrientation(t.orientation)||0},_handler:function(){\"undefined\"!=typeof window?(e.emit(\"_rawOrientationChange\"),i._orientationChangeEventQueued=!0,e.once(\"resize\",i._trigger),setTimeout(i._trigger,1e3)):e.dismiss()},_trigger:function(){i._orientationChangeEventQueued&&(i._orientationChangeEventQueued=!1,defer(e.emits(\"orientationchange\")))}};return i},SDKAdapter.prototype._createContainerViewabilityObserver=function(){var e=this;return{isViewable:!1,start:function(){defer(function(){this.isViewable=!0,e.emit(\"containerViewableChange\",this.isViewable)}.bind(this),void 0,void 0,this.useAsap)},stop:function(){}}},SDKAdapter.prototype.triggerLoadedEvent=function(e){this.domApi.loaded=!0,this.domApi.viewabilityObservee=e,this._dispatchCeltraLoadedEvent(this.tagElement)},SDKAdapter.prototype.triggerClosedEvent=function(){this._dispatchCeltraClosedEvent(this.tagElement)},SDKAdapter.prototype._dispatchCeltraLoadedEvent=function(e){var t=e.ownerDocument.createEvent(\"HTMLEvents\");t.initEvent(\"celtraLoaded\",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype._dispatchCeltraClosedEvent=function(e){var t=e.ownerDocument.createEvent(\"HTMLEvents\");t.initEvent(\"celtraClosed\",!0,!1),e.dispatchEvent(t)},SDKAdapter.prototype.waitForDisplayed=function(e){return this._displayed?defer(e):void this.once(\"displayed\",e)},SDKAdapter.prototype.waitForContainerViewable=function(e){if(this.containerIsViewable)return defer(e,void 0,void 0,this.useAsap);var t=function(i){i&&(this.off(t),defer(e,void 0,void 0,this.useAsap))}.bind(this);this.on(\"containerViewableChange\",t)},SDKAdapter.prototype._createDocumentAttachmentObserver=function(){var e=this,t=e.tagElement,i=e.getTopWindow(),n=new i.Function(\"f\",\"return function() { f(); };\"),r=new i.Function(\"f\",\"interval\",\"return setTimeout(f, interval);\"),o=new i.Function(\"f\",\"return requestAnimationFrame(f);\"),a={_interval:60,_detachmentHandler:null,_timer:null,_topWinTimerTickWrapper:null,_rafRequestId:null,_topWinRafTickWrapper:null,start:function(e){this._detachmentHandler=e,this._topWinTimerTickWrapper=n(this._timerTick.bind(this)),this._timer=r(this._topWinTimerTickWrapper,this._interval),this._topWinRafTickWrapper=n(this._rafTick.bind(this)),this._rafRequestId=o(this._topWinRafTickWrapper)},stop:function(){i.clearTimeout(this._timer),this._timer=null,null!==this._rafRequestId&&(i.cancelAnimationFrame(this._rafRequestId),this._rafRequestId=null)},_timerTick:function(){this._isDetached()?this._detachmentHandler():this._timer=r(this._topWinTimerTickWrapper,this._interval)},_rafTick:function(){this._isDetached()?this._detachmentHandler():this._rafRequestId=o(this._topWinRafTickWrapper)},_isDetached:function(){if(t.parentNode&&t.ownerDocument.defaultView&&window&&window.document){for(var e=t;(e=e.parentNode)&&e&&e!==e.ownerDocument.documentElement;);return e?!1:(this._timer=null,!0)}return!0}};return a},SDKAdapter.prototype._normalizeOrientation=function(e){var t=this.getTopWindow().navigator.userAgent,i=[\"Nexus 10\",\"GT-N8\",\"SM-P60\",\"GT-P5\",\"SCH-19\",\"GT-P7\",\"SM-T9\",\"SM-T8\"];return i.some(function(e){return-1!=t.indexOf(e)})&&(e+=90,270==e&&(e=-90)),e},SDKAdapter.prototype._waitForDomReady=function(e){var t=this.getTopWindow().document;\"interactive\"===t.readyState||\"loaded\"===t.readyState||\"complete\"===t.readyState?defer(e,0,\"SDKAdapter._waitForDomReady defer cb\",this.useAsap):t.addEventListener(\"DOMContentLoaded\",e,!1)},SDKAdapter.prototype.waitForWindowLoad=function(e){var t=this.getTopWindow(),i=30,n=!1,r=function(){n||(n=!0,e())};\"complete\"===t.document.readyState?defer(e,0,\"SDKAdapter.waitForWindowLoad readyState === complete cb\",this.useAsap):(t.setTimeout(r,1e3*i),t.addEventListener(\"load\",r,!1))},SDKAdapter.prototype._stopObservingEnvironment=function(){this._listening&&(this.resizeListener.stop(this._handleResize),this.orientationObserver.stop(),this.documentAttachmentObserver.stop(),this._reportingObserver&&this._reportingObserver.stop(),this._listening=!1)},SDKAdapter.prototype.setMinimumSize=function(){},SDKAdapter.prototype._handleResize=function(){var e=!1;this.emit(\"beforeResize\",function(t){e=t}),e?defer(function(){this.emit(\"resize\")}.bind(this),700):this.emit(\"resize\")},SDKAdapter.prototype._handleViewportChange=function(){this.emit(\"viewportChange\")},SDKAdapter.prototype._handleOrientationChange=function(e){this.emit(\"orientationchange\",e)},SDKAdapter.prototype._handleDetachedFromDocument=function(){this.dismiss()},SDKAdapter.prototype._updatePlacements=function(e){function t(){--i||(e&&e(),defer(n.emits(\"placementsUpdated\"),void 0,void 0,this.useAsap))}if(e=e||noop,this._keyboardShown)return e();var i=0,n=this;for(var r in this.placements)i++,\"undefined\"!=typeof window&&this.placements[r].update(t,this.adBehavior.crossScreenSticky)},SDKAdapter.prototype._stopAllMedia=function(e){this._stopMediaTagsInPlacements(),this.emit(\"mediaStopRequested\",e)},SDKAdapter.prototype._stopMediaTagsInPlacements=function(){for(var e in this.placements)for(var t=this.placements[e].querySelectorAll(\"audio,video\"),i=0;i<t.length;i++)t[i].hasAttribute(\"x-celtra-media\")||\"function\"!=typeof t[i].pause||t[i].pause()},SDKAdapter.prototype.createPlacements=function(e,t){var i=Object.keys(e),n=Object.keys(this.placements),r=i.filter(function(e){return-1==n.indexOf(e)}),o=this.perf.start(\"Adapter.createPlacements\",r);if(0==r.length)o.end(),defer(t,0,\"SDKAdapter.createPlacements defer no placements callback\",this.useAsap);else{var a=new TaskScheduler,s=this.useAsap;a.when(r).run(function(){o.end(),defer(t,0,\"SDKAdapter.createPlacements defer callback\",s)}),r.forEach(function(t){var i=e[t],n={attachment:i.attachment,positioning:i.positioning,type:i.type},r=this.perf.start(\"Adapter.createPlacement\",{name:t,descriptor:n});this.createPlacement(e[t],function(e){r.end(),this.placements[t]=e,defer(a.notifies(t),0,\"SDKAdapter.createPlacements defer scheduler notifies\",this.useAsap)}.bind(this))},this)}},SDKAdapter.prototype.createPlacement=function(){throw new Error(\"SDKAdapter.createPlacement not implemented!\")},SDKAdapter.prototype.destroyPlacement=function(e){for(var t in this.placements)t==e&&(this.placements[t].destroy(),delete this.placements[t])},SDKAdapter.prototype.hook=function(e,t){this._hooks[e]=t},SDKAdapter.prototype.waitForHook=function(e,t){var i=Array.prototype.slice.call(arguments,1);this._hooks[e]?this._hooks[e].apply(null,i):t()},SDKAdapter.prototype.getPlacementRect=function(e){return e.root?CRect.adopt(e.root.getBoundingClientRect()):CRect.ZERO},SDKAdapter.prototype.getViewportRect=function(){var e=this.getTopWindow();return CRect.adopt({left:0,top:0,width:e.innerWidth,height:e.innerHeight})},SDKAdapter.prototype.expand=function(){throw new Error(\"SDKAdapter.expand not implemented!\")},SDKAdapter.prototype.collapse=function(){throw new Error(\"SDKAdapter.collapse not implemented!\")},SDKAdapter.prototype.dismiss=function(){throw new Error(\"SDKAdapter.dismiss not implemented!\")},SDKAdapter.prototype.resize=function(){throw new Error(\"SDKAdapter.resize not implemented!\")},SDKAdapter.prototype.playVideoInPlayer=function(){throw new Error(\"SDKAdapter.playVideoInPlayer not implemented!\")},SDKAdapter.prototype.callPhone=function(e){window.location.href=\"tel:\"+encodeURIComponent(e)},SDKAdapter.prototype.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e},SDKAdapter.prototype.openPotentialUniversalOrAppLink=function(){this.openBrowser.apply(this,arguments)},SDKAdapter.prototype.getApp=function(){throw new Error(\"SDKAdapter.getApp not implemented!\")},SDKAdapter.prototype.canSaveImage=function(){throw new Error(\"SDKAdapter.canSaveImage not implemented!\")},SDKAdapter.prototype.saveImage=function(){throw new Error(\"SDKAdapter.saveImage not implemented!\")},SDKAdapter.prototype.getVideoCapabilities=function(){return{}},SDKAdapter.prototype.sendToEventMonitor=function(){},SDKAdapter.prototype.notifycreativeRendered=function(){},SDKAdapter.prototype.getTopWindow=function(){if(this._topWindow)return this._topWindow;var e=window;try{for(;\"undefined\"!=typeof e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(t){}return this._topWindow=e},SDKAdapter.prototype.inNativeFullscreen=function(){return[\"fullscreenElement\",\"webkitFullscreenElement\",\"mozFullScreenElement\",\"msFullscreenElement\"].some(function(e){var t=this.getTopWindow().document[e];return t&&null!==t}.bind(this))},SDKAdapter.prototype.trackEventsAndOpenBrowser=function(e,t,i,n){if(!e)return this.trackingCenter.track({name:\"userError\",userErrorId:\"exitUriIsEmpty\"}),(i||noop)();var r=!1,o=function(){r||(r=!0,this.openBrowser(e,t,n),i&&i())}.bind(this);this._stopAllMedia(),!this.canOpenUrlInSameWindow||t?(this.trackingCenter.flush(),o()):(this.trackingCenter.flush(o),defer(o,this._MAX_TRACKING_DURATION))},SDKAdapter.prototype.openBrowser=function(e,t,i){t?this._tryOpenInNewWindow(e,i):this._tryOpenInSameWindow(e,i)},SDKAdapter.prototype._openInNewWindow=function(e){try{var t=this.getTopWindow().open(e);return!t||t.closed||\"undefined\"==typeof t.closed?!1:!0}catch(i){return!1}},SDKAdapter.prototype._tryOpenInNewWindow=function(e,t){return this._openInNewWindow(e,t)?!0:(this.aggregatorTracking.trackAggregator(\"openBrowserFailed\",1,{targetWindow:\"new\"}),!1)},SDKAdapter.prototype._openInSameWindow=function(){throw new Error(\"SDKAdapter._openInSameWindow not implemented!\")},SDKAdapter.prototype._tryOpenInSameWindow=function(e,t){try{return this._openInSameWindow(e,t),!0}catch(i){return this.aggregatorTracking.trackAggregator(\"openBrowserFailed\",1,{targetWindow:\"same\"}),!1}},SDKAdapter.prototype.getPageDimensions=function(){var e=this.getTopWindow().document,t=e.body,i=e.documentElement;return{height:Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),width:Math.max(t.scrollWidth,t.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}},SDKAdapter.prototype.saveCalendarEvent=function(e,t){var i=function(e){if(deviceInfo.os.ios()){var t=adapter.hacks.useDefaultProtocolForSaveCalendar?\"https:\":\"webcal:\";return{url:CCalendar.getEventICSUrl(e,t),openInNewWindow:!1}}return{url:CCalendar.getEventGoogleCalendarUrl(e),openInNewWindow:!0}}(e);i&&i.url?(this.openBrowser(i.url,i.openInNewWindow),t(!0)):t(!1)},SDKAdapter.prototype.startObscuringContent=function(){},SDKAdapter.prototype.stopObscuringContent=function(){},SDKAdapter.prototype.setOrientationLock=function(){return!1},SDKAdapter.prototype.autoLock=function(){return!1},SDKAdapter.prototype._getDefaultLockOrientation=function(){return\"a\"},SDKAdapter.prototype.determineLockOrientation=function(){function e(){return this.orientation%180==0?\"portrait\":\"landscape\"}var t=creative.unitSizes.modal,i=void 0,n=(this.runtimeParams.lockOrientation||this._getDefaultLockOrientation()).toLowerCase();return i=\"n\"===n?\"noOrientation\":\"l\"===n?\"landscape\":\"p\"===n?\"portrait\":\"a\"===n&&t?t.width<t.height?\"portrait\":t.width>t.height?\"landscape\":e():e()},SDKAdapter.prototype.collectAndTrackData=function(e,t){function i(){try{e(function(e){e.name=t,this.trackingCenter.trackNoLaterThan(e,n)}.bind(this))}catch(i){this.trackingCenter.trackNoLaterThan({name:t,error:i.message+\"\\n\"+i.stack},n)}}if(\"function\"!=typeof e)throw new Error(\"The dataCollector param was not a function.\");if(\"undefined\"==typeof t)throw new Error(\"The eventName param was not defined.\");var n=1e3;defer(i.bind(this),void 0,void 0,this.useAsap)},SDKAdapter.prototype._createViewportElement=function(){var e=document.createElement(\"div\");return e.id=\"viewport\",e.style.cssText=\"position: absolute; left: 0; top: 0; width: 100%; height: 100%; overflow: visible;\",this.tagWindow.document.body.appendChild(e),e},SDKAdapter.prototype.getViewportGeometry=function(e){return getViewportGeometry(this.getTopWindow(),e)},SDKAdapter.prototype._getViewportElement=function(){return this.viewport},SDKAdapter.prototype.listenForExpandErrors=function(){},SDKAdapter.prototype.enableScroll=function(){},SDKAdapter.prototype.disableScroll=function(){};;\nfunction BrowserAdapter(){BrowserAdapter.uberConstructor.apply(this,arguments),this.isSingleOccupant=!1,this.hasDeadZones=ios(\"7\"),this.isRxAvailable=!0,this.canOpenUrlInSameWindow=!0,this.on(\"ready\",this.onReadyCallback.bind(this)),this.commentsExtensionsEnabled=1==this.runtimeParams.standalonePreview||1==this.runtimeParams.campaignExplorer,this.isPreview=\"1\"==this.runtimeParams.mobilePreview||\"1\"==this.runtimeParams.standalonePreview}inherit(BrowserAdapter,SDKAdapter),Object.defineProperty(BrowserAdapter.prototype,\"assumeScrollSupported\",{get:function(){var e=this.getTopWindow().document.body.scrollHeight>this.getTopWindow().innerHeight;return e&&!this.nesting.hostileIframe}}),BrowserAdapter.prototype.onReadyCallback=function(){this._setupMouseLeaveObserver(),defer(this.emits(\"displayed\"),void 0,\"BrowserAdapter emits displayed on ready\",this.useAsap)},BrowserAdapter.prototype._setupMouseLeaveObserver=function(){if(!deviceInfo.deviceType.desktop()){var e=this.getTopWindow();\"ontouchstart\"in e||navigator.msMaxTouchPoints||attach(e.document,\"mouseout\",function(t){t=t?t:e.event;var i=e.document.documentElement,r=Math.max(i.clientWidth,e.innerWidth||0),n=Math.max(i.clientHeight,e.innerHeight||0),o=t.clientX||t.pageX,s=t.clientY||t.pageY,a=1>o,l=o>r-1,p=1>s,d=s>n-1;t.toElement&&\"HTML\"!==t.toElement.tagName||!(a||l||p||d)||Object.keys(this.placements).forEach(function(e){this.placements[e].touchEventSimulator&&this.placements[e].touchEventSimulator.cancelInteraction()},this)}.bind(this),!1)}},BrowserAdapter.prototype._enableClickShield=function(){function e(e){e.preventDefault(),e.stopPropagation(),i()}function t(){a&&(new Date-p>r?i():o.requestAnimationFrame(t))}function i(){a&&a.parentNode&&(a.removeEventListener(\"click\",e,!0),a.parentNode.removeChild(a),a=null)}var r=500,n=Math.round(1e4*Math.random()),o=this.getTopWindow(),s=o.document,a=(o.document.documentElement,s.createElement(\"div\")),l=s.createElement(\"script\"),p=new Date;a.id=\"celtra-click-shield-\"+n,a.style.position=\"absolute\",a.style.left=a.style.top=0,a.style.width=\"100%\",a.style.height=\"100%\",a.style.background=\"none\",a.style.zIndex=Placement.ZINDEX_MAX,a.style.webkitTapHighlightColor=\"rgba(0,0,0,0)\",a.addEventListener(\"click\",e,!0),s.body.appendChild(a),l.type=\"text\/javascript\";var d=\"window.setTimeout(function() { var shield = document.getElementById('\"+a.id+\"'); if (shield) { shield.parentNode.removeChild(shield); }}, \"+r+\");\";try{l.appendChild(s.createTextNode(d))}catch(c){l.text=d}a.appendChild(l),o.requestAnimationFrame(t),defer(i,r)},BrowserAdapter.prototype._createContainerViewabilityObserver=function(){var e=this,t=this.getTopWindow().document,i={isSupported:!1,propertyName:\"\",eventName:\"\",isVisible:function(){return this.isSupported?!t[this.propertyName]:!0},init:function(){[\"webkit\",\"moz\",\"ms\",\"\"].forEach(function(e){var i=e?e+\"Hidden\":\"hidden\";i in t&&(this.isSupported=!0,this.propertyName=i,this.eventName=e+\"visibilitychange\")},this)}};i.init();var r=this.useAsap,n={isViewable:!1,start:function(){i.isVisible()&&defer(o,void 0,\"BrowserAdapter observer start\",r),i.isSupported&&t.addEventListener(i.eventName,o)},stop:function(){i.isSupported&&t.removeEventListener(i.eventName,o)}},o=function(){var t=this.isViewable;this.isViewable=i.isVisible(),t!=this.isViewable&&e.emit(\"containerViewableChange\",this.isViewable)}.bind(n);return n},BrowserAdapter.prototype._downsizePlacements=function(){for(var e in this.placements)\"screen\"!==this.placements[e].positioning||this.placements[e].preventDownsizeHack||this.placements[e].setSize(1,1,!0)},BrowserAdapter.prototype._getUnitViewabilityObserver=function(e,t){var i=-1!==[\"newGeometryWithSampling\",\"newGeometryWithoutSampling\"].indexOf(this.experiments.get(\"UseNewUnitViewabilityLogic\")&&this.experiments.get(\"UseNewUnitViewabilityLogic\").chosenVariant),r=\"IntersectionObserver\"in window&&\"IntersectionObserverEntry\"in window&&\"intersectionRatio\"in window.IntersectionObserverEntry.prototype,n=i&&r;return this._unitViewabilityObserver||(this._unitViewabilityObserver=new UnitViewabilityObserver(this,e,t,n)),this._unitViewabilityObserver},BrowserAdapter.prototype.waitForViewableCore=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableCore(i)},BrowserAdapter.prototype.waitForViewableIAB=function(e,t,i){return this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i)},BrowserAdapter.prototype.removeViewabilityListener=function(e,t,i){this._getUnitViewabilityObserver(e,t).removeListener(i)},BrowserAdapter.prototype._getActivePlacementOrUnitGeometry=function(){var e=this.placements[this.activeGeometryBaseline.placement];if(!e)return null;var t;e.visible?t=e.getPlacementGeometry():(e.root.style.visibility=\"hidden\",e.root.style.display=\"block\",t=e.getPlacementGeometry(),e.root.style.display=\"none\",e.root.style.visibility=\"\");var i=e.creative&&e.creative.unitSizes&&e.creative.unitSizes[this.activeGeometryBaseline.unit];return 0===t.height&&i&&(t.height=i.height),0===t.width&&i&&(t.width=i.width),t},BrowserAdapter.prototype._getWindowForPreviewMessaging=function(){return this.adBehavior.requiresTopWindowParentForPreviewMessaging?this.getTopWindow().parent:this.getTopWindow()},BrowserAdapter.prototype._disableScrollHandler=function(e){-1==[\"INPUT\",\"TEXTAREA\",\"SELECT\"].indexOf(e.target.tagName)&&e.preventDefault()};;\nfunction MobileWebAdapter(e,t,i){if(MobileWebAdapter.uberConstructor.apply(this,arguments),this.isMobileWebAdapter=!0,this.isInlineWebPlacement=!(this.isSingleOccupant||this.nesting.hostileIframe||this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe),this.muteSoundIfVideoStartedOnTouchStartEvent=android(),this.unitScript=unitScript,this.requiredDeviceType=requiredDeviceType,this.trackingCenter=t,this.aggregatorTracking=i,this.__CELTRA.stickyPresent&&this.runtimeParams.sticky)return t.track({name:\"userError\",userErrorId:\"multipleStickyAds\"}),defer(this.dismiss.bind(this));if(this.runtimeParams.sticky&&(this.__CELTRA.stickyPresent=!0),this.hacks.needsConstantFlashing=kindleSilk(\"1\")||\/\\bHTC.One.S\\b\/.test(navigator.userAgent),this.hacks.requiresHidingInputsAndLinks=android()&&(\/HTC\/g.test(navigator.userAgent)||\"hiding\"==this.runtimeParams.focusableHighlightFix),this.hacks.fixFocusablesHighlighting=android(\"4.0\"),this.hacks.requiresWrappingPlacementWithComments=windows(\"10\"),this.hacks.useDefaultProtocolForSaveCalendar=deviceInfo.os.ios()&&deviceInfo.browser.safari()&&!deviceInfo.browser.facebookApp(),this.providesCloseButton=!1,this.enableCustomStateTransitions=!(\/Windowshop\/.test(navigator.userAgent)&&kindle()),this.preventIABFriendlyIFrameBusting=\"1\"===this.runtimeParams.preventIFrameBusting&&(\"undefined\"!=typeof BannerFormat||\"undefined\"!=typeof CrossScreenBannerFormat),(!this.nesting.iframe||this.nesting.iabFriendlyIframe)&&(this.viewabilityMeasurable={viewable00:!0,viewable501:this.visibilityApiIsSupported},this.canMeasureViewportPlacementGeometry=!0,this.supportsContainerViewability=!0,this.supportsContainerInitialViewability=!0),this.nesting.iframe&&!this.nesting.iabFriendlyIframe||this.runtimeParams.sticky||(this.canMeasureViewportPlacementGeometryRelativeToPage=!0),this.win=this.tagWindow,this.nesting.iabFriendlyIframe){var n=this.tagWindow;try{for(;n!==n.parent&&getWindowNesting(n.parent).iabFriendlyIframe;)n=n.parent}catch(r){}this.iabWin=n,this.readIABIFrameHeight=function(){function e(e){return\"%\"===e.slice(-1)?\"%\":\"px\"}var t=this.tagWindow.frameElement,i=t.style.height||t.getAttribute(\"height\")||\"0\",n=parseInt(i,10),r=e(i);return{value:n,unit:r,toString:function(){return n+r}}},this.preventIABFriendlyIFrameBusting||(this.win=this.iabWin.parent,this.hostElement=this.win.document.createElement(\"div\"),this.iabWin.frameElement.parentNode.insertBefore(this.hostElement,this.iabWin.frameElement.nextSibling))}addClass(this.hostElement,\"celtra-ad-inline-host\"),this.hacks.requiresWrappingPlacementWithComments&&(this.hostElement.parentNode.insertBefore(this.win.document.createComment(\"ie10hack\"),this.hostElement),this.hostElement.parentNode.insertBefore(this.win.document.createComment(\"ie10hack\"),this.hostElement.nextSibling)),this._parentPageHighlightStyle=null,this._downsizePlacements=this._downsizePlacements.bind(this),this._updatePlacements=this._updatePlacements.bind(this),this._topListenerAttached=!1,this._hasBeenViewable=!1,this.useFSVP=!(this.nesting.hostileIframe&&!deviceInfo.os.ios()&&!this.adBehavior.interstitial),this.restoreScrollOnCollapse=!deviceInfo.deviceType.desktop(),this.hostElement.activeAdapter||(this.hostElement.activeAdapter=this,this.on(\"documentReady\",function(){this.hacks.needsConstantFlashing&&this.getTopWindow().setInterval(function(){for(var e in this.placements)this.placements[e]._flash()}.bind(this),200),this.adBehavior.adWillHideIframe||this.preventIABFriendlyIFrameBusting||this.hideIABFriendlyIframe(),this.useFSVP&&\"undefined\"!=typeof FullscreenVideoPlayer&&FullscreenVideoPlayer.init({baseUrl:(this.runtimeParams.secure?urls.staticUrl:urls.insecureStaticUrl)+\"runner\/FullscreenVideoPlayer\/\"}),this.emit(\"ready\")}.bind(this)),this.trackViewableAreaRatio=this.trackViewableAreaRatio.bind(this),this._viewableAreaRatio=0,this.useFixedPositioningForInterstitial=deviceInfo.os.ios()||deviceInfo.deviceType.desktop())}inherit(MobileWebAdapter,BrowserAdapter),MobileWebAdapter.prototype.hideIABFriendlyIframe=function(){this.adBehavior.interstitial||this.nesting.iabFriendlyIframe&&(this.iabWin.frameElement.style.display=\"none\")},MobileWebAdapter.prototype.setMinimumSize=function(e,t){this.hostElement.style.minWidth=e+\"px\",this.runtimeParams.sticky||(this.hostElement.style.minHeight=t+\"px\")},MobileWebAdapter.prototype.setIABFriendlyIframeSize=function(e,t,i){if(this.nesting.iabFriendlyIframe&&this.iabWin&&this.preventIABFriendlyIFrameBusting){null!==e&&(this.iabWin.frameElement.style.minWidth=e+\"px\"),null!==t&&(this.iabWin.frameElement.style.minHeight=t+\"px\"),this.iabWin.frameElement.style.width=\"100%\";var n=this.readIABIFrameHeight();this.iabWin.frameElement.style.height=i&&\"px\"===n.unit&&n.value>=t?n.toString():\"100%\"}},MobileWebAdapter.prototype._createViewportListener=function(){var e;return android()||kindleSilk()?(e=new ViewportObserver(this.getTopWindow()),e.on(\"keyboardShown\",this._onKeyboardShown),e.on(\"keyboardHidden\",this._onKeyboardHidden),this.on(\"_rawOrientationChange\",this._downsizePlacements)):(e=MobileWebAdapter.uber._createViewportListener.apply(this),ios(\"8\",null)&&(e._resizeHandler=deferred(e._resizeHandler),e._scrollHandler=deferred(e._scrollHandler))),e},MobileWebAdapter.prototype.createPlacement=function(e,t){function i(){defer(function(){t&&t(s),s instanceof IframePlacement&&this._reportingObserver&&this._reportingObserver.createChildObserverAndStartObserving(s.getContentWindow())}.bind(this),void 0,void 0,h)}var n={trackingCenter:this.trackingCenter,aggregatorTracking:this.aggregatorTracking,experiments:this.experiments,adapter:this,console:console,runtimeParams:this.runtimeParams,celtraDeviceInfoRuntimeParams:this.runtimeParams.deviceInfo,nextFrame:this.nextFrame,cancelFrame:this.cancelFrame,Ticker:this.Ticker,macros:this.macros,perf:this.perf},r={urls:urls,urlOpenedOverrideUrls:this.urlOpenedOverrideUrls,storeOpenedOverrideUrls:this.storeOpenedOverrideUrls,urlOpenedUrlAppendage:this.urlOpenedUrlAppendage,clickThroughDestinationUrl:this.clickThroughDestinationUrl},s=null;switch(this._initialInnerDims={height:adapter.getTopWindow().innerHeight,width:adapter.getTopWindow().innerWidth},e.type){case\"unit\":if([\"top\",\"bottom\"].indexOf(runtimeParams.sticky)>-1&&\"static\"==e.positioning){e.positioning=\"screen\",e.attachment=\"body\";var a={stickiness:runtimeParams.sticky,showDismissButton:\"1\"==runtimeParams.showDismissButton||\"1\"==runtimeParams.showStickyCloseButton,baseUrl:runtimeParams.secure?urls.staticUrl:urls.insecureStaticUrl,dismissCallback:function(){this.placements.banner.creative.units.banner.trackCreativeDismissed(),this.dismiss()}.bind(this)};s=new StickyPlacement(e.positioning,this.unitScript,n,r,a)}else s=new IframePlacement(e.positioning,this.unitScript,n,r);break;case\"layer\":s=new DivPlacement(e.positioning);break;default:throw new Error(\"I can't do that, Dave.\")}if(!s.root||!s.root.parentNode){var o;\"node\"==e.attachment?o=e.parentNode:\"placement\"==e.attachment?o=e.placement.root:\"inline\"==e.attachment?this.isInlineWebPlacement||!this.adBehavior.attachInlinePlacementToViewport?o=this.hostElement:(this.viewport||(this.viewport=this._createViewportElement()),o=this.viewport):o=this.adBehavior.interstitial&&this.nesting.friendlyIframe&&!this.nesting.iabFriendlyIframe&&\"1\"==this.runtimeParams._nobust?this.tagWindow.document.body:this.getTopWindow().document.body,s.attachTo(o,i.bind(this))}(ios()||kindleSilk())&&s.once(\"populated\",function(){(s instanceof IframePlacement||!(s instanceof IframePlacement)&&!this._topListenerAttached)&&(s.getContainer().ownerDocument.addEventListener(\"focus\",this._onKeyboardShown,!0),s.getContainer().ownerDocument.addEventListener(\"blur\",this._onKeyboardHidden,!0),this._topListenerAttached=!0)}.bind(this));var h=this.useAsap},MobileWebAdapter.prototype.getTopWindow=function(){return this.nesting.hostileIframe?this.tagWindow:SDKAdapter.prototype.getTopWindow.apply(this)},MobileWebAdapter.prototype.expand=function(e,t){return this._stopAllMedia(),this.nesting.hostileIframe?(this._tryOpenInNewWindow(this.placements.banner.creative.wrapRedirectPageUrl(this.getModalUrl())),void(e&&e())):(this.animateExpansion=\"\"!=t.animation&&this.enableCustomStateTransitions,this._preExpandScroll={x:this.win.scrollX,y:this.win.scrollY},void this.waitForHook(\"beforeExpand\",function(){this._enableClickShield(),defer(function(){this.emit(\"stateChange\",\"expanded\")}.bind(this)),e&&e()}.bind(this)))},MobileWebAdapter.prototype.collapse=function(e){this._stopAllMedia(),this.waitForHook(\"beforeCollapse\",function(){this.restoreScrollOnCollapse&&this._preExpandScroll&&this.win.scrollTo(this._preExpandScroll.x,this._preExpandScroll.y),this._enableClickShield(),defer(function(){this.emit(\"stateChange\",\"default\")}.bind(this)),e&&e()}.bind(this))},MobileWebAdapter.prototype.dismiss=function(e,t){this._stopAllMedia();var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this.waitForHook(\"beforeDismiss\",function(){this.Ticker.stop(),this._stopObservingEnvironment(),this.emit(\"stateChange\",\"dismissed\"),this.trackingCenter.flush(),this.hostElement&&this.hostElement.parentNode&&(this._enableClickShield(),this.hostElement.parentNode.removeChild(this.hostElement)),this.__CELTRA.stickyPresent&&(this.runtimeParams.sticky||this.adBehavior.sticky)&&(this.__CELTRA.stickyPresent=!1),(e||noop)()}.bind(this),i)},MobileWebAdapter.prototype.resize=function(e,t){var i={};t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),this._enableClickShield(),this.waitForHook(\"beforeResize\",e,i)},MobileWebAdapter.prototype._onReportReceived=function(e){switch(e){case\"heavyAdCPUIntervention\":case\"heavyAdNetworkIntervention\":if(this.isPreview){var t=this._getWindowForPreviewMessaging();t.postMessage({name:\"heavyAdIntervention\",type:e,adBehavior:{placementGeometry:this._getActivePlacementOrUnitGeometry(),positioning:this.adBehavior.interstitial?\"interstitial\":this.runtimeParams.sticky||\"inline\"}},\"*\")}else this.trackingCenter.track({name:\"userError\",userErrorId:e}),this.trackingCenter.flushWithBeacon();this.dismiss();break;default:console.warn(\"Received unknown report!\")}},MobileWebAdapter.prototype.playVideoInPlayer=function(e,t,i){this.useFSVP?FullscreenVideoPlayer.play(e,t,i):(this.openBrowserSameWindowInHostileIFrame(t.file.getUrl()),i(!0))},MobileWebAdapter.prototype.callPhone=function(e){if(\/Chrome\/.test(navigator.userAgent)||deviceInfo.os.ios(\"9\",null)){var t=document.createElement(\"a\");t.href=\"tel:\"+encodeURIComponent(e),t.addEventListener(\"click\",function(){t.parentNode.removeChild(t)}),deviceInfo.browser.safari()&&this.nesting.hostileIframe&&(t.target=\"_top\"),this.getTopWindow().document.body.appendChild(t),t.click()}else MobileWebAdapter.uber.callPhone.apply(this,arguments)},MobileWebAdapter.prototype._openInSameWindow=function(e){this.nesting.hostileIframe?this.openBrowserSameWindowInHostileIFrame(e):this.getTopWindow().location.href=e},MobileWebAdapter.prototype.getApp=function(e){this.openBrowser(e)},MobileWebAdapter.prototype.canSaveImage=function(){return desktop()||android()?!0:!1},MobileWebAdapter.prototype.saveImage=function(e,t,i){this.openBrowser(e+\"?transform=download&name=\"+t),i()},MobileWebAdapter.prototype.getVideoCapabilities=function(){return{videoElement:this.scriptElement.getRootNode().getElementById(\"celtra-video-slot\")}},MobileWebAdapter.prototype.startObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this.stopObscuringContent(),this._parentPageHighlightStyle=this.getTopWindow().document.createElement(\"style\"),this._parentPageHighlightStyle.textContent=\"a, input, textarea, select { -webkit-tap-highlight-color: rgba(255, 0, 0, 0) !important; }input, textarea, select { visibility: hidden !important; }\",this.getTopWindow().document.querySelector(\"head\").appendChild(this._parentPageHighlightStyle))},MobileWebAdapter.prototype.stopObscuringContent=function(){this.hacks.fixFocusablesHighlighting&&(this._parentPageHighlightStyle&&this._parentPageHighlightStyle.parentNode&&this._parentPageHighlightStyle.parentNode.removeChild(this._parentPageHighlightStyle),this._parentPageHighlightStyle=null)},MobileWebAdapter.prototype._stopObservingEnvironment=function(){this._unitViewabilityObserver&&this._unitViewabilityObserver.stop(),MobileWebAdapter.uber._stopObservingEnvironment.apply(this,arguments)},MobileWebAdapter.prototype.waitForViewableIAB=function(e,t,i){this._getUnitViewabilityObserver(e,t).waitForViewableIAB(i),this.experiments.get(\"TrackViewableAreaChange\")&&this._setupViewableAreaChangeObserver()},MobileWebAdapter.prototype.trackViewableAreaRatio=function(){var e={name:\"viewableAreaRatio\",ratio:this._viewableAreaRatio};this.trackingCenter.track(e)},MobileWebAdapter.prototype._setupViewableAreaChangeObserver=function(){var e=!1,t=this.getTopWindow(),i=!0,n=0,r=0,s=1e3,a=0,o=30,h=function(){r=n;var e={name:\"largestViewableAreaRatio\",ratio:n};this.trackingCenter.track(e)}.bind(this),l=function(l){this._viewableAreaRatio=l,l>n&&(n=l),i?(i=!1,this.trackViewableAreaRatio(),h()):!e&&o>a&&(e=!0,a++,t.setTimeout(function(){e=!1,n>r&&h(),this.trackViewableAreaRatio()}.bind(this),s))}.bind(this);this._unitViewabilityObserver.addListener(l)},MobileWebAdapter.prototype._removeDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=[\"touchmove\",\"wheel\"];else var t=[\"touchstart\",\"touchmove\",\"touchend\",\"wheel\"];for(var i=0;i<t.length;i++)e.removeEventListener(t[i],this._disableScrollHandler,{passive:!1})}},MobileWebAdapter.prototype._addDisableScrollEventListeners=function(e){if(e){if(this.useNativeClickForTapDetection)var t=[\"touchmove\",\"wheel\"];else var t=[\"touchstart\",\"touchmove\",\"touchend\",\"wheel\"];for(var i=0;i<t.length;i++)e.addEventListener(t[i],this._disableScrollHandler,{passive:!1})}},MobileWebAdapter.prototype.enableScroll=function(e){this._removeDisableScrollEventListeners(e),this._removeDisableScrollEventListeners(this.getTopWindow().document)},MobileWebAdapter.prototype.disableScroll=function(e){this._addDisableScrollEventListeners(e),this._addDisableScrollEventListeners(this.getTopWindow().document)};;\nfunction ViewportObserver(t){this.win=t,this.handler=null,this.keyboardShown=!1,this.resizeDelay=200,this.heightCutoff=120,this.dimensions={portrait:{left:0,top:0,width:null,height:0},landscape:{left:0,top:0,width:null,height:0}},this.triggerTimer=this.triggerTimer.bind(this),this.commitDimensions=this.commitDimensions.bind(this),this._resizeTimer=null}extend(ViewportObserver.prototype,EventEmitter),Object.defineProperty(ViewportObserver.prototype,\"isPortrait\",{get:function(){return\"undefined\"!=typeof this.win.orientation?0==this.win.orientation||180==this.win.orientation:this.win.innerWidth<this.win.innerHeight},enumerable:!0}),Object.defineProperty(ViewportObserver.prototype,\"isLandscape\",{get:function(){return!this.isPortrait},enumerable:!0}),Object.defineProperty(ViewportObserver.prototype,\"orientation\",{get:function(){return this.isPortrait?\"portrait\":\"landscape\"},enumerable:!0}),Object.defineProperty(ViewportObserver.prototype,\"fullInnerHeigth\",{get:function(){return\"portrait\"==this.orientation?adapter._initialInnerDims.height:adapter._initialInnerDims.width},enumerable:!0}),ViewportObserver.prototype.start=function(t,i){this._resizeCallback=t,this._viewportUpdateCallback=i,this.win.addEventListener(\"orientationchange\",this.triggerTimer),this.win.addEventListener(\"resize\",this.triggerTimer),this.win.addEventListener(\"scroll\",this.triggerTimer),this.commitDimensions()},ViewportObserver.prototype.stop=function(){this._resizeCallback=null,this._viewportUpdateCallback=null,this.win.removeEventListener(\"orientationchange\",this.triggerTimer),this.win.removeEventListener(\"resize\",this.triggerTimer),this.win.removeEventListener(\"scroll\",this.triggerTimer),clearTimeout(this._resizeTimer)},ViewportObserver.prototype.triggerTimer=function(){clearTimeout(this._resizeTimer),this._resizeTimer=this.win.setTimeout(this.commitDimensions,this.resizeDelay)},ViewportObserver.prototype.commitDimensions=function(){var t=this.getViewportGeometry(),i=this.dimensions[this.orientation],e=function(){return android()&&adapter._initialInnerDims&&(this._keyboardShown=!!(this.fullInnerHeigth!=t.height&&this.fullInnerHeigth-t.height>=this.heightCutoff)),this._keyboardShown}.bind(this);null!==i.width||e()?i.width==t.width&&(i.height-this.heightCutoff>t.height?(this.keyboardShown=!0,this.emit(\"keyboardShown\")):(this.keyboardShown=!1,this.emit(\"keyboardHidden\")),this._resizeCallback(),this._viewportUpdateCallback(),this.updateDimensions()):(this._resizeCallback(),this._viewportUpdateCallback())},ViewportObserver.prototype.updateDimensions=function(){var t=this.dimensions[this.orientation],i=this.getViewportGeometry();t.left=i.left,t.top=i.top,t.width=null===t.width?i.width:t.width,t.height=Math.max(i.height,t.height)},ViewportObserver.prototype.getViewportGeometry=function(){return getViewportGeometry(this.win,\"win\")};;\n\n            Logger.initFromRuntimeParams(runtimeParams);\n\n            var urls = {\"creativeUrl\":\"https:\/\/ads.celtra.com\/compiled\/962250ad\/\",\"apiUrl\":\"https:\/\/hub.celtra.com\/api\/\",\"cachedApiUrl\":\"https:\/\/cache-ssl.celtra.com\/api\/\",\"staticUrl\":\"https:\/\/cache-ssl.celtra.com\/api\/static\/vf26f1415ae\/\",\"insecureCreativeUrl\":\"http:\/\/ads.celtra.com\/compiled\/962250ad\/\",\"insecureApiUrl\":\"http:\/\/hub.celtra.com\/api\/\",\"insecureCachedApiUrl\":\"http:\/\/cache.celtra.com\/api\/\",\"insecureStaticUrl\":\"http:\/\/cache.celtra.com\/api\/static\/vf26f1415ae\/\",\"trackingUrl\":\"https:\/\/track.celtra.com\/\",\"insecureTrackingUrl\":\"http:\/\/track.celtra.com\/\",\"geoUrl\":\"https:\/\/geo.celtra.com\/\",\"insecureGeoUrl\":\"http:\/\/geo.celtra.com\/\",\"customAudiencesUrl\":\"https:\/\/audiences.celtra.com\",\"insecureCustomAudiencesUrl\":\"http:\/\/audiences.celtra.com\",\"shareUrl\":\"https:\/\/hub-user.celtra.com\/share\/\",\"insecureShareUrl\":\"http:\/\/hub-user.celtra.com\/share\/\"};\n            urls.resourceUrl = runtimeParams.secure ? urls.staticUrl : urls.insecureStaticUrl;\n\n            var shouldBatchTrackers = !!'';\n\n            var trackingCenter = new TrackingCenter(\n                runtimeParams.sessionId,\n                runtimeParams.accountId,\n                runtimeParams.purpose,\n                runtimeParams.secure ? urls.trackingUrl : urls.insecureTrackingUrl,\n                trackers,\n                runtimeParams._batchTrackers === '1' || shouldBatchTrackers\n            );\n\n            if (runtimeParams.fallbackSdkUsed === '1') {\n                trackingCenter.track({\n                    name : 'fallbackSdkUsed',\n                    sdk  : 'MobileWeb'\n                });\n            }\n\n            var aggregatorTracking = new AggregatorTracking(trackingCenter);\n\n            var experiments = new Experiments(runtimeParams.variantChoices, trackingCenter);\n\n            var trackingLoadingTimesExperiment = experiments.get('TrackingLoadingTimes');\n\n            var perf = new PerformanceTracker(trackingCenter, experiments);\n\n            if (runtimeParams.clientTimestamp) {\n                \/\/ Do it manually instead of using var p = perf.start() + p.end() pattern because we want to log\n                \/\/ times from before PerformanceTracker is available\n                perf.collect({\n                    name: 'redirectDownload',\n                    type: 'interval',\n                    id: null,\n                    startTime: parseFloat(runtimeParams.clientTimestamp) * 1000,\n                    endTime: runtimeParams.redirectJsClientTimestamp * 1000,\n                    args: []\n                });\n            }\n\n            perf.collect({\n                name: 'payloadDownload',\n                type: 'interval',\n                id: null,\n                startTime: runtimeParams.redirectJsClientTimestamp * 1000,\n                endTime: runtimeParams.payloadJsClientTimestamp * 1000,\n                args: []\n            });\n\n            var unitName = 'banner';\n            var requiredDeviceType = 'Tablet';\n\n            perf.collect({\n                name: 'payLoadDownloadedToAdapter.new',\n                type: 'interval',\n                id: null,\n                startTime: runtimeParams.payloadJsClientTimestamp * 1000,\n                endTime: Date.now(),\n                args: []\n            });\n\n            var perfAdapterNew = perf.start('Adapter.new');\n            var adapter = new MobileWebAdapter(runtimeParams, trackingCenter, aggregatorTracking, experiments, urlOpenedOverrideUrls, storeOpenedOverrideUrls, macros, urlOpenedUrlAppendage, clickThroughDestinationUrl, perf);\n            perfAdapterNew.end();\n            trackingCenter.windowForPixels = adapter.getTopWindow();\n\n            var perfFormatNew = perf.start('Format.new');\n            var format = new BannerFormat(adapter, {\"banner\":{\"size\":null,\"layouts\":[{\"orientation\":\"independent\",\"minSize\":{\"width\":0,\"height\":0},\"unitSize\":{\"width\":728,\"height\":90},\"designTimeSize\":{\"width\":728,\"height\":90},\"unitAlignment\":{\"horizontal\":\"center\",\"vertical\":\"center\"}}]}});\n            perfFormatNew.end();\n        ";
                iframe.contentDocument.body.appendChild(sc);
            };
            })();
            